function uo(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.map(function(n){return n.split(" ").map(function(a){return a?""+r+a:""}).join(" ")}).join(" ")}function fo(r,t){return t.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+r+"$1")+"{"})}function Gt(r,t){return function(e){e&&(r[t]=e)}}function Ta(r,t,e){return function(n){n&&(r[t][e]=n)}}function Kn(r,t){return function(e){var n=e.prototype;r.forEach(function(a){t(n,a)})}}function lo(r,t){return t===void 0&&(t={}),function(e,n){r.forEach(function(a){var i=t[a]||a;i in e||(e[i]=function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var f=(o=this[n])[a].apply(o,s);return f===this[n]?this:f})})}}var co=function(){function r(){this.keys=[],this.values=[]}var t=r.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,n){var a=this.keys,i=this.values,o=a.indexOf(e),s=o===-1?a.length:o;a[s]=e,i[s]=n},r}(),vo=function(){function r(){this.object={}}var t=r.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,n){this.object[e]=n},r}(),po=typeof Map=="function",ho=function(){function r(){}var t=r.prototype;return t.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},t.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},t.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},r}();function go(r,t){var e=[],n=[];return r.forEach(function(a){var i=a[0],o=a[1],s=new ho;e[i]=s,n[o]=s}),e.forEach(function(a,i){a.connect(e[i-1])}),r.filter(function(a,i){return!t[i]}).map(function(a,i){var o=a[0],s=a[1];if(o===s)return[0,0];var u=e[o],f=n[s-1],l=u.getIndex();u.disconnect(),f?u.connect(f,f.next):u.connect(void 0,e[0]);var v=u.getIndex();return[l,v]})}var mo=function(){function r(e,n,a,i,o,s,u,f){this.prevList=e,this.list=n,this.added=a,this.removed=i,this.changed=o,this.maintained=s,this.changedBeforeAdded=u,this.fixed=f}var t=r.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=go(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=e.filter(function(i,o){var s=i[0],u=i[1],f=n[o],l=f[0],v=f[1];if(s!==u)return a.push([l,v]),!0}),this.cachePureChanged=a},r}();function se(r,t,e){var n=po?Map:e?vo:co,a=e||function(b){return b},i=[],o=[],s=[],u=r.map(a),f=t.map(a),l=new n,v=new n,c=[],d=[],p={},h=[],g=0,m=0;return u.forEach(function(b,S){l.set(b,S)}),f.forEach(function(b,S){v.set(b,S)}),u.forEach(function(b,S){var x=v.get(b);typeof x>"u"?(++m,o.push(S)):p[x]=m}),f.forEach(function(b,S){var x=l.get(b);typeof x>"u"?(i.push(S),++g):(s.push([x,S]),m=p[S]||0,c.push([x-m,S-g]),d.push(S===x),x!==S&&h.push([x,S]))}),o.reverse(),new mo(r,t,i,o,h,s,c,d)}var bo=function(){function r(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var t=r.prototype;return t.update=function(e){var n=[].slice.call(e),a=se(this.list,n,this.findKeyCallback);return this.list=n,a},r}(),So="function",xo="object",Eo="string",Mo="number",Ba="undefined",Ia=typeof window!==Ba,yo=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ct=1e-7,Yr={cm:function(r){return r*96/2.54},mm:function(r){return r*96/254},in:function(r){return r*96},pt:function(r){return r*96/72},pc:function(r){return r*96/6},"%":function(r,t){return r*t/100},vw:function(r,t){return t===void 0&&(t=window.innerWidth),r/100*t},vh:function(r,t){return t===void 0&&(t=window.innerHeight),r/100*t},vmax:function(r,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),r/100*t},vmin:function(r,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),r/100*t}};function _o(r,t,e,n){return(r*n+t*e)/(e+n)}function ue(r){return typeof r===Ba}function kt(r){return r&&typeof r===xo}function er(r){return Array.isArray(r)}function zt(r){return typeof r===Eo}function ke(r){return typeof r===Mo}function za(r){return typeof r===So}function Do(r,t){var e=r===""||r==" ",n=t===""||t==" ";return n&&e||r===t}function Ga(r,t,e,n,a){var i=dn(r,t,e);return i?e:Co(r,t,e+1,n,a)}function dn(r,t,e){if(!r.ignore)return null;var n=t.slice(Math.max(e-3,0),e+3).join("");return new RegExp(r.ignore).exec(n)}function Co(r,t,e,n,a){for(var i=function(f){var l=t[f].trim();if(l===r.close&&!dn(r,t,f))return{value:f};var v=f,c=Dr(a,function(d){var p=d.open;return p===l});if(c&&(v=Ga(c,t,f,n,a)),v===-1)return o=f,"break";f=v,o=f},o,s=e;s<n;++s){var u=i(s);if(s=o,typeof u=="object")return u.value;if(u==="break")break}return-1}function Aa(r,t){var e=zt(t)?{separator:t}:t,n=e.separator,a=n===void 0?",":n,i=e.isSeparateFirst,o=e.isSeparateOnlyOpenClose,s=e.isSeparateOpenClose,u=s===void 0?o:s,f=e.openCloseCharacters,l=f===void 0?yo:f,v=l.map(function(E){var D=E.open,C=E.close;return D===C?D:D+"|"+C}).join("|"),c="(\\s*"+a+"\\s*|"+v+"|\\s+)",d=new RegExp(c,"g"),p=r.split(d).filter(Boolean),h=p.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var S=function(E){var D=p[E].trim(),C=E,_=Dr(l,function(O){var P=O.open;return P===D}),w=Dr(l,function(O){var P=O.close;return P===D});if(_){if(C=Ga(_,p,E,h,l),C!==-1&&u)return b()&&i||(g.push(p.slice(E,C+1).join("")),E=C,i)?(x=E,"break"):(x=E,"continue")}else{if(w&&!dn(w,p,E))throw new Error("invalid format: "+w.close);if(Do(D,a)&&!o)return b(),i?(x=E,"break"):(x=E,"continue")}C===-1&&(C=h-1),m.push(p.slice(E,C+1).join("")),E=C,x=E},x,y=0;y<h;++y){var M=S(y);if(y=x,M==="break")break}return m.length&&g.push(m.join("")),g}function $t(r){return Aa(r,"")}function rr(r){return Aa(r,",")}function ka(r){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(r);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Tr(r){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(r);if(!t)return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2],a=t[3];return{prefix:e,unit:a,value:parseFloat(n)}}function Oo(r){return r.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}function _e(r,t){return t===void 0&&(t="-"),r.replace(/([a-z])([A-Z])/g,function(e,n,a){return""+n+t+a.toLowerCase()})}function Qr(){return Date.now?Date.now():new Date().getTime()}function Ft(r,t,e){e===void 0&&(e=-1);for(var n=r.length,a=0;a<n;++a)if(t(r[a],a,r))return a;return e}function Dr(r,t,e){var n=Ft(r,t);return n>-1?r[n]:e}var pn=function(){var r=Qr(),t=Ia&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(e){var n=Qr(),a=window.setTimeout(function(){e(n-r)},1e3/60);return a}}(),Ro=function(){var r=Ia&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return r?r.bind(window):function(t){clearTimeout(t)}}();function Fa(r){if(Object.keys)return Object.keys(r);var t=[];for(var e in t)t.push(e);return t}function st(r,t){var e=Tr(r),n=e.value,a=e.unit;if(kt(t)){var i=t[a];if(i){if(za(i))return i(n);if(Yr[a])return Yr[a](n,i)}}else if(a==="%")return n*t/100;return Yr[a]?Yr[a](n):n}function wo(r,t,e){return Math.max(t,Math.min(r,e))}function Zn(r,t,e,n){return n===void 0&&(n=r[0]/r[1]),[[q(t[0],ct),q(t[0]/n,ct)],[q(t[1]*n,ct),q(t[1],ct)]].filter(function(a){return a.every(function(i,o){var s=t[o],u=q(s,ct);return e?i<=s||i<=u:i>=s||i>=u})})[0]||r}function Po(r,t,e,n){if(!n)return r.map(function(d,p){return wo(d,t[p],e[p])});var a=r[0],i=r[1],o=n===!0?a/i:n,s=Zn(r,t,!1,o),u=s[0],f=s[1],l=Zn(r,e,!0,o),v=l[0],c=l[1];return a<u||i<f?(a=u,i=f):(a>v||i>c)&&(a=v,i=c),[a,i]}function To(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return e}function Cr(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return t?e/t:0}function it(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function Bo(r){return[0,1].map(function(t){return Cr(r.map(function(e){return e[t]}))})}function Fe(r){var t=Bo(r),e=it(t,r[0]),n=it(t,r[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function Nt(r,t){return Math.sqrt(Math.pow((t?t[0]:0)-r[0],2)+Math.pow((t?t[1]:0)-r[1],2))}function q(r,t){if(!t)return r;var e=1/t;return Math.round(r/t)/e}function Jn(r,t){return r.forEach(function(e,n){r[n]=q(r[n],t)}),r}function It(r,t){return r.classList?r.classList.contains(t):!!r.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Io(r,t){r.classList?r.classList.add(t):r.className+=" "+t}function zo(r,t){if(r.classList)r.classList.remove(t);else{var e=new RegExp("(\\s|^)"+t+"(\\s|$)");r.className=r.className.replace(e," ")}}function Tt(r,t,e,n){r.addEventListener(t,e,n)}function Mt(r,t,e,n){r.removeEventListener(t,e,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Le=function(r,t){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Le(r,t)};function nr(r,t){Le(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ht=function(){return Ht=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ht.apply(this,arguments)};function La(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function Go(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function Ye(r,t){if(r===t)return!1;for(var e in r)if(!(e in t))return!0;for(var e in t)if(r[e]!==t[e])return!0;return!1}function hn(r,t){var e=Object.keys(r),n=Object.keys(t),a=se(e,n,function(u){return u}),i={},o={},s={};return a.added.forEach(function(u){var f=n[u];i[f]=t[f]}),a.removed.forEach(function(u){var f=e[u];o[f]=r[f]}),a.maintained.forEach(function(u){var f=u[0],l=e[f],v=[r[l],t[l]];r[l]!==t[l]&&(s[l]=v)}),{added:i,removed:o,changed:s}}function Ya(r){r.forEach(function(t){t()})}function Qn(r){var t=0;return r.map(function(e){return e==null?"$compat"+ ++t:""+e})}function ta(r,t,e,n){if(zt(r)||ke(r))return new Lo("text_"+r,t,e,n,null,{});var a=typeof r.type=="string"?Yo:r.type.prototype.render?Xo:No;return new a(r.type,t,e,n,r.ref,r.props)}function Na(r){var t=[];return r.forEach(function(e){t=t.concat(er(e)?Na(e):e)}),t}function ra(r){var t=r.className,e=La(r,["className"]);return t!=null&&(e.class=t),delete e.style,delete e.children,e}function De(r,t){if(!t)return r;for(var e in t)ue(r[e])&&(r[e]=t[e]);return r}function Rt(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=t||{},i=a.key,o=a.ref,s=La(a,["key","ref"]);return{type:r,key:i,ref:o,props:Ht(Ht({},s),{children:Na(e).filter(function(u){return u!=null&&u!==!1})})}}var Br=function(){function r(e,n,a,i,o,s){s===void 0&&(s={}),this.type=e,this.key=n,this.index=a,this.container=i,this.ref=o,this.props=s,this._providers=[]}var t=r.prototype;return t._should=function(e,n){return!0},t._update=function(e,n,a,i){if(this.base&&!zt(n)&&!i&&!this._should(n.props,a))return!1;this.original=n,this._setState(a);var o=this.props;return zt(n)||(this.props=n.props,this.ref=n.ref),this._render(e,this.base?o:{},a),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},r}();function Ao(r,t,e){var n=hn(r,t),a=n.added,i=n.removed,o=n.changed;for(var s in a)e.setAttribute(s,a[s]);for(var s in o)e.setAttribute(s,o[s][1]);for(var s in i)e.removeAttribute(s)}function ko(r,t,e){var n=hn(r,t),a=n.added,i=n.removed,o=n.changed;for(var s in i)e.removeEventListener(s);for(var s in a)e.addEventListener(s,a[s]);for(var s in o)e.removeEventListener(s),e.addEventListener(s,o[s][1]);for(var s in i)e.removeEventListener(s)}function Fo(r,t,e){var n=e.style,a=hn(r,t),i=a.added,o=a.removed,s=a.changed;for(var u in i){var f=_e(u,"-");n.setProperty?n.setProperty(f,i[u]):n[f]=i[u]}for(var u in s){var f=_e(u,"-");n.setProperty?n.setProperty(f,s[u][1]):n[f]=s[u][1]}for(var u in o){var f=_e(u,"-");n.removeProperty?n.removeProperty(f):n[f]=""}}function ea(r){var t={},e={};for(var n in r)n.indexOf("on")===0?e[n.replace("on","").toLowerCase()]=r[n]:t[n]=r[n];return{attributes:t,events:e}}var Lo=function(r){nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e._render=function(n){var a=this,i=!this.base;return i&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){i?a._mounted():a._updated()}),!0},e._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(Br),Yo=function(r){nr(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var e=t.prototype;return e.addEventListener=function(n,a){var i=this.events;i[n]=function(o){o.nativeEvent=o,a(o)},this.base.addEventListener(n,i[n])},e.removeEventListener=function(n){var a=this.events;this.base.removeEventListener(n,a[n]),delete a[n]},e._should=function(n){return Ye(this.props,n)},e._render=function(n,a){var i=this,o=!this.base;if(o){var s=this._hasSVG();this._isSVG=s;var u=this.props.portalContainer;if(!u){var f=this.type;s?u=document.createElementNS("http://www.w3.org/2000/svg",f):u=document.createElement(f)}this.base=u}Ir(this,this._providers,this.props.children,n,null);var l=this.base,v=ea(a),c=v.attributes,d=v.events,p=ea(this.props),h=p.attributes,g=p.events;return Ao(ra(c),ra(h),l),ko(d,g,this),Fo(a.style||{},this.props.style||{},l),n.push(function(){o?i._mounted():i._updated()}),!0},e._unmount=function(){var n=this.events,a=this.base;for(var i in n)a.removeEventListener(i,n[i]);this._providers.forEach(function(o){o._unmount()}),this.events={},this.props.portalContainer||a.parentNode.removeChild(a)},e._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=gn(this.container);return n&&"ownerSVGElement"in n},t}(Br);function gn(r){if(!r)return null;var t=r.base;return t instanceof Node?t:gn(r.container)}function Or(r){if(!r)return null;if(r instanceof Node)return r;var t=r.$_provider._providers;return t.length?Or(t[0].base):null}var No=function(r){nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e._render=function(n){var a=this.type(this.props);return Ir(this,this._providers,a?[a]:[],n),!0},e._unmount=function(){this._providers.forEach(function(n){n._unmount()})},t}(Br),Xa=function(r){nr(t,r);function t(n){var a=r.call(this,"container","container",0,null)||this;return a.base=n,a}var e=t.prototype;return e._render=function(){return!0},e._unmount=function(){},t}(Br),Xo=function(r){nr(t,r);function t(n,a,i,o,s,u){return u===void 0&&(u={}),r.call(this,n,a,i,o,s,De(u,n.defaultProps))||this}var e=t.prototype;return e._should=function(n,a){return this.base.shouldComponentUpdate(De(n,this.type.defaultProps),a||this.base.state)},e._render=function(n,a,i){var o=this;this.props=De(this.props,this.type.defaultProps);var s=!this.base;s?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var u=this.base,f=u.state,l=u.render();l&&l.props&&!l.props.children.length&&(l.props.children=this.props.children),Ir(this,this._providers,l?[l]:[],n,i,null),n.push(function(){s?(o._mounted(),u.componentDidMount()):(o._updated(),u.componentDidUpdate(a,f))})},e._setState=function(n){var a=this.base;!a||!n||(a.state=n)},e._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(Br),mn=function(){function r(e){e===void 0&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=r.prototype;return t.shouldComponentUpdate=function(e,n){return!0},t.render=function(){return null},t.setState=function(e,n,a){var i=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=Ht(Ht({},this.$_state),e),a?this.$_setState(n,a):this.$_timer=setTimeout(function(){i.$_timer=0,i.$_setState(n,a)})},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,n){},t.componentWillUnmount=function(){},t.$_setState=function(e,n){var a=[],i=this.$_provider,o=Ir(i.container,[i],[i.original],a,Ht(Ht({},this.state),this.$_state),n);o&&(e&&a.push(e),Ya(a))},r}(),bn=function(r){nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.shouldComponentUpdate=function(n,a){return Ye(this.props,n)||Ye(this.state,a)},t}(mn),Wo=function(r){nr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.componentDidMount=function(){var n=this.props,a=n.element,i=n.container;this._portalProvider=new Xa(i),Kr(a,i,this._portalProvider)},e.componentDidUpdate=function(){var n=this.props,a=n.element,i=n.container;Kr(a,i,this._portalProvider)},e.componentWillUnmount=function(){var n=this.props.container;Kr(null,n,this._portalProvider),this._portalProvider=null},t}(bn);function Vo(r,t,e){var n=[];Ir(r,r._providers,t,n,e),Ya(n)}function Ho(r,t){for(var e=r._providers,n=e.length,a=t.index+1;a<n;++a){var i=Or(e[a].base);if(i)return i}return null}function qo(r,t,e){var n=e.map(function(u){return zt(u)?null:u.key}),a=Qn(t.map(function(u){return u.key})),i=Qn(n),o=se(a,i,function(u){return u});o.removed.forEach(function(u){t.splice(u,1)[0]._unmount()}),o.ordered.forEach(function(u){var f=u[0],l=u[1],v=t.splice(f,1)[0];t.splice(l,0,v);var c=Or(v.base),d=Or(t[l+1]&&t[l+1].base);c&&c.parentNode.insertBefore(c,d)}),o.added.forEach(function(u){t.splice(u,0,ta(e[u],n[u],u,r))});var s=o.maintained.filter(function(u){u[0];var f=u[1],l=e[f],v=t[f],c=zt(l)?"text_"+l:l.type;return c!==v.type?(v._unmount(),t.splice(f,1,ta(l,n[f],f,r)),!0):(v.index=f,!1)});return Go(o.added,s.map(function(u){u[0];var f=u[1];return f}))}function Ir(r,t,e,n,a,i){var o=qo(r,t,e),s=t.filter(function(f,l){return f._update(n,e[l],a,i)}),u=gn(r);return u&&o.reverse().forEach(function(f){var l=t[f],v=Or(l.base);if(!!v&&u!==v&&!v.parentNode){var c=Ho(r,l);u.insertBefore(v,c)}}),s.length>0}function Kr(r,t,e){e===void 0&&(e=t.__REACT_COMPAT__);var n=!!e;return e||(e=new Xa(t)),Vo(e,r?[r]:[]),n||(t.__REACT_COMPAT__=e),e}function na(r,t,e){var n=t.__REACT_COMPAT__;r&&!n&&(t.innerHTML=""),Kr(r,t,n),e&&e()}function jo(r,t){return Rt(Wo,{element:r,container:t})}var $o="simple-1.1.0";function Sn(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return!0;return!1}function Wa(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return r[n];return null}function Va(r){var t=r;if(typeof t>"u"){if(typeof navigator>"u"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function xn(r,t){try{return new RegExp(r,"g").exec(t)}catch{return null}}function Uo(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var r=navigator.userAgentData,t=r.brands||r.uaList;return!!(t&&t.length)}function Ko(r,t){var e=xn("("+r+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return e?e[3]:""}function Ne(r){return r.replace(/_/g,".")}function Sr(r,t){var e=null,n="-1";return Sn(r,function(a){var i=xn("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!i||a.brand?!1:(e=a,n=i[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=Ko(a.versionTest.toLowerCase(),t)||n),n=Ne(n),!0)}),{preset:e,version:n}}function br(r,t){var e={brand:"",version:"-1"};return Sn(r,function(n){var a=Ha(t,n);return a?(e.brand=n.id,e.version=n.versionAlias||a.version,e.version!=="-1"):!1}),e}function Ha(r,t){return Wa(r,function(e){var n=e.brand;return xn(""+t.test,n.toLowerCase())})}var Xe=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],qa=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],We=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ja=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],$a=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Ua(r){return!!Sr(ja,r).preset}function Zo(r){var t=Va(r),e=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:Ua(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},i=Sr(Xe,t),o=i.preset,s=i.version,u=Sr($a,t),f=u.preset,l=u.version,v=Sr(qa,t);if(n.chromium=!!v.preset,n.chromiumVersion=v.version,!n.chromium){var c=Sr(We,t);n.webkit=!!c.preset,n.webkitVersion=c.version}return f&&(a.name=f.id,a.version=l,a.majorVersion=parseInt(l,10)),o&&(n.name=o.id,n.version=s,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:e,isHints:!1}}function Jo(r){var t=navigator.userAgentData,e=(t.uaList||t.brands).slice(),n=r&&r.fullVersionList,a=t.mobile||!1,i=e[0],o=(r&&r.platform||t.platform||navigator.platform).toLowerCase(),s={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!br(ja,e).brand||Ua(Va())},u={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Sn(We,function(p){return Ha(e,p)});var f=br(qa,e);if(s.chromium=!!f.brand,s.chromiumVersion=f.version,!s.chromium){var l=br(We,e);s.webkit=!!l.brand,s.webkitVersion=l.version}var v=Wa($a,function(p){return new RegExp(""+p.test,"g").exec(o)});if(u.name=v?v.id:"",r&&(u.version=r.platformVersion),n&&n.length){var c=br(Xe,n);s.name=c.brand||s.name,s.version=c.version||s.version}else{var d=br(Xe,e);s.name=d.brand||s.name,s.version=d.brand&&r?r.uaFullVersion:d.version}return s.webkit&&(u.name=a?"ios":"mac"),u.name==="ios"&&s.webview&&(s.version="-1"),u.version=Ne(u.version),s.version=Ne(s.version),u.majorVersion=parseInt(u.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:u,isMobile:a,isHints:!0}}function Qo(r){return typeof r>"u"&&Uo()?Jo():Zo(r)}function ts(r,t,e,n,a,i){for(var o=0;o<a;++o){var s=e+o*a,u=n+o*a;r[s]+=r[u]*i,t[s]+=t[u]*i}}function rs(r,t,e,n,a){for(var i=0;i<a;++i){var o=e+i*a,s=n+i*a,u=r[o],f=t[o];r[o]=r[s],r[s]=u,t[o]=t[s],t[s]=f}}function es(r,t,e,n,a){for(var i=0;i<n;++i){var o=e+i*n;r[o]/=a,t[o]/=a}}function Ka(r,t,e){e===void 0&&(e=Math.sqrt(r.length));for(var n=r.slice(),a=0;a<e;++a)n[a*e+t-1]=0,n[(t-1)*e+a]=0;return n[(t-1)*(e+1)]=1,n}function Lt(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=r.slice(),n=rt(t),a=0;a<t;++a){var i=t*a+a;if(!q(e[i],ct)){for(var o=a+1;o<t;++o)if(e[t*a+o]){rs(e,n,a,o,t);break}}if(!q(e[i],ct))return[];es(e,n,a,t,e[i]);for(var o=0;o<t;++o){var s=o,u=o+a*t,f=e[u];!q(f,ct)||a===o||ts(e,n,s,a,t,-f)}}return n}function ns(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=0;n<t;++n)for(var a=0;a<t;++a)e[a*t+n]=r[t*n+a];return e}function as(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=r[t*t-1],a=0;a<t-1;++a)e[a]=r[t*(t-1)+a]/n;return e[t-1]=0,e}function is(r,t){for(var e=rt(t),n=0;n<t-1;++n)e[t*(t-1)+n]=r[n]||0;return e}function zr(r,t){for(var e=r.slice(),n=r.length;n<t-1;++n)e[n]=0;return e[t-1]=1,e}function Wt(r,t,e){if(t===void 0&&(t=Math.sqrt(r.length)),t===e)return r;for(var n=rt(e),a=Math.min(t,e),i=0;i<a-1;++i){for(var o=0;o<a-1;++o)n[i*e+o]=r[i*t+o];n[(i+1)*e-1]=r[(i+1)*t-1],n[(e-1)*e+i]=r[(t-1)*t+i]}return n[e*e-1]=r[t*t-1],n}function Ve(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=rt(r);return t.forEach(function(a){n=K(n,a,r)}),n}function K(r,t,e){e===void 0&&(e=Math.sqrt(r.length));var n=[],a=r.length/e,i=t.length/a;if(a){if(!i)return r}else return t;for(var o=0;o<e;++o)for(var s=0;s<i;++s){n[s*e+o]=0;for(var u=0;u<a;++u)n[s*e+o]+=r[u*e+o]*t[s*a+u]}return n}function H(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]+t[a];return n}function X(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]-t[a];return n}function os(r,t){return t===void 0&&(t=r.length===6),t?[r[0],r[1],0,r[2],r[3],0,r[4],r[5],1]:r}function Za(r,t){return t===void 0&&(t=r.length===9),t?[r[0],r[1],r[3],r[4],r[6],r[7]]:r}function xt(r,t,e){e===void 0&&(e=t.length);var n=K(r,t,e),a=n[e-1];return n.map(function(i){return i/a})}function ss(r,t){return K(r,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function us(r,t){return K(r,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function fs(r,t){return K(r,vr(t,4))}function Nr(r,t){var e=t[0],n=e===void 0?1:e,a=t[1],i=a===void 0?1:a,o=t[2],s=o===void 0?1:o;return K(r,[n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function qt(r,t){return xt(vr(t,3),zr(r,3))}function Ce(r,t){var e=t[0],n=e===void 0?0:e,a=t[1],i=a===void 0?0:a,o=t[2],s=o===void 0?0:o;return K(r,[1,0,0,0,0,1,0,0,0,0,1,0,n,i,s,1],4)}function aa(r,t){return K(r,t,4)}function vr(r,t){var e=Math.cos(r),n=Math.sin(r),a=rt(t);return a[0]=e,a[1]=n,a[t]=-n,a[t+1]=e,a}function rt(r){for(var t=r*r,e=[],n=0;n<t;++n)e[n]=n%(r+1)?0:1;return e}function Ja(r,t){for(var e=rt(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[(t+1)*a]=r[a];return e}function Rr(r,t){for(var e=rt(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[t*(t-1)+a]=r[a];return e}function En(r,t,e,n,a,i,o,s){var u=r[0],f=r[1],l=t[0],v=t[1],c=e[0],d=e[1],p=n[0],h=n[1],g=a[0],m=a[1],b=i[0],S=i[1],x=o[0],y=o[1],M=s[0],E=s[1],D=[u,0,l,0,c,0,p,0,f,0,v,0,d,0,h,0,1,0,1,0,1,0,1,0,0,u,0,l,0,c,0,p,0,f,0,v,0,d,0,h,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*l,-S*l,-x*c,-y*c,-M*p,-E*p,-g*f,-m*f,-b*v,-S*v,-x*d,-y*d,-M*h,-E*h],C=Lt(D,8);if(!C.length)return[];var _=K(C,[g,m,b,S,x,y,M,E],8);return _[8]=1,Wt(ns(_),3,4)}function ls(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Qa(r){return sr(Jt(r))}function cs(r,t){var e=xt(r,[t[0],t[1]||0,t[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function sr(r){var t=ls();return r.forEach(function(e){var n=e.matrixFunction,a=e.functionValue;!n||(t=n(t,a))}),t}function Jt(r){var t=er(r)?r:$t(r);return t.map(function(e){var n=ka(e),a=n.prefix,i=n.value,o=null,s=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=rr(i).map(function(_){return parseFloat(_)}),l=f[0],v=f[1],c=v===void 0?0:v,d=f[2],p=d===void 0?0:d;o=Ce,u=[l,c,p]}else if(a==="translateY"){var c=parseFloat(i);o=Ce,u=[0,c,0]}else if(a==="translateZ"){var p=parseFloat(i);o=Ce,u=[0,0,p]}else if(a==="scale"||a==="scale3d"){var h=rr(i).map(function(_){return parseFloat(_)}),g=h[0],m=h[1],b=m===void 0?g:m,S=h[2],x=S===void 0?1:S;o=Nr,u=[g,b,x]}else if(a==="scaleX"){var g=parseFloat(i);o=Nr,u=[g,1,1]}else if(a==="scaleY"){var b=parseFloat(i);o=Nr,u=[1,b,1]}else if(a==="scaleZ"){var x=parseFloat(i);o=Nr,u=[1,1,x]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var y=Tr(i),M=y.unit,E=y.value,D=M==="rad"?E:E*Math.PI/180;a==="rotate"||a==="rotateZ"?(s="rotateZ",o=fs):a==="rotateX"?o=ss:a==="rotateY"&&(o=us),u=D}else if(a==="matrix3d")o=aa,u=rr(i).map(function(_){return parseFloat(_)});else if(a==="matrix"){var C=rr(i).map(function(_){return parseFloat(_)});o=aa,u=[C[0],C[1],0,0,C[2],C[3],0,0,0,0,1,0,C[4],C[5],0,1]}else s="";return{name:a,functionName:s,value:i,matrixFunction:o,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var He=function(r,t){return He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},He(r,t)};function vs(r,t){He(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ti=typeof Map=="function"?void 0:function(){var r=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++r)}}(),ds=function(r){vs(t,r);function t(e){return e===void 0&&(e=[]),r.call(this,e,ti)||this}return t}(bo);function ps(r,t){return se(r,t,ti)}const hs=ds;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gs(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function yt(r){return q(r,ct)}function ms(r,t){return r.every(function(e,n){return yt(e-t[n])===0})}function bs(r,t){return!yt(r[0]-t[0])&&!yt(r[1]-t[1])}function ri(r){return r.length<3?0:Math.abs(To(r.map(function(t,e){var n=r[e+1]||r[0];return t[0]*n[1]-n[0]*t[1]})))/2}function ia(r,t){var e=t.width,n=t.height,a=t.left,i=t.top,o=fe(r),s=o.minX,u=o.minY,f=o.maxX,l=o.maxY,v=e/(f-s),c=n/(l-u);return r.map(function(d){return[a+(d[0]-s)*v,i+(d[1]-u)*c]})}function fe(r){var t=r.map(function(n){return n[0]}),e=r.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,e)}}function qe(r,t,e){var n=r[0],a=r[1],i=fe(t),o=i.minX,s=i.maxX,u=[[o,a],[s,a]],f=te(u[0],u[1]),l=je(t),v=[];if(l.forEach(function(p){var h=te(p[0],p[1]),g=p[0];if(ms(f,h))v.push({pos:r,line:p,type:"line"});else{var m=ni(ei(f,h),[u,p]);m.forEach(function(b){p.some(function(S){return bs(S,b)})?v.push({pos:b,line:p,type:"point"}):yt(g[1]-a)!==0&&v.push({pos:b,line:p,type:"intersection"})})}}),!e&&Dr(v,function(p){return p[0]===n}))return!0;var c=0,d={};return v.forEach(function(p){var h=p.pos,g=p.type,m=p.line;if(!(h[0]>n))if(g==="intersection")++c;else{if(g==="line")return;if(g==="point"){var b=Dr(m,function(y){return y[1]!==a}),S=d[h[0]],x=b[1]>a?1:-1;S?S!==x&&++c:d[h[0]]=x}}}),c%2===1}function te(r,t){var e=r[0],n=r[1],a=t[0],i=t[1],o=a-e,s=i-n;Math.abs(o)<ct&&(o=0),Math.abs(s)<ct&&(s=0);var u=0,f=0,l=0;return o?s?(u=-s/o,f=1,l=-u*e-n):(f=1,l=-n):s&&(u=-1,l=e),[u,f,l]}function ei(r,t){var e=r[0],n=r[1],a=r[2],i=t[0],o=t[1],s=t[2],u=e===0&&i===0,f=n===0&&o===0,l=[];if(u&&f)return[];if(u){var v=-a/n,c=-s/o;return v!==c?[]:[[-1/0,v],[1/0,v]]}else if(f){var d=-a/e,p=-s/i;return d!==p?[]:[[d,-1/0],[d,1/0]]}else if(e===0){var h=-a/n,g=-(o*h+s)/i;l=[[g,h]]}else if(i===0){var h=-s/o,g=-(n*h+a)/e;l=[[g,h]]}else if(n===0){var g=-a/e,h=-(i*g+s)/o;l=[[g,h]]}else if(o===0){var g=-s/i,h=-(e*g+a)/n;l=[[g,h]]}else{var g=(n*s-o*a)/(o*e-n*i),h=-(e*g+a)/n;l=[[g,h]]}return l.map(function(m){return[m[0],m[1]]})}function ni(r,t){var e=t.map(function(v){return[0,1].map(function(c){return[Math.min(v[0][c],v[1][c]),Math.max(v[0][c],v[1][c])]})}),n=[];if(r.length===2){var a=r[0],i=a[0],o=a[1];if(yt(i-r[1][0])){if(!yt(o-r[1][1])){var f=Math.max.apply(Math,e.map(function(v){return v[0][0]})),l=Math.min.apply(Math,e.map(function(v){return v[0][1]}));if(yt(f-l)>0)return[];n=[[f,o],[l,o]]}}else{var s=Math.max.apply(Math,e.map(function(v){return v[1][0]})),u=Math.min.apply(Math,e.map(function(v){return v[1][1]}));if(yt(s-u)>0)return[];n=[[i,s],[i,u]]}}return n.length||(n=r.filter(function(v){var c=v[0],d=v[1];return e.every(function(p){return 0<=yt(c-p[0][0])&&0<=yt(p[0][1]-c)&&0<=yt(d-p[1][0])&&0<=yt(p[1][1]-d)})})),n.map(function(v){return[yt(v[0]),yt(v[1])]})}function je(r){return gs(r.slice(1),[r[0]]).map(function(t,e){return[r[e],t]})}function Ss(r,t){var e=r.slice(),n=t.slice();Fe(e)===-1&&e.reverse(),Fe(n)===-1&&n.reverse();var a=je(e),i=je(n),o=a.map(function(l){return te(l[0],l[1])}),s=i.map(function(l){return te(l[0],l[1])}),u=[];o.forEach(function(l,v){var c=a[v],d=[];s.forEach(function(p,h){var g=ei(l,p),m=ni(g,[c,i[h]]);d.push.apply(d,m.map(function(b){return{index1:v,index2:h,pos:b,type:"intersection"}}))}),d.sort(function(p,h){return Nt(c[0],p.pos)-Nt(c[0],h.pos)}),u.push.apply(u,d),qe(c[1],n)&&u.push({index1:v,index2:-1,pos:c[1],type:"inside"})}),i.forEach(function(l,v){if(!!qe(l[1],e)){var c=!1,d=Ft(u,function(p){var h=p.index2;return h===v?(c=!0,!1):!!c});d===-1&&(c=!1,d=Ft(u,function(p){var h=p.index1,g=p.index2;return h===-1&&g+1===v?(c=!0,!1):!!c})),d===-1?u.push({index1:-1,index2:v,pos:l[1],type:"inside"}):u.splice(d,0,{index1:-1,index2:v,pos:l[1],type:"inside"})}});var f={};return u.filter(function(l){var v=l.pos,c=v[0]+"x"+v[1];return f[c]?!1:(f[c]=!0,!0)})}function xs(r,t){var e=Ss(r,t);return e.map(function(n){var a=n.pos;return a})}function Es(r,t){var e=xs(r,t);return ri(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $e=function(){return $e=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$e.apply(this,arguments)};function Ms(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var ys=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(kt(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(kt(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=Ft(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,Ms(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push($e({listener:n},a))},r}();const ai=ys;function _s(){return Date.now?Date.now():new Date().getTime()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ue=function(r,t){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ue(r,t)};function Ds(r,t){Ue(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ur=function(){return ur=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ur.apply(this,arguments)};function Cs(r){var t=r.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}var Os=function(r){Ds(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n}var e=t.prototype;return e.dragStart=function(n,a){var i=a.container,o=0,s=0,u=0,f=0;if(i===document.body)u=window.innerWidth,f=window.innerHeight;else{var l=i.getBoundingClientRect();o=l.top,s=l.left,u=l.width,f=l.height}this._startPos=[n.clientX,n.clientY],this._startRect={top:o,left:s,width:u,height:f},this._prevScrollPos=this._getScrollPosition([0,0],a)},e.drag=function(n,a){var i=n.clientX,o=n.clientY,s=a.threshold,u=s===void 0?0:s,f=this,l=f._startRect,v=f._startPos,c=[0,0];return l.top>o-u?(v[1]>l.top||o<v[1])&&(c[1]=-1):l.top+l.height<o+u&&(v[1]<l.top+l.height||o>v[1])&&(c[1]=1),l.left>i-u?(v[0]>l.left||i<v[0])&&(c[0]=-1):l.left+l.width<i+u&&(v[0]<l.left+l.width||i>v[0])&&(c[0]=1),clearTimeout(this._timer),!c[0]&&!c[1]?!1:this._continueDrag(ur(ur({},a),{direction:c,inputEvent:n,isDrag:!0}))},e.checkScroll=function(n){var a=this;if(this._isWait)return!1;var i=n.prevScrollPos,o=i===void 0?this._prevScrollPos:i,s=n.direction,u=n.throttleTime,f=u===void 0?0:u,l=n.inputEvent,v=n.isDrag,c=this._getScrollPosition(s||[0,0],n),d=c[0]-o[0],p=c[1]-o[1],h=s||[d?Math.abs(d)/d:0,p?Math.abs(p)/p:0];return this._prevScrollPos=c,!d&&!p?!1:(this.trigger("move",{offsetX:h[0]?d:0,offsetY:h[1]?p:0,inputEvent:l}),f&&v&&(this._timer=window.setTimeout(function(){a._continueDrag(n)},f)),!0)},e.dragEnd=function(){clearTimeout(this._timer)},e._getScrollPosition=function(n,a){var i=a.container,o=a.getScrollPosition,s=o===void 0?Cs:o;return s({container:i,direction:n})},e._continueDrag=function(n){var a=this,i=n.container,o=n.direction,s=n.throttleTime,u=n.useScroll,f=n.isDrag,l=n.inputEvent;if(!(f&&this._isWait)){var v=_s(),c=Math.max(s+this._prevTime-v,0);if(c>0)return this._timer=window.setTimeout(function(){a._continueDrag(n)},c),!1;this._prevTime=v;var d=this._getScrollPosition(o,n);return this._prevScrollPos=d,f&&(this._isWait=!0),this.trigger("scroll",{container:i,direction:o,inputEvent:l}),this._isWait=!1,u||this.checkScroll(ur(ur({},n),{prevScrollPos:d,direction:o,inputEvent:l}))}},t}(ai);const Rs=Os;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ke=function(r,t){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ke(r,t)};function ws(r,t){Ke(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var lt=function(){return lt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lt.apply(this,arguments)};function Ps(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function Oe(r){return Ps([r[0].clientX,r[0].clientY],[r[1].clientX,r[1].clientY])/Math.PI*180}function Ts(r){return r.touches&&r.touches.length>=2}function Xr(r){return r?r.touches?Bs(r.touches):[ii(r)]:[]}function oa(r,t,e){var n=e.length,a=yr(r,n),i=a.clientX,o=a.clientY,s=a.originalClientX,u=a.originalClientY,f=yr(t,n),l=f.clientX,v=f.clientY,c=yr(e,n),d=c.clientX,p=c.clientY,h=i-l,g=o-v,m=i-d,b=o-p;return{clientX:s,clientY:u,deltaX:h,deltaY:g,distX:m,distY:b}}function Re(r){return Math.sqrt(Math.pow(r[0].clientX-r[1].clientX,2)+Math.pow(r[0].clientY-r[1].clientY,2))}function Bs(r){for(var t=Math.min(r.length,2),e=[],n=0;n<t;++n)e.push(ii(r[n]));return e}function ii(r){return{clientX:r.clientX,clientY:r.clientY}}function yr(r,t){t===void 0&&(t=r.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var a=r[n];e.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,e.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,e.clientX+=a.clientX,e.clientY+=a.clientY}return t?{clientX:e.clientX/t,clientY:e.clientY/t,originalClientX:e.originalClientX/t,originalClientY:e.originalClientY/t}:e}var we=function(){function r(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}var t=r.prototype;return t.getAngle=function(e){return e===void 0&&(e=this.prevClients),Oe(e)},t.getRotation=function(e){return e===void 0&&(e=this.prevClients),Oe(e)-Oe(this.startClients)},t.getPosition=function(e,n){e===void 0&&(e=this.prevClients);var a=oa(e||this.prevClients,this.prevClients,this.startClients),i=a.deltaX,o=a.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=e,a},t.getPositions=function(e){e===void 0&&(e=this.prevClients);var n=this.prevClients;return this.startClients.map(function(a,i){return oa([e[i]],[n[i]],[a])})},t.getMovement=function(e){var n=this.movement;if(!e)return n;var a=yr(e,this.length),i=yr(this.prevClients,this.length),o=a.clientX-i.clientX,s=a.clientY-i.clientY;return Math.sqrt(o*o+s*s)+n},t.getDistance=function(e){return e===void 0&&(e=this.prevClients),Re(e)},t.getScale=function(e){return e===void 0&&(e=this.prevClients),Re(e)/Re(this.startClients)},t.move=function(e,n){this.startClients.forEach(function(a){a.clientX-=e,a.clientY-=n})},r}(),sa=["textarea","input"],Is=function(r){ws(t,r);function t(n,a){a===void 0&&(a={});var i=r.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._dragFlag=!1,i.onDragStart=function(c,d){if(d===void 0&&(d=!0),!(!i.flag&&c.cancelable===!1)){var p=i.options,h=p.container,g=p.pinchOutside,m=p.preventWheelClick,b=p.preventRightClick,S=p.preventDefault,x=p.checkInput,y=i.isTouch,M=!i.flag;if(m&&(c.which===2||c.button===1)||b&&(c.which===3||c.button===2))return i.initDrag(),!1;if(M){var E=document.activeElement,D=c.target,C=D.tagName.toLowerCase(),_=sa.indexOf(C)>-1,w=D.isContentEditable;if(_||w){if(x||E===D||E&&w&&E.isContentEditable&&E.contains(D))return!1}else if((S||c.type==="touchstart")&&E){var O=E.tagName;(E.isContentEditable||sa.indexOf(O)>-1)&&E.blur()}i.clientStores=[new we(Xr(c))],i.flag=!0,i.isDrag=!1,i._dragFlag=!0,i.datas={},i.doubleFlag=Qr()-i.prevTime<200;var P=i.emit("dragStart",lt(lt({datas:i.datas,inputEvent:c,isTrusted:d,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){c.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));P===!1&&i.initDrag(),i.flag&&S&&c.preventDefault()}if(!i.flag)return!1;var T=0;if(M&&y&&g&&(T=setTimeout(function(){Tt(h,"touchstart",i.onDragStart,{passive:!1})})),!M&&y&&g&&Mt(h,"touchstart",i.onDragStart),i.flag&&Ts(c)){if(clearTimeout(T),M&&c.touches.length!==c.changedTouches.length)return;i.pinchFlag||i.onPinchStart(c)}}},i.onDrag=function(c,d){if(!!i.flag){var p=Xr(c),h=i.moveClients(p,c,!1);if(i._dragFlag){if(i.pinchFlag||h.deltaX||h.deltaY){var g=i.emit("drag",lt(lt({},h),{isScroll:!!d,inputEvent:c}));if(g===!1){i.stop();return}}i.pinchFlag&&i.onPinch(c,p)}i.getCurrentStore().getPosition(p,!0)}},i.onDragEnd=function(c){if(!!i.flag){var d=i.options,p=d.pinchOutside,h=d.container;i.isTouch&&p&&Mt(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(c);var g=c!=null&&c.touches?Xr(c):[],m=g.length;m===0||!i.options.keepDragging?i.flag=!1:i._addStore(new we(g));var b=i._getPosition(),S=Qr(),x=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||x?0:S,i.flag||(i.emit("dragEnd",lt({datas:i.datas,isDouble:x,isDrag:i.isDrag,isClick:!i.isDrag,inputEvent:c},b)),i.clientStores=[])}},i.onBlur=function(){i.onDragEnd()};var o=[].concat(n);i.options=lt({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventWheelClick:!0,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},a);var s=i.options,u=s.container,f=s.events,l=s.checkWindowBlur;if(i.isTouch=f.indexOf("touch")>-1,i.isMouse=f.indexOf("mouse")>-1,i.targets=o,i.isMouse&&(o.forEach(function(c){Tt(c,"mousedown",i.onDragStart)}),Tt(u,"mousemove",i.onDrag),Tt(u,"mouseup",i.onDragEnd),Tt(u,"contextmenu",i.onDragEnd)),l&&Tt(window,"blur",i.onBlur),i.isTouch){var v={passive:!1};o.forEach(function(c){Tt(c,"touchstart",i.onDragStart,v)}),Tt(u,"touchmove",i.onDrag,v),Tt(u,"touchend",i.onDragEnd,v),Tt(u,"touchcancel",i.onDragEnd,v)}return i}var e=t.prototype;return e.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},e.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(a,i){return a+i.movement},0)},e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinchFlag=function(){return this.pinchFlag},e.isDoubleFlag=function(){return this.doubleFlag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(n,a,i,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(n,a),o&&this.onDrag(i,!0))},e.move=function(n,a){var i=n[0],o=n[1],s=this.getCurrentStore(),u=s.prevClients;return this.moveClients(u.map(function(f){var l=f.clientX,v=f.clientY;return{clientX:l+i,clientY:v+o,originalClientX:l,originalClientY:v}}),a,!0)},e.triggerDragStart=function(n){this.onDragStart(n,!1)},e.setEventDatas=function(n){var a=this.datas;for(var i in n)a[i]=n[i];return this},e.getCurrentEvent=function(n){return lt(lt({datas:this.datas},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},e.getEventDatas=function(){return this.datas},e.unset=function(){var n=this,a=this.targets,i=this.options.container;this.off(),Mt(window,"blur",this.onBlur),this.isMouse&&(a.forEach(function(o){Mt(o,"mousedown",n.onDragStart)}),Mt(i,"mousemove",this.onDrag),Mt(i,"mouseup",this.onDragEnd),Mt(i,"contextmenu",this.onDragEnd)),this.isTouch&&(a.forEach(function(o){Mt(o,"touchstart",n.onDragStart)}),Mt(i,"touchstart",this.onDragStart),Mt(i,"touchmove",this.onDrag),Mt(i,"touchend",this.onDragEnd),Mt(i,"touchcancel",this.onDragEnd))},e.onPinchStart=function(n){var a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var i=new we(Xr(n));this.pinchFlag=!0,this._addStore(i);var o=this.emit("pinchStart",lt(lt({datas:this.datas,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:n}));o===!1&&(this.pinchFlag=!1)}},e.onPinch=function(n,a){if(!(!this.flag||!this.pinchFlag||a.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",lt(lt({datas:this.datas,movement:this.getMovement(a),angle:i.getAngle(a),rotation:i.getRotation(a),touches:i.getPositions(a),scale:i.getScale(a),distance:i.getDistance(a)},i.getPosition(a)),{inputEvent:n}))}},e.onPinchEnd=function(n){if(!!this.pinchFlag){var a=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",lt(lt({datas:this.datas,isPinch:a,touches:i.getPositions()},i.getPosition()),{inputEvent:n}))}},e.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},e.getCurrentStore=function(){return this.clientStores[0]},e.moveClients=function(n,a,i){var o=this._getPosition(n,i);return(o.deltaX||o.deltaY)&&(this.isDrag=!0),lt(lt({datas:this.datas},o),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:a})},e._addStore=function(n){this.clientStores.splice(0,0,n)},e._getPosition=function(n,a){var i=this.getCurrentStore(),o=i.getPosition(n,a),s=this.clientStores.slice(1).reduce(function(l,v){var c=v.getPosition();return l.distX+=c.distX,l.distY+=c.distY,l},o),u=s.distX,f=s.distY;return lt(lt({},o),{distX:u,distY:f})},t}(ai);const zs=Is;function Gs(r){for(var t=5381,e=r.length;e;)t=t*33^r.charCodeAt(--e);return t>>>0}var As=Gs;function ks(r){return As(r).toString(36)}function Fs(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function Ls(r,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var i=a.trim();return(i?rr(i):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+r):s?"."+r+" "+s:"."+r}).join(", ")+" {"})}function Ys(r,t,e,n){var a=document.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",r),e.nonce&&a.setAttribute("nonce",e.nonce),a.innerHTML=Ls(r,t,e),(n||document.head||document.body).appendChild(a),a}function Ns(r){var t="rCS"+ks(r),e=0,n;return{className:t,inject:function(a,i){i===void 0&&(i={});var o=Fs(a),s=e===0,u;return(o||s)&&(u=Ys(t,r,i,o)),s&&(n=u),o||++e,{destroy:function(){o?(a.removeChild(u),u=null):(e>0&&--e,e===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ze=function(r,t){return Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ze(r,t)};function oi(r,t){Ze(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Je=function(){return Je=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Je.apply(this,arguments)};function Xs(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}var Ws=function(r){oi(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}var e=t.prototype;return e.render=function(){var n=this.props,a=n.className,i=a===void 0?"":a;n.cspNonce;var o=n.portalContainer,s=Xs(n,["className","cspNonce","portalContainer"]),u=this.injector.className,f=this.tag,l={};return $o.indexOf("simple")>-1&&o&&(l={portalContainer:o}),Rt(f,Je({ref:Gt(this,"element"),"data-styled-id":u,className:i+" "+u},l,s))},e.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},e.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.getElement=function(){return this.element},t}(mn);function si(r,t){var e=Ns(t);return function(n){oi(a,n);function a(){var i=n!==null&&n.apply(this,arguments)||this;return i.injector=e,i.tag=r,i}return a}(Ws)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qe=function(){return Qe=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qe.apply(this,arguments)};function Vs(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var Hs=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(kt(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(kt(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=Ft(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,Vs(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push(Qe({listener:n},a))},r}(),qs=Hs,tn=function(r,t){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},tn(r,t)};function Gr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tn(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var R=function(){return R=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},R.apply(this,arguments)};function js(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function $s(r,t,e,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(i=(a<3?o(i):a>3?o(t,e,i):o(t,e))||i);return a>3&&i&&Object.defineProperty(t,e,i),i}function Y(r,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))}function Ar(r,t){var e;return R({events:{},props:(e={},e[r]=Boolean,e),name:r},t)}function Us(r,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*r,'px" height="').concat(32*r,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}function Ks(r){var t=Us(1,r),e=Math.round(r/45)*45%180,n="ns-resize";return e===135?n="nwse-resize":e===45?n="nesw-resize":e===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}var Zs=Qo(),ui=Zs.browser.webkit,fi=ui&&function(){var r=typeof window>"u"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(r.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),Mn="moveable-",Js=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(r){return`
.direction[data-rotation="`.concat(r,`"] {
	`).concat(Ks(r),`
}
`)}).join(`
`),`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(fi?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),Qs=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],tu=1e-4,Ct=1e-7,Wr=1e-9,xr=Math.pow(10,10),ua=-xr,li=["n","w","s","e","nw","ne","sw","se"],ru={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},eu={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ci=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate"];function le(r,t,e,n,a){var i=t.gesto.move(e,r.inputEvent),o=i.originalDatas||i.datas,s=o.draggable||(o.draggable={});return R(R({},a?Fi(t,i):i),{isPinch:!!n,parentEvent:!0,datas:s,originalDatas:r.originalDatas})}var kr=function(){function r(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var t=r.prototype;return t.dragStart=function(e,n){this.isDrag=!1,this.isFlag=!1;var a=n.originalDatas;return this.datas=a,a.draggable||(a.draggable={}),R(R({},this.move(e,n.inputEvent)),{type:"dragstart"})},t.drag=function(e,n){return this.move([e[0]-this.prevX,e[1]-this.prevY],n)},t.move=function(e,n){var a,i;return this.isFlag?(a=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0)):(this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],a=e[0],i=e[1],this.isFlag=!0),this.prevX=a,this.prevY=i,{type:"drag",clientX:a,clientY:i,inputEvent:n,isDrag:this.isDrag,distX:a-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},r}();function Ut(r,t,e){var n=e.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var i=a.childDatas;return r.moveables.map(function(o,s){return i[s]=i[s]||{},i[s][t]=i[s][t]||{},R(R({},e),{datas:i[s][t],originalDatas:i[s]})})}function Pe(r,t,e,n,a,i){var o=!!e.match(/Start$/g),s=!!e.match(/End$/g),u=a.isPinch,f=a.datas,l=Ut(r,t.name,a),v=r.moveables,c=l.map(function(d,p){var h=v[p],g=h.state,m=d;if(o)m=new kr().dragStart(n,d);else{if(g.gesto||(g.gesto=f.childGestos[p]),!g.gesto)return;m=le(d,g,n,u,i)}var b=t[e](h,R(R({},m),{parentFlag:!0}));return s&&(g.gesto=null),b});return o&&(f.childGestos=v.map(function(d){return d.state.gesto})),c}function Xt(r,t,e,n,a,i){a===void 0&&(a=function(l,v){return v});var o=!!e.match(/End$/g),s=Ut(r,t.name,n),u=r.moveables,f=s.map(function(l,v){var c=u[v],d=l;d=a(c,l);var p=t[e](c,R(R({},d),{parentFlag:!0}));return p&&i&&i(c,l,p,v),o&&(c.state.gesto=null),p});return f}function yn(r,t,e,n){n===void 0&&(n="");var a=r.state,i=a.renderPoses,o=a.rotation,s=a.direction,u=r.props,f=u.renderDirections,l=f===void 0?t:f,v=u.zoom,c={};if(!l)return[];var d=s>0?1:-1,p=l===!0?li:l,h=o/Math.PI*180;return p.forEach(function(g){c[g]=!0}),p.map(function(g){var m=ru[g];if(!m||!c[g])return null;var b=(q(h,15)+d*eu[g]+720)%180;return e.createElement("div",{className:V("control","direction",g,n),"data-rotation":b,"data-direction":g,key:"direction-".concat(g),style:Gi.apply(void 0,Y([o,v],m.map(function(S){return i[S]}),!1))})})}function fr(r,t,e,n,a,i){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var u=it(e,n),f=t?q(u/Math.PI*180,15)%180:-1;return r.createElement("div",{key:"line".concat(i),className:V.apply(void 0,Y(["line","direction",t],o,!1)),"data-rotation":f,"data-line-index":i,"data-direction":t,style:Mr(e,n,a,u)})}function _n(r,t){return yn(r,li,t)}function vi(r,t){return yn(r,["nw","ne","sw","se"],t)}function Te(r,t,e,n,a,i){var o=r.state.is3d?4:3,s=ht(r.state.rootMatrix,a,o),u=H([i.left,i.top],s);t.startAbsoluteOrigin=u,t.prevDeg=it(u,[e,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0}function Zr(r,t,e){var n=e.defaultDeg,a=e.prevDeg,i=a%360,o=Math.floor(a/360);i<0&&(i+=360),i>r&&i>270&&r<90?++o:i<r&&i<90&&r>270&&--o;var s=t*(o*360+r-n);return e.prevDeg=n+s,s}function Be(r,t,e,n){return Zr(it(n.startAbsoluteOrigin,[r,t])/Math.PI*180,e,n)}function Ie(r,t,e,n,a,i){var o=r.props.throttleRotate,s=o===void 0?0:o,u=n,f=e.prevSnapDeg;i&&(u=Yu(r,t,e.origin,u));var l=q(a+u,s),v=l-a;return e.prevSnapDeg=v,[v-f,u,l]}function nu(r,t,e){var n=t[0],a=t[1],i=t[2],o=t[3];if(r!=="none"){var s=(r||"top").split("-"),u=s[0],f=s[1],l=[n,a];u==="left"?l=[i,n]:u==="right"?l=[a,o]:u==="bottom"&&(l=[o,i]);var v=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2],c=ki(l,e);if(f){var d=f==="top"||f==="left",p=u==="bottom"||u==="left";v=l[d&&!p||!d&&p?0:1]}return[v,c]}}function rn(r,t){if(t.isRequest)return t.requestAble==="rotatable";var e=t.inputEvent.target;if(It(e,V("rotation-control")))return!0;var n=r.props.rotationTarget;return n?Li(n,!0).some(function(a){return a?e===a||e.contains(a):!1}):!1}var au={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[`.rotation {
            position: absolute;
            height: 40px;
            width: 1px;
            transform-origin: 50% 100%;
            height: calc(40px * var(--zoom));
            top: auto;
            left: 0;
            bottom: 100%;
            will-change: transform;
        }
        .rotation .rotation-line {
            display: block;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .rotation .rotation-control {
            border-color: #4af;
            border-color: var(--moveable-color);
            background:#fff;
            cursor: alias;
        }`],render:function(r,t){var e=r.props,n=e.rotatable,a=e.rotationPosition,i=e.zoom,o=e.renderDirections,s=r.state,u=s.renderPoses,f=s.direction;if(!n)return null;var l=nu(a,u,f),v=[];if(l){var c=l[0],d=l[1];v.push(t.createElement("div",{key:"rotation",className:V("rotation"),style:{transform:"translate(-50%) translate(".concat(c[0],"px, ").concat(c[1],"px) rotate(").concat(d,"rad)")}},t.createElement("div",{className:V("line rotation-line"),style:{transform:"scaleX(".concat(i,")")}}),t.createElement("div",{className:V("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(i,")")}})))}return o&&v.push.apply(v,yn(r,[],t)),v},dragControlCondition:rn,dragControlStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=t.parentRotate,o=t.parentFlag,s=t.isPinch,u=t.isRequest,f=r.state,l=f.target,v=f.left,c=f.top,d=f.origin,p=f.beforeOrigin,h=f.direction,g=f.beforeDirection,m=f.targetTransform,b=f.moveableClientRect;if(!u&&!l)return!1;var S=r.getRect();if(e.rect=S,e.transform=m,e.left=v,e.top=c,e.fixedPosition=wi(r,Ri(r)),u||s||o){var x=i||0;e.beforeInfo={origin:S.beforeOrigin,prevDeg:x,defaultDeg:x,prevSnapDeg:0},e.afterInfo=R(R({},e.beforeInfo),{origin:S.origin}),e.absoluteInfo=R(R({},e.beforeInfo),{origin:S.origin,startValue:x})}else e.beforeInfo={origin:S.beforeOrigin},e.afterInfo={origin:S.origin},e.absoluteInfo={origin:S.origin,startValue:S.rotation},Te(r,e.beforeInfo,n,a,p,b),Te(r,e.afterInfo,n,a,d,b),Te(r,e.absoluteInfo,n,a,d,b);e.direction=h,e.beforeDirection=g,e.startValue=0,e.datas={},be(t,"rotate");var y=N(r,t,R(R({set:function(E){e.startValue=E*Math.PI/180}},me(t)),{dragStart:St.dragStart(r,new kr().dragStart([0,0],t))})),M=F(r,"onRotateStart",y);return e.isRotate=M!==!1,r.state.snapRenderInfo={request:t.isRequest},e.isRotate?y:!1},dragControl:function(r,t){var e,n,a,i=t.datas,o=t.clientX,s=t.clientY,u=t.parentRotate,f=t.parentFlag,l=t.isPinch,v=t.groupDelta,c=i.beforeDirection,d=i.beforeInfo,p=i.afterInfo,h=i.absoluteInfo,g=i.isRotate,m=i.startValue,b=i.rect;if(!!g){pe(t,"rotate");var S=Hu(t),x=c*S,y=r.props.parentMoveable,M=0,E,D,C=0,_,w,O=0,P,T,I=180/Math.PI*m,A=h.startValue,G=!1;if(!f&&"parentDist"in t){var k=t.parentDist;E=k,_=k,P=k}else l||f?(E=Zr(u,c,d),_=Zr(u,x,p),P=Zr(u,x,h)):(E=Be(o,s,c,d),_=Be(o,s,x,p),P=Be(o,s,x,h),G=!0);if(D=I+E,w=I+_,T=A+P,F(r,"onBeforeRotate",N(r,t,{beforeRotation:D,rotation:w,absoluteRotation:T,setRotation:function(nt){_=nt-I,E=_,P=_}},!0)),e=Ie(r,b,d,E,I,G),M=e[0],E=e[1],D=e[2],n=Ie(r,b,p,_,I,G),C=n[0],_=n[1],w=n[2],a=Ie(r,b,h,P,A,G),O=a[0],P=a[1],T=a[2],!(!O&&!C&&!M&&!y)){var B=he(i,"rotate(".concat(w,"deg)"),"rotate(".concat(_,"deg)")),L=Qu(r,_,i.fixedPosition,i),z=X(H(v||[0,0],L),i.prevInverseDist||[0,0]);i.prevInverseDist=L,i.requestValue=null;var W=N(r,t,R({delta:C,dist:_,rotate:w,rotation:w,beforeDist:E,beforeDelta:M,beforeRotate:D,beforeRotation:D,absoluteDist:P,absoluteDelta:O,absoluteRotate:T,absoluteRotation:T,isPinch:!!l},Ci(r,B,z,l,t)));return F(r,"onRotate",W),W}}},dragControlAfter:function(r,t){t.datas.requestValue},dragControlEnd:function(r,t){var e=t.datas;if(!!e.isRotate){e.isRotate=!1;var n=Ot(r,t,{});return F(r,"onRotateEnd",n),n}},dragGroupControlCondition:rn,dragGroupControlStart:function(r,t){var e=t.datas,n=r.state,a=n.left,i=n.top,o=n.beforeOrigin,s=this.dragControlStart(r,t);if(!s)return!1;s.set(e.beforeDirection*r.rotation);var u=Xt(r,this,"dragControlStart",t,function(v,c){var d=v.state,p=d.left,h=d.top,g=d.beforeOrigin,m=H(X([p,h],[a,i]),X(g,o));return c.datas.groupClient=m,R(R({},c),{parentRotate:0})}),f=R(R({},s),{targets:r.props.targets,events:u}),l=F(r,"onRotateGroupStart",f);return e.isRotate=l!==!1,e.isRotate?s:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isRotate){An(r,"onBeforeRotate",function(l){F(r,"onBeforeRotateGroup",N(r,t,R(R({},l),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(!!n){var a=e.beforeDirection,i=n.beforeDist,o=n.beforeDelta,s=o/180*Math.PI,u=Xt(r,this,"dragControl",t,function(l,v){var c=v.datas.groupClient,d=c[0],p=c[1],h=qt([d,p],s*a),g=h[0],m=h[1],b=[g-d,m-p];return v.datas.groupClient=[g,m],R(R({},v),{parentRotate:i,groupDelta:b})});r.rotation=a*n.beforeRotation;var f=R({targets:r.props.targets,events:u,set:function(l){r.rotation=l},setGroupRotation:function(l){r.rotation=l}},n);return F(r,"onRotateGroup",f),f}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isRotate){this.dragControlEnd(r,t);var a=Xt(r,this,"dragControlEnd",t),i=Ot(r,t,{targets:r.props.targets,events:a});return F(r,"onRotateGroupEnd",i),e}},request:function(r){var t={},e=0,n=r.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(a){return"deltaRotate"in a?e+=a.deltaRotate:"rotate"in a&&(e=a.rotate-n),{datas:t,parentDist:e}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},iu=["left","right","center"],ou=["top","bottom","middle"],Kt={start:"left",end:"right",center:"center"},Zt={start:"top",end:"bottom",center:"middle"};function hr(r,t){var e=r.props,n=e.snappable,a=e.bounds,i=e.innerBounds,o=e.verticalGuidelines,s=e.horizontalGuidelines,u=e.snapGridWidth,f=e.snapGridHeight,l=r.state,v=l.guidelines,c=l.enableSnap;return!n||!c||t&&n!==!0&&n.indexOf(t)<0?!1:!!(u||f||a||i||v&&v.length||o&&o.length||s&&s.length)}function Dn(r){return r===!1?{}:r===!0||!r?{left:!0,right:!0,top:!0,bottom:!0}:r}function su(r,t){var e=Dn(r),n={};for(var a in e)a in t&&e[a]&&(n[a]=t[a]);return n}function Cn(r,t){var e=su(r,t),n=ou.filter(function(i){return i in e}),a=iu.filter(function(i){return i in e});return{horizontal:n.map(function(i){return e[i]}),vertical:a.map(function(i){return e[i]})}}function uu(r,t,e){var n=r.state.elementRects,a=[];return[["vertical",Kt,Zt],["horizontal",Zt,Kt]].forEach(function(i){var o=i[0],s=i[1],u=i[2],f=t[s.start],l=t[s.end],v=t[s.center],c=t[u.start],d=t[u.end];function p(m){var b=m.rect;return b[s.end]<f+e?f-b[s.end]:l-e<b[s.start]?b[s.start]-l:-1}var h=n.filter(function(m){var b=m.rect;return b[u.start]>d||b[u.end]<c?!1:p(m)>0}).sort(function(m,b){return p(m)-p(b)}),g=[];h.forEach(function(m){h.forEach(function(b){if(m!==b){var S=m.rect,x=b.rect,y=S[u.start],M=S[u.end],E=x[u.start],D=x[u.end];y>D||E>M||g.push([m,b])}})}),g.forEach(function(m){var b=m[0],S=m[1],x=b.rect,y=S.rect,M=x[s.start],E=x[s.end],D=y[s.start],C=y[s.end],_=0,w=0,O=!1,P=!1,T=!1;if(E<=f&&l<=D){if(P=!0,_=(D-E-(l-f))/2,w=E+_+(l-f)/2,Math.abs(w-v)>e)return}else if(E<D&&C<f+e){if(O=!0,_=D-E,w=C+_,Math.abs(w-f)>e)return}else if(E<D&&l-e<M){if(T=!0,_=D-E,w=M-_,Math.abs(w-l)>e)return}else return;!_||a.push({type:o,pos:o==="vertical"?[w,0]:[0,w],element:S.element,size:0,className:S.className,isStart:O,isCenter:P,isEnd:T,gap:_,hide:!0,gapRects:[b,S]})})}),a}function di(r,t,e,n,a,i,o){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],u=o.left,f=o.top,l=o.bottom,v=o.right,c=e+v-u,d=n+l-f;return r&&r.forEach(function(p){s.push({type:"horizontal",pos:[u,q(p-i+f,.1)],size:c})}),t&&t.forEach(function(p){s.push({type:"vertical",pos:[q(p-a+u,.1),f],size:d})}),s}function fu(r,t,e){var n=ht(r,[t.clientLeft,t.clientTop],e);return[t.left+n[0],t.top+n[1]]}function lu(r,t){if(!t.length)return[];var e=r.state,n=e.containerClientRect,a=e.targetClientRect,i=a.top,o=a.left,s=e.rootMatrix,u=e.is3d,f=u?4:3,l=fu(s,n,f),v=l[0],c=l[1],d=_t(e),p=fe(d),h=p.minX,g=p.minY,m=X([h,g],cr(s,[o-v,i-c],f)).map(function(x){return hf(x)}),b=m[0],S=m[1];return t.map(function(x){var y=x.element.getBoundingClientRect(),M=y.left-v,E=y.top-c,D=E+y.height,C=M+y.width,_=cr(s,[M,E],f),w=_[0],O=_[1],P=cr(s,[C,D],f),T=P[0],I=P[1];return R(R({},x),{rect:{left:w+b,right:T+b,top:O+S,bottom:I+S,center:(w+T)/2+b,middle:(O+I)/2+S}})})}function cu(r){var t=r.state,e=r.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return t.elementRects=[],[];var a=(t.elementRects||[]).filter(function(c){return!c.refresh}),i=n.map(function(c){return kt(c)&&"element"in c?c:{element:xe(c,!0)}}).filter(function(c){return c.element}),o=ps(a.map(function(c){return c.element}),i.map(function(c){return c.element})),s=o.maintained,u=o.added,f=[];s.forEach(function(c){var d=c[0],p=c[1];f[p]=a[d]}),lu(r,u.map(function(c){return i[c]})).map(function(c,d){f[u[d]]=c}),t.elementRects=f;var l=Dn(r.props.elementSnapDirections),v=[];return f.forEach(function(c){var d=c.element,p=c.top,h=p===void 0?l.top:p,g=c.left,m=g===void 0?l.left:g,b=c.right,S=b===void 0?l.right:b,x=c.bottom,y=x===void 0?l.bottom:x,M=c.center,E=M===void 0?l.center:M,D=c.middle,C=D===void 0?l.middle:D,_=c.className,w=c.rect,O=Cn({top:h,right:S,left:m,bottom:y,center:E,middle:C},w),P=O.horizontal,T=O.vertical,I=w.top,A=w.left,G=w.right-A,k=w.bottom-I,B=[G,k];T.forEach(function(L){v.push({type:"vertical",element:d,pos:[q(L,.1),I],size:k,sizes:B,className:_,elementRect:c})}),P.forEach(function(L){v.push({type:"horizontal",element:d,pos:[A,q(L,.1)],size:G,sizes:B,className:_,elementRect:c})})}),v}function en(r){var t=r.state,e=t.snapOffset,n=t.containerClientRect,a=n.overflow,i=n.scrollHeight,o=n.scrollWidth,s=n.clientHeight,u=n.clientWidth,f=n.clientLeft,l=n.clientTop,v=r.props,c=v.snapGap,d=c===void 0?!0:c,p=v.verticalGuidelines,h=v.horizontalGuidelines,g=v.snapThreshold,m=g===void 0?5:g,b=v.snapGridWidth,S=b===void 0?0:b,x=v.snapGridHeight,y=x===void 0?0:x,M=cu(r),E=Y([],M,!0);if(d){var D=wt(_t(r.state)),C=D.top,_=D.left,w=D.bottom,O=D.right;E.push.apply(E,uu(r,{top:C,left:_,bottom:w,right:O,center:(_+O)/2,middle:(C+w)/2},m))}return E.push.apply(E,vu(S,y,a?o:u,a?i:s,f,l)),E.push.apply(E,di(h||!1,p||!1,a?o:u,a?i:s,f,l,e)),E}function vu(r,t,e,n,a,i){a===void 0&&(a=0),i===void 0&&(i=0);var o=[];if(t)for(var s=0;s<=n;s+=t)o.push({type:"horizontal",pos:[0,q(s-i,.1)],size:e,hide:!0});if(r)for(var s=0;s<=e;s+=r)o.push({type:"vertical",pos:[q(s-a,.1),0],size:n,hide:!0});return o}function du(r){var t=r[0],e=r[1],n=e[0]-t[0],a=e[1]-t[1];Math.abs(n)<ct&&(n=0),Math.abs(a)<ct&&(a=0);var i=0,o=0,s=0;return n?a?(i=-a/n,o=1,s=i*t[0]-t[1]):(o=1,s=-t[1]):(i=-1,s=t[0]),[i,o,s].map(function(u){return q(u,ct)})}function ce(r,t,e,n){var a=r.props,i=gf(n,a.snapThreshold,5);return pi(r.state.guidelines,t,e,i)}function pi(r,t,e,n){return{vertical:la(r,"vertical",t,n),horizontal:la(r,"horizontal",e,n)}}function pu(r,t,e){var n=e[0],a=e[1],i=t[0],o=t[1],s=X(e,t),u=s[0],f=s[1],l=f>0,v=u>0;u=ie(u),f=ie(f);var c={isSnap:!1,offset:0,pos:0},d={isSnap:!1,offset:0,pos:0};if(u===0&&f===0)return{vertical:c,horizontal:d};var p=ce(r,u?[n]:[],f?[a]:[]),h=p.vertical,g=p.horizontal;h.posInfos.filter(function(T){var I=T.pos;return v?I>=i:I<=i}),g.posInfos.filter(function(T){var I=T.pos;return l?I>=o:I<=o}),h.isSnap=h.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=nn(h),b=m.isSnap,S=m.guideline,x=nn(g),y=x.isSnap,M=x.guideline,E=y?M.pos[1]:0,D=b?S.pos[0]:0;if(u===0)y&&(d.isSnap=!0,d.pos=M.pos[1],d.offset=a-d.pos);else if(f===0)b&&(c.isSnap=!0,c.pos=D,c.offset=n-D);else{var C=f/u,_=e[1]-C*n,w=0,O=0,P=!1;b?(O=D,w=C*O+_,P=!0):y&&(w=E,O=(w-_)/C,P=!0),P&&(c.isSnap=!0,c.pos=O,c.offset=n-O,d.isSnap=!0,d.pos=w,d.offset=a-w)}return{vertical:c,horizontal:d}}function fa(r,t,e){var n=Cn(r.props.snapDirections,t);return ce(r,n.vertical,n.horizontal,e)}function nn(r){var t=r.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=r.posInfos[0],n=e.guidelineInfos[0],a=n.offset,i=n.dist,o=n.guideline;return{isSnap:t,offset:a,dist:i,pos:e.pos,guideline:o}}function la(r,t,e,n){if(!r||!r.length)return{isSnap:!1,index:-1,posInfos:[]};var a=t==="vertical",i=a?0:1,o=e.map(function(u,f){var l=r.map(function(v){var c=v.pos,d=u-c[i];return{offset:d,dist:Math.abs(d),guideline:v}}).filter(function(v){var c=v.guideline,d=v.dist,p=c.type;return!(p!==t||d>n)}).sort(function(v,c){return v.dist-c.dist});return{pos:u,index:f,guidelineInfos:l}}).filter(function(u){return u.guidelineInfos.length>0}).sort(function(u,f){return u.guidelineInfos[0].dist-f.guidelineInfos[0].dist}),s=o.length>0;return{isSnap:s,index:s?o[0].index:-1,posInfos:o}}function hu(r,t,e){var n=[];if(e[0]&&e[1])n=[e,[-e[0],e[1]],[e[0],-e[1]]].map(function(o){return vt(t,o)});else if(!e[0]&&!e[1])for(var a=[t[0],t[1],t[3],t[2],t[0]],i=0;i<4;++i)n.push(a[i]),n.push([(a[i][0]+a[i+1][0])/2,(a[i][1]+a[i+1][1])/2]);else r.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],e].map(function(o){return vt(t,o)}):(n=Di(t,e),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));return ce(r,n.map(function(o){return o[0]}),n.map(function(o){return o[1]}),1)}function hi(r,t){var e=Math.abs(r.offset),n=Math.abs(t.offset);return r.isBound&&t.isBound?n-e:r.isBound?-1:t.isBound?1:r.isSnap&&t.isSnap?n-e:r.isSnap?-1:t.isSnap||e<Ct?1:n<Ct?-1:e-n}function re(r,t){return r.slice().sort(function(e,n){var a=e.sign[t],i=n.sign[t],o=e.offset[t],s=n.offset[t];if(a){if(!i)return-1}else return 1;return hi({isBound:e.isBound,isSnap:e.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function gu(r,t,e){var n=[];if(e)Math.abs(t[0])!==1||Math.abs(t[1])!==1?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[r[0],-r[1]]],[t,[-r[0],r[1]]]),n.push([t,r]);else if(r[0]&&r[1]||!r[0]&&!r[1]){var a=r[0]?r:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var u=[o*a[0],s*a[1]];t[0]===u[0]&&t[1]===u[1]||n.push([t,u])})})}else if(r[0]){var i=Math.abs(t[0])===1?[1]:[1,-1];i.forEach(function(o){n.push([[t[0],-1],[o*r[0],-1]],[[t[0],0],[o*r[0],0]],[[t[0],1],[o*r[0],1]])})}else if(r[1]){var i=Math.abs(t[1])===1?[1]:[1,-1];i.forEach(function(s){n.push([[-1,t[1]],[-1,s*r[1]]],[[0,t[1]],[0,s*r[1]]],[[1,t[1]],[1,s*r[1]]])})}return n}function gi(r,t){var e=Cr([t[0][0],t[1][0]]),n=Cr([t[0][1],t[1][1]]);return{vertical:e<=r[0],horizontal:n<=r[1]}}function On(r,t){var e=t[0],n=t[1],a=n[0]-e[0],i=n[1]-e[1];Math.abs(a)<Ct&&(a=0),Math.abs(i)<Ct&&(i=0);var o,s;if(!a)o=e[0],s=r[0];else if(!i)o=e[1],s=r[1];else{var u=i/a;o=u*(r[0]-e[0])+e[1],s=r[1]}return o-s}function mi(r,t,e,n){return n===void 0&&(n=Ct),r.every(function(a){var i=On(a,t),o=i<=0;return o===e||Math.abs(i)<=n})}function ca(r,t,e,n,a){return a===void 0&&(a=0),n&&t-a<=r||!n&&r<=e+a?{isBound:!0,offset:n?t-r:e-r}:{isBound:!1,offset:0}}function mu(r,t){var e=t.line,n=t.centerSign,a=t.verticalSign,i=t.horizontalSign,o=t.lineConstants,s=r.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,f=s.top,l=s.width,v=s.height,c=[[u,f],[u,f+v]],d=[[u,f],[u+l,f]],p=[[u+l,f],[u+l,f+v]],h=[[u,f+v],[u+l,f+v]];if(mi([[u,f],[u+l,f],[u,f+v],[u+l,f+v]],e,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=jt(e,o,d,a),m=jt(e,o,h,a),b=jt(e,o,c,i),S=jt(e,o,p,i),x=g.isBound&&m.isBound,y=g.isBound||m.isBound,M=b.isBound&&S.isBound,E=b.isBound||S.isBound,D=dr(g.offset,m.offset),C=dr(b.offset,S.offset),_=[0,0],w=!1,O=!1;return Math.abs(C)<Math.abs(D)?(_=[D,0],w=y,O=x):(_=[0,C],w=E,O=M),{isAllBound:O,isVerticalBound:y,isHorizontalBound:E,isBound:w,offset:_}}function jt(r,t,e,n,a,i){var o=t[0],s=t[1],u=r[0],f=e[0],l=e[1],v=ie(l[1]-f[1]),c=ie(l[0]-f[0]),d=s,p=o,h=-o/s;if(c){if(!v){if(i&&!d)return{isBound:!1,offset:0};if(p){var S=(f[1]-u[1])/h+u[0];return ca(S,f[0],l[0],n,a)}else{var m=f[1]-u[1],b=Math.abs(m)<=(a||0);return{isBound:b,offset:b?m:0}}}}else{if(i&&!p)return{isBound:!1,offset:0};if(d){var g=h*(f[0]-u[0])+u[1];return ca(g,f[1],l[1],n,a)}else{var m=f[0]-u[0],b=Math.abs(m)<=(a||0);return{isBound:b,offset:b?m:0}}}return{isBound:!1,offset:0}}function bi(r,t,e){return t.map(function(n){var a=mu(r,n),i=a.isBound,o=a.offset,s=a.isVerticalBound,u=a.isHorizontalBound,f=n.multiple,l=Yt({datas:e,distX:o[0],distY:o[1]}).map(function(v,c){return v*(f[c]?2/f[c]:0)});return{sign:f,isBound:i,isVerticalBound:s,isHorizontalBound:u,isSnap:!1,offset:l}})}function bu(r,t,e){var n,a=Rn(r,t,[0,0],!1).map(function(c){return R(R({},c),{multiple:c.multiple.map(function(d){return Math.abs(d)*2})})}),i=bi(r,a,e),o=re(i,0),s=re(i,1),u=0,f=0,l=o.isVerticalBound||s.isVerticalBound,v=o.isHorizontalBound||s.isHorizontalBound;return(l||v)&&(n=ju({datas:e,distX:-o.offset[0],distY:-s.offset[1]}),u=n[0],f=n[1]),{vertical:{isBound:l,offset:u},horizontal:{isBound:v,offset:f}}}function Su(r,t){var e=[],n=r[0],a=r[1];return n&&a?e.push([[0,a*2],r,[-n,a]],[[n*2,0],r,[n,-a]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),t&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(e.push([[0,a*2],[1,a],[-1,a]]),t&&e.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function Rn(r,t,e,n){var a=r.state,i=a.allMatrix,o=a.is3d,s=gr(i,100,100,o?4:3),u=vt(s,[0,0]);return Su(e,n).map(function(f){var l=f[0],v=f[1],c=f[2],d=[vt(s,v),vt(s,c)],p=du(d),h=gi(u,d),g=h.vertical,m=h.horizontal,b=On(u,d)<=0;return{multiple:l,centerSign:b,verticalSign:g,horizontalSign:m,lineConstants:p,line:[vt(t,v),vt(t,c)]}})}function va(r,t,e,n){var a=n?r.map(function(i){return qt(i,n)}):r;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(i){var o=On(e,i)<=0;return!mi(t,i,o)})}function xu(r){var t=r[0],e=r[1],n=e[0]-t[0],a=e[1]-t[1];if(!n)return Math.abs(t[0]);if(!a)return Math.abs(t[1]);var i=a/n;return Math.abs((-i*t[0]+t[1])/Math.sqrt(Math.pow(i,2)+1))}function Eu(r){var t=r[0],e=r[1],n=e[0]-t[0],a=e[1]-t[1];if(!n)return[t[0],0];if(!a)return[0,t[1]];var i=a/n,o=-i*t[0]+t[1];return[-o/(i+1/i),o/(i*i+1)]}function Mu(r,t,e,n,a){var i=r.props.innerBounds,o=a*Math.PI/180;if(!i)return[];var s=i.left,u=i.top,f=i.width,l=i.height,v=s-n[0],c=s+f-n[0],d=u-n[1],p=u+l-n[1],h=[[v,d],[c,d],[v,p],[c,p]],g=vt(e,[0,0]);if(!va(e,h,g,0))return[];var m=[],b=h.map(function(S){return[At(S),it([0,0],S)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(S){var x=it([0,0],Eu(S)),y=xu(S);m.push.apply(m,b.filter(function(M){var E=M[0];return E&&y<=E}).map(function(M){var E=M[0],D=M[1],C=Math.acos(E?y/E:0),_=D+C,w=D-C;return[o+_-x,o+w-x]}).reduce(function(M,E){return M.push.apply(M,E),M},[]).filter(function(M){return!va(t,h,g,M)}).map(function(M){return q(M*180/Math.PI,Ct)}))}),m}function yu(r){var t=r.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var e=r.getRect(),n=e.pos1,a=e.pos2,i=e.pos3,o=e.pos4,s=[n,a,i,o],u=vt(s,[0,0]),f=t.left,l=t.top,v=t.width,c=t.height,d=[[f,l],[f,l+c]],p=[[f,l],[f+v,l]],h=[[f+v,l],[f+v,l+c]],g=[[f,l+c],[f+v,l+c]],m=Rn(r,s,[0,0],!1),b=[],S=[],x={top:!1,bottom:!1,left:!1,right:!1};return m.forEach(function(y){var M=y.line,E=y.lineConstants,D=gi(u,M),C=D.horizontal,_=D.vertical,w=jt(M,E,p,_,1,!0),O=jt(M,E,g,_,1,!0),P=jt(M,E,d,C,1,!0),T=jt(M,E,h,C,1,!0);w.isBound&&!x.top&&(b.push(l),x.top=!0),O.isBound&&!x.bottom&&(b.push(l+c),x.bottom=!0),P.isBound&&!x.left&&(S.push(f),x.left=!0),T.isBound&&!x.right&&(S.push(f+v),x.right=!0)}),{horizontal:b,vertical:S}}function wn(r,t,e){var n=r||{},a=n.position,i=a===void 0?"client":a,o=n.left,s=o===void 0?-1/0:o,u=n.top,f=u===void 0?-1/0:u,l=n.right,v=l===void 0?1/0:l,c=n.bottom,d=c===void 0?1/0:c,p={position:i,left:s,top:f,right:v,bottom:d};return{vertical:da(p,t,!0),horizontal:da(p,e,!1)}}function ve(r,t){var e=r.state,n=e.containerClientRect,a=n.clientHeight,i=n.clientWidth,o=n.clientLeft,s=n.clientTop,u=e.snapOffset,f=u.left,l=u.top,v=u.right,c=u.bottom,d=t||r.props.bounds||{},p=d.position||"client",h=p==="css",g=d.left,m=g===void 0?-1/0:g,b=d.top,S=b===void 0?-1/0:b,x=d.right,y=x===void 0?h?-1/0:1/0:x,M=d.bottom,E=M===void 0?h?-1/0:1/0:M;return h&&(y=i+v-f-y,E=a+c-l-E),{left:m+f-o,right:y+f-o,top:S+l-s,bottom:E+l-s}}function _u(r,t,e){var n=ve(r),a=n.left,i=n.top,o=n.right,s=n.bottom,u=e[0],f=e[1],l=X(e,t),v=l[0],c=l[1];Math.abs(v)<Ct&&(v=0),Math.abs(c)<Ct&&(c=0);var d=c>0,p=v>0,h={isBound:!1,offset:0,pos:0},g={isBound:!1,offset:0,pos:0};if(v===0&&c===0)return{vertical:h,horizontal:g};if(v===0)d?s<f&&(g.pos=s,g.offset=f-s):i>f&&(g.pos=i,g.offset=f-i);else if(c===0)p?o<u&&(h.pos=o,h.offset=u-o):a>u&&(h.pos=a,h.offset=u-a);else{var m=c/v,b=e[1]-m*u,S=0,x=0,y=!1;p&&o<=u?(S=m*o+b,x=o,y=!0):!p&&u<=a&&(S=m*a+b,x=a,y=!0),y&&(S<i||S>s)&&(y=!1),y||(d&&s<=f?(S=s,x=(S-b)/m,y=!0):!d&&f<=i&&(S=i,x=(S-b)/m,y=!0)),y&&(h.isBound=!0,h.pos=x,h.offset=u-x,g.isBound=!0,g.pos=S,g.offset=f-S)}return{vertical:h,horizontal:g}}function da(r,t,e){var n=r[e?"left":"top"],a=r[e?"right":"bottom"],i=Math.min.apply(Math,t),o=Math.max.apply(Math,t),s=[];return n+1>i&&s.push({isBound:!0,offset:i-n,pos:n}),a-1<o&&s.push({isBound:!0,offset:o-a,pos:a}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(u,f){return Math.abs(f.offset)-Math.abs(u.offset)})}function pa(r,t,e){var n=e?r.map(function(a){return qt(a,e)}):r;return n.some(function(a){return a[0]<t.left&&Math.abs(a[0]-t.left)>.1||a[0]>t.right&&Math.abs(a[0]-t.right)>.1||a[1]<t.top&&Math.abs(a[1]-t.top)>.1||a[1]>t.bottom&&Math.abs(a[1]-t.bottom)>.1})}function Du(r,t,e){var n=At(r),a=Math.sqrt(n*n-t*t)||0;return[a,-a].sort(function(i,o){return Math.abs(i-r[e?0:1])-Math.abs(o-r[e?0:1])}).map(function(i){return it([0,0],e?[i,t]:[t,i])})}function Cu(r,t,e,n,a){if(!r.props.bounds)return[];var i=a*Math.PI/180,o=ve(r),s=o.left,u=o.top,f=o.right,l=o.bottom,v=s-n[0],c=f-n[0],d=u-n[1],p=l-n[1],h={left:v,top:d,right:c,bottom:p};if(!pa(e,h,0))return[];var g=[];return[[v,0],[c,0],[d,1],[p,1]].forEach(function(m){var b=m[0],S=m[1];e.forEach(function(x){var y=it([0,0],x);g.push.apply(g,Du(x,b,S).map(function(M){return i+M-y}).filter(function(M){return!pa(t,h,M)}).map(function(M){return q(M*180/Math.PI,Ct)}))})}),g}function Ou(r,t){var e,n=r.direction,a=r.classNames,i=r.size,o=r.pos,s=r.zoom,u=r.key,f=n==="horizontal",l=f?"Y":"X";return t.createElement("div",{key:u,className:a.join(" "),style:(e={},e[f?"width":"height"]="".concat(i),e.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(l,"(-50%) scale").concat(l,"(").concat(s,")"),e)})}function Pn(r,t){return Ou(R(R({},r),{classNames:Y([V("line","guideline",r.direction)],r.classNames,!0).filter(function(e){return e}),size:r.size||"".concat(r.sizeValue,"px"),pos:r.pos||r.posValue.map(function(e){return"".concat(q(e,.1),"px")})}),t)}function ha(r,t,e,n,a,i,o,s){var u=r.props.zoom;return e.map(function(f,l){var v=f.type,c=f.pos,d=[0,0];return d[o]=n,d[o?0:1]=-a+c,Pn({key:"".concat(t,"TargetGuideline").concat(l),classNames:[V("target","bold",v)],posValue:d,sizeValue:i,zoom:u,direction:t},s)})}function ga(r,t,e,n,a,i){var o=r.props,s=o.zoom,u=o.isDisplayInnerSnapDigit,f=t==="horizontal"?Kt:Zt,l=a[f.start],v=a[f.end];return e.filter(function(c){var d=c.hide,p=c.elementRect;if(d)return!1;if(u&&p){var h=p.rect;if(h[f.start]<=l&&v<=h[f.end])return!1}return!0}).map(function(c,d){var p=c.pos,h=c.size,g=c.element,m=[-n[0]+p[0],-n[1]+p[1]];return Pn({key:"".concat(t,"-default-guideline-").concat(d),classNames:g?[V("bold")]:[],direction:t,posValue:m,sizeValue:h,zoom:s},i)})}function Er(r,t,e,n,a,i,o,s){var u,f=r.props,l=f.snapDigit,v=l===void 0?0:l,c=f.isDisplaySnapDigit,d=c===void 0?!0:c,p=f.snapDistFormat,h=p===void 0?function(y,M){return y}:p,g=f.zoom,m=t==="horizontal"?"X":"Y",b=t==="vertical"?"height":"width",S=Math.abs(a),x=d?parseFloat(S.toFixed(v)):0;return s.createElement("div",{key:"".concat(t,"-").concat(e,"-guideline-").concat(n),className:V("guideline-group",t),style:(u={left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},u[b]="".concat(S,"px"),u)},Pn({direction:t,classNames:[V(e),o],size:"100%",posValue:[0,0],sizeValue:S,zoom:g},s),s.createElement("div",{className:V("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},x>0?h(x,t):""))}function Ru(r,t,e,n){var a=r==="vertical"?0:1,i=r==="vertical"?1:0,o=a?Kt:Zt,s=e[o.start],u=e[o.end];return mf(t,function(f){return f.pos[a]}).map(function(f){var l=[],v=[],c=[];return f.forEach(function(d){var p,h,g=d.element,m=d.elementRect.rect;if(m[o.end]<s)l.push(d);else if(u<m[o.start])v.push(d);else if(m[o.start]<=s&&u<=m[o.end]&&n){var b=d.pos,S={element:g,rect:R(R({},m),(p={},p[o.end]=m[o.start],p))},x={element:g,rect:R(R({},m),(h={},h[o.start]=m[o.end],h))},y=[0,0],M=[0,0];y[a]=b[a],y[i]=b[i],M[a]=b[a],M[i]=b[i]+d.size,l.push({type:r,pos:y,size:0,elementRect:S}),v.push({type:r,pos:M,size:0,elementRect:x})}}),l.sort(function(d,p){return p.pos[i]-d.pos[i]}),v.sort(function(d,p){return d.pos[i]-p.pos[i]}),{total:f,start:l,end:v,inner:c}})}function wu(r,t,e,n,a){var i=r.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var u=t.filter(function(g){return g.type===s}),f=s==="vertical"?1:0,l=f?0:1,v=Ru(s,u,n,i),c=f?Zt:Kt,d=f?Kt:Zt,p=n[c.start],h=n[c.end];v.forEach(function(g){var m=g.total,b=g.start,S=g.end,x=g.inner,y=e[l]+m[0].pos[l]-n[d.start],M=n;b.forEach(function(E){var D=E.elementRect.rect,C=M[c.start]-D[c.end];if(C>0){var _=[0,0];_[f]=e[f]+M[c.start]-p-C,_[l]=y,o.push(Er(r,s,"dashed",o.length,C,_,E.className,a))}M=D}),M=n,S.forEach(function(E){var D=E.elementRect.rect,C=D[c.start]-M[c.end];if(C>0){var _=[0,0];_[f]=e[f]+M[c.end]-p,_[l]=y,o.push(Er(r,s,"dashed",o.length,C,_,E.className,a))}M=D}),x.forEach(function(E){var D=E.elementRect.rect,C=p-D[c.start],_=D[c.end]-h,w=[0,0],O=[0,0];w[f]=e[f]-C,w[l]=y,O[f]=e[f]+h-p,O[l]=y,o.push(Er(r,s,"dashed",o.length,C,w,E.className,a)),o.push(Er(r,s,"dashed",o.length,_,O,E.className,a))})})}),o}function Pu(r,t,e,n,a){var i=[];return["horizontal","vertical"].forEach(function(o){var s=t.filter(function(g){return g.type===o}),u=o==="vertical"?0:1,f=u?0:1,l=u?Zt:Kt,v=u?Kt:Zt,c=n[l.start],d=n[l.end],p=n[v.start],h=n[v.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,S=g.className,x=Math.max.apply(Math,Y([p],b.map(function(E){var D=E.rect;return D[v.start]}),!1)),y=Math.min.apply(Math,Y([h],b.map(function(E){var D=E.rect;return D[v.end]}),!1)),M=(x+y)/2;x===y||M===(p+h)/2||b.forEach(function(E){var D=E.rect,C=[e[0],e[1]];if(D[l.end]<c)C[u]+=D[l.end]-c;else if(d<D[l.start])C[u]+=D[l.start]-c-m;else return;C[f]+=M-p,i.push(Er(r,u?"vertical":"horizontal","gap",i.length,m,C,S,a))})})}),i}function Tu(r,t,e,n){var a=t[0]-r[0],i=t[1]-r[1];if(Math.abs(a)<ct&&(a=0),Math.abs(i)<ct&&(i=0),!a)return n?[0,0]:[0,e];if(!i)return n?[e,0]:[0,0];var o=i/a,s=r[1]-o*r[0];if(n){var u=o*(t[0]+e)+s;return[e,u-t[1]]}else{var f=(t[1]+e-s)/o;return[f-t[0],e]}}function an(r,t,e,n,a){var i=Tu(r,t,e,n);if(!i)return{isOutside:!1,offset:[0,0]};var o=Nt(r,t),s=Nt(i,r),u=Nt(i,t),f=s>o||u>o,l=Yt({datas:a,distX:i[0],distY:i[1]}),v=l[0],c=l[1];return{offset:[v,c],isOutside:f}}function ee(r,t){return r.isBound?r.offset:t.isSnap?nn(t).offset:0}function Bu(r,t,e,n,a){var i=t[0],o=t[1],s=e[0],u=e[1],f=n[0],l=n[1],v=a[0],c=a[1],d=-v,p=-c;if(r&&i&&o){d=0,p=0;var h=[];if(s&&u?h.push([0,c],[v,0]):s?h.push([v,0]):u?h.push([0,c]):f&&l?h.push([0,c],[v,0]):f?h.push([v,0]):l&&h.push([0,c]),h.length){h.sort(function(S,x){return At(X([i,o],S))-At(X([i,o],x))});var g=h[0];if(g[0]&&Math.abs(i)>ct)d=-g[0],p=o*Math.abs(i+d)/Math.abs(i)-o;else if(g[1]&&Math.abs(o)>ct){var m=o;p=-g[1],d=i*Math.abs(o+p)/Math.abs(m)-i}if(r&&u&&s)if(Math.abs(d)>ct&&Math.abs(d)<Math.abs(v)){var b=Math.abs(v)/Math.abs(d);d*=b,p*=b}else if(Math.abs(p)>ct&&Math.abs(p)<Math.abs(c)){var b=Math.abs(c)/Math.abs(p);d*=b,p*=b}else d=dr(-v,d),p=dr(-c,p)}}else d=i||s?-v:0,p=o||u?-c:0;return[d,p]}function Iu(r,t,e,n,a,i){if(!hr(r,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Gn(i.absolutePoses,[t,e]),s=wt(o),u=s.left,f=s.right,l=s.top,v=s.bottom,c={horizontal:o.map(function(T){return T[1]}),vertical:o.map(function(T){return T[0]})},d=Dn(r.props.snapDirections),p=Cn(d,{left:u,right:f,top:l,bottom:v,center:(u+f)/2,middle:(l+v)/2}),h=de(r,a,p,c),g=h.vertical,m=h.horizontal,b=bu(r,o,i),S=b.vertical,x=b.horizontal,y=g.isSnap,M=m.isSnap,E=g.isBound||S.isBound,D=m.isBound||x.isBound,C=dr(g.offset,S.offset),_=dr(m.offset,x.offset),w=Bu(n,[t,e],[E,D],[y,M],[C,_]),O=w[0],P=w[1];return[{isBound:E,isSnap:y,offset:O},{isBound:D,isSnap:M,offset:P}]}function de(r,t,e,n){n===void 0&&(n=e);var a=wn(ve(r),n.vertical,n.horizontal),i=a.horizontal,o=a.vertical,s=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:ce(r,e.vertical,e.horizontal),u=s.horizontal,f=s.vertical,l=ee(i[0],u),v=ee(o[0],f),c=Math.abs(l),d=Math.abs(v);return{horizontal:{isBound:i[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:l,dist:c,bounds:i,snap:u},vertical:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:v,dist:d,bounds:o,snap:f}}}function ma(r,t,e,n,a){var i=wn(t,e,n),o=i.horizontal,s=i.vertical,u=pi(r,e,n,a),f=u.horizontal,l=u.vertical,v=ee(o[0],f),c=ee(s[0],l),d=Math.abs(v),p=Math.abs(c);return{horizontal:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:v,dist:d,bounds:o,snap:f},vertical:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:p,bounds:s,snap:l}}}function zu(r,t,e,n){var a=it(r,t)/Math.PI*180,i=e.vertical,o=i.isBound,s=i.isSnap,u=i.dist,f=e.horizontal,l=f.isBound,v=f.isSnap,c=f.dist,d=a%180,p=d<3||d>177,h=d>87&&d<93;return c<u&&(o||s&&!h&&(!n||!p))?"vertical":l||v&&!p&&(!n||!h)?"horizontal":""}function Gu(r,t,e,n,a,i){return e.map(function(o){var s=o[0],u=o[1],f=vt(t,s),l=vt(t,u),v=n?Au(r,f,l,a):de(r,a,{vertical:[l[0]],horizontal:[l[1]]}),c=v.horizontal,d=c.offset,p=c.isBound,h=c.isSnap,g=v.vertical,m=g.offset,b=g.isBound,S=g.isSnap,x=X(u,s);if(!m&&!d)return{isBound:b||p,isSnap:S||h,sign:x,offset:[0,0]};var y=zu(f,l,v,n);if(!y)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var M=y==="vertical",E=[0,0];return!n&&Math.abs(u[0])===1&&Math.abs(u[1])===1&&s[0]!==u[0]&&s[1]!==u[1]?E=Yt({datas:i,distX:-m,distY:-d}):E=an(f,l,-(M?m:d),M,i).offset,E=E.map(function(D,C){return D*(x[C]?2/x[C]:0)}),{sign:x,isBound:M?b:p,isSnap:M?S:h,offset:E}})}function ba(r,t){return r.isBound?r.offset:t.isSnap?t.offset:0}function Au(r,t,e,n){var a=_u(r,t,e),i=a.horizontal,o=a.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:pu(r,t,e),u=s.horizontal,f=s.vertical,l=ba(i,u),v=ba(o,f),c=Math.abs(l),d=Math.abs(v);return{horizontal:{isBound:i.isBound,isSnap:u.isSnap,offset:l,dist:c},vertical:{isBound:o.isBound,isSnap:f.isSnap,offset:v,dist:d}}}function ku(r,t,e,n,a){var i=[-e[0],-e[1]],o=r.state,s=o.width,u=o.height,f=r.props.bounds,l=1/0,v=1/0;if(f){var c=[[e[0],-e[1]],[-e[0],e[1]]],d=f.left,p=d===void 0?-1/0:d,h=f.top,g=h===void 0?-1/0:h,m=f.right,b=m===void 0?1/0:m,S=f.bottom,x=S===void 0?1/0:S;c.forEach(function(y){var M=y[0]!==i[0],E=y[1]!==i[1],D=vt(t,y),C=it(n,D)*360/Math.PI;if(E){var _=D.slice();(Math.abs(C-360)<2||Math.abs(C-180)<2)&&(_[1]=n[1]);var w=an(n,_,(n[1]<D[1]?x:g)-D[1],!1,a),O=w.offset,P=O[1],T=w.isOutside;isNaN(P)||(v=u+(T?1:-1)*Math.abs(P))}if(M){var _=D.slice();(Math.abs(C-90)<2||Math.abs(C-270)<2)&&(_[0]=n[0]);var I=an(n,_,(n[0]<D[0]?b:p)-D[0],!0,a),A=I.offset[0],G=I.isOutside;isNaN(A)||(l=s+(G?1:-1)*Math.abs(A))}})}return{maxWidth:l,maxHeight:v}}function ze(r){var t=r.state;if(!(t.guidelines&&t.guidelines.length)){var e=r.state.container,n=r.props.snapContainer||e,a=t.containerClientRect,i={left:0,top:0,bottom:0,right:0};if(e!==n){var o=xe(n,!0);if(o){var s=Jr(o),u=_a(t,[s.left-a.left,s.top-a.top]),f=_a(t,[s.right-a.right,s.bottom-a.bottom]);i.left=q(u[0],.1),i.top=q(u[1],.1),i.right=q(f[0],.1),i.bottom=q(f[1],.1)}}t.snapOffset=i,t.guidelines=en(r),t.enableSnap=!0}}function Si(r,t,e,n,a,i){var o=gr(r,t,e,i?4:3),s=vt(o,n);return Gn(o,X(a,s))}function Fu(r,t,e,n,a,i){var o=i.fixedDirection,s=gu(e,o,n),u=Rn(r,t,e,n),f=Y(Y([],Gu(r,t,s,n,a,i),!0),bi(r,u,i),!0),l=re(f,0),v=re(f,1);return{width:{isBound:l.isBound,offset:l.offset[0]},height:{isBound:v.isBound,offset:v.offset[1]}}}function Lu(r,t,e,n,a,i,o,s,u){var f=vt(t,o),l=de(r,s,{vertical:[f[0]],horizontal:[f[1]]}),v=l.horizontal.offset,c=l.vertical.offset;if(c||v){var d=Yt({datas:u,distX:-c,distY:-v}),p=d[0],h=d[1],g=Math.min(a||1/0,e+o[0]*p),m=Math.min(i||1/0,n+o[1]*h);return[g-e,m-n]}return[0,0]}function xi(r,t,e,n,a,i,o,s){for(var u=_t(r.state),f=r.props.keepRatio,l=0,v=0,c=0;c<2;++c){var d=t(l,v),p=Fu(r,d,a,f,o,s),h=p.width,g=p.height,m=h.isBound,b=g.isBound,S=h.offset,x=g.offset;if(c===1&&(m||(S=0),b||(x=0)),c===0&&o&&!m&&!b)return[0,0];if(f){var y=Math.abs(S)*(e?1/e:1),M=Math.abs(x)*(n?1/n:1),E=m&&b?y<M:b||!m&&y<M;E?S=e*x/n:x=n*S/e}l+=S,v+=x}if(a[0]&&a[1]){var D=ku(r,u,a,i,s),C=D.maxWidth,_=D.maxHeight,w=Lu(r,t(l,v).map(function(T){return T.map(function(I){return q(I,tu)})}),e+l,n+v,C,_,a,o,s),S=w[0],x=w[1];l+=S,v+=x}return[l,v]}function Yu(r,t,e,n){if(!hr(r,"rotatable"))return n;var a=t.pos1,i=t.pos2,o=t.pos3,s=t.pos4,u=n*Math.PI/180,f=[a,i,o,s].map(function(c){return X(c,e)}),l=f.map(function(c){return qt(c,u)}),v=Y(Y([],Cu(r,f,l,e,n),!0),Mu(r,f,l,e,n),!0);return v.sort(function(c,d){return Math.abs(c-n)-Math.abs(d-n)}),v.length?v[0]:n}function Nu(r,t,e,n,a,i,o){if(!hr(r,"resizable"))return[0,0];var s=o.fixedDirection,u=r.state,f=u.allMatrix,l=u.is3d;return xi(r,function(v,c){return Si(f,t+v,e+c,s,a,l)},t,e,n,a,i,o)}function Xu(r,t,e,n,a){if(!hr(r,"scalable"))return[0,0];var i=a.startOffsetWidth,o=a.startOffsetHeight,s=a.fixedPosition,u=a.fixedDirection,f=a.is3d,l=xi(r,function(v,c){return Si(Zu(a,H(t,[v/i,c/o])),i,o,u,s,f)},i,o,e,s,n,a);return[l[0]/i,l[1]/o]}function Wu(r,t){t.absolutePoses=_t(r.state)}function Sa(r){var t=[];return r.forEach(function(e){e.guidelineInfos.forEach(function(n){var a=n.guideline;t.indexOf(a)>-1||t.push(a)})}),t}function xa(r,t,e,n,a,i){var o=wn(ve(r,i),t,e),s=o.vertical,u=o.horizontal;s.forEach(function(c){c.isBound&&n.push({type:"bounds",pos:c.pos})}),u.forEach(function(c){c.isBound&&a.push({type:"bounds",pos:c.pos})});var f=yu(r),l=f.vertical,v=f.horizontal;l.forEach(function(c){Ft(n,function(d){var p=d.type,h=d.pos;return p==="bounds"&&h===c})>=0||n.push({type:"bounds",pos:c})}),v.forEach(function(c){Ft(a,function(d){var p=d.type,h=d.pos;return p==="bounds"&&h===c})>=0||a.push({type:"bounds",pos:c})})}var Vu={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(r,t){var e=r.state,n=e.top,a=e.left,i=e.pos1,o=e.pos2,s=e.pos3,u=e.pos4,f=e.snapRenderInfo;if(!f||!hr(r,""))return[];e.guidelines=en(r);var l=Math.min(i[0],o[0],s[0],u[0]),v=Math.min(i[1],o[1],s[1],u[1]),c=f.externalPoses||[],d=_t(r.state),p=[],h=[],g=[],m=[],b=[],S=wt(d),x=S.width,y=S.height,M=S.top,E=S.left,D=S.bottom,C=S.right,_={left:E,right:C,top:M,bottom:D,center:(E+C)/2,middle:(M+D)/2},w=c.length>0,O=w?wt(c):{};if(!f.request){if(f.direction&&b.push(hu(r,d,f.direction)),f.snap){var P=wt(d);f.center&&(P.middle=(P.top+P.bottom)/2,P.center=(P.left+P.right)/2),b.push(fa(r,P,1))}w&&(f.center&&(O.middle=(O.top+O.bottom)/2,O.center=(O.left+O.right)/2),b.push(fa(r,O,1))),b.forEach(function(G){var k=G.vertical.posInfos,B=G.horizontal.posInfos;p.push.apply(p,k.filter(function(L){var z=L.guidelineInfos;return z.some(function(W){var nt=W.guideline;return!nt.hide})}).map(function(L){return{type:"snap",pos:L.pos}})),h.push.apply(h,B.filter(function(L){var z=L.guidelineInfos;return z.some(function(W){var nt=W.guideline;return!nt.hide})}).map(function(L){return{type:"snap",pos:L.pos}})),g.push.apply(g,Sa(k)),m.push.apply(m,Sa(B))})}xa(r,[E,C],[M,D],p,h),w&&xa(r,[O.left,O.right],[O.top,O.bottom],p,h,f.externalBounds);var T=Y(Y([],g,!0),m,!0),I=T.filter(function(G){return G.element&&!G.gapRects}),A=T.filter(function(G){return G.gapRects});return F(r,"onSnap",{guidelines:T.filter(function(G){var k=G.element;return!k}),elements:I,gaps:A},!0),Y(Y(Y(Y(Y(Y([],wu(r,I,[l,v],_,t),!0),Pu(r,A,[l,v],_,t),!0),ga(r,"horizontal",m,[a,n],_,t),!0),ga(r,"vertical",g,[a,n],_,t),!0),ha(r,"horizontal",h,l,n,x,0,t),!0),ha(r,"vertical",p,v,a,y,1,t),!0)},dragStart:function(r,t){r.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},ze(r)},drag:function(r){var t=r.state;t.guidelines=en(r)},pinchStart:function(r){this.unset(r)},dragEnd:function(r){this.unset(r)},dragControlCondition:function(r,t){if(wr(r,t)||rn(r,t))return!0;if(!t.isRequest&&t.inputEvent)return It(t.inputEvent.target,V("snap-control"))},dragControlStart:function(r){r.state.snapRenderInfo=null,ze(r)},dragControl:function(r){this.drag(r)},dragControlEnd:function(r){this.unset(r)},dragGroupStart:function(r,t){this.dragStart(r,t)},dragGroup:function(r){this.drag(r)},dragGroupEnd:function(r){this.unset(r)},dragGroupControlStart:function(r){r.state.snapRenderInfo=null,ze(r)},dragGroupControl:function(r){this.drag(r)},dragGroupControlEnd:function(r){this.unset(r)},unset:function(r){var t=r.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}},St={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(r,t){var e=r.props,n=e.throttleDragRotate,a=e.zoom,i=r.state,o=i.dragInfo,s=i.beforeOrigin;if(!n||!o)return[];var u=o.dist;if(!u[0]&&!u[1])return[];var f=At(u),l=it(u,[0,0]);return[t.createElement("div",{className:V("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(s[0],"px, ").concat(s[1],"px) rotate(").concat(l,"rad) scaleY(").concat(a,")")}})]},dragStart:function(r,t){var e=t.datas,n=t.parentEvent,a=t.parentGesto,i=r.state,o=i.target,s=i.gesto;if(s)return!1;i.gesto=a||r.targetGesto;var u=Et(o);e.datas={},e.left=parseFloat(u.left||"")||0,e.top=parseFloat(u.top||"")||0,e.bottom=parseFloat(u.bottom||"")||0,e.right=parseFloat(u.right||"")||0,e.startValue=[0,0],ar(r,t),be(t,"translate"),Wu(r,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0];var f=N(r,t,R({set:function(v){e.startValue=v}},me(t))),l=n||F(r,"onDragStart",f);return l!==!1?(e.isDrag=!0,r.state.dragInfo={startRect:r.getRect(),dist:[0,0]}):(i.gesto=null,e.isPinch=!1),e.isDrag?f:!1},drag:function(r,t){if(!!t){pe(t,"translate");var e=t.datas,n=t.parentEvent,a=t.parentFlag,i=t.isPinch,o=t.isRequest,s=t.deltaOffset,u=t.distX,f=t.distY,l=e.isDrag,v=e.prevDist,c=e.prevBeforeDist,d=e.startValue;if(!!l){s&&(u+=s[0],f+=s[1]);var p=r.props,h=p.parentMoveable,g=n?0:p.throttleDrag||0,m=n?0:p.throttleDragRotate||0,b=!1,S=0;if(!n&&m>0&&(u||f)){var x=p.startDragRotate||0,y=q(x+it([0,0],[u,f])*180/Math.PI,m)-x,M=f*Math.abs(Math.cos((y-90)/180*Math.PI)),E=u*Math.abs(Math.cos(y/180*Math.PI)),D=At([E,M]);S=y*Math.PI/180,u=D*Math.cos(S),f=D*Math.sin(S)}if(!i&&!n&&!a&&(!m||u||f)){var C=Iu(r,u,f,m,o||s,e),_=C[0],w=C[1],O=_.isSnap,P=_.isBound,T=_.offset,I=w.isSnap,A=w.isBound,G=w.offset;b=O||I||P||A,u+=T,f+=G}var k=H(yi({datas:e,distX:u,distY:f}),d),B=H(qu({datas:e,distX:u,distY:f}),d);!m&&!b&&(Jn(B,g),Jn(k,g));var L=X(k,d),z=X(B,d),W=X(z,v),nt=X(L,c);e.prevDist=z,e.prevBeforeDist=L,e.passDelta=W,e.passDist=z;var dt=e.left+L[0],at=e.top+L[1],et=e.right-L[0],j=e.bottom-L[1],tt=he(e,"translate(".concat(B[0],"px, ").concat(B[1],"px)"),"translate(".concat(z[0],"px, ").concat(z[1],"px)"));if(Tn(t,tt),r.state.dragInfo.dist=n?[0,0]:z,!(!n&&!h&&W.every(function(gt){return!gt})&&nt.some(function(gt){return!gt}))){var J=r.state,mt=J.width,pt=J.height,Dt=N(r,t,{transform:tt,dist:z,delta:W,translate:B,beforeDist:L,beforeDelta:nt,beforeTranslate:k,left:dt,top:at,right:et,bottom:j,width:mt,height:pt,isPinch:i});return!n&&F(r,"onDrag",Dt),Dt}}}},dragAfter:function(r,t){var e=t.datas,n=e.deltaOffset;return n[0]||n[1]?(e.deltaOffset=[0,0],this.drag(r,R(R({},t),{deltaOffset:n}))):!1},dragEnd:function(r,t){var e=t.parentEvent,n=t.datas;if(r.state.gesto=null,r.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=Ot(r,t,{});return!e&&F(r,"onDragEnd",a),a}},dragGroupStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=this.dragStart(r,t);if(!i)return!1;var o=Pe(r,this,"dragStart",[n||0,a||0],t,!1),s=R(R({},i),{targets:r.props.targets,events:o}),u=F(r,"onDragGroupStart",s);return e.isDrag=u!==!1,e.isDrag?i:!1},dragGroup:function(r,t){var e=t.datas;if(!!e.isDrag){var n=this.drag(r,t),a=t.datas.passDelta,i=Pe(r,this,"drag",a,t,!1);if(!!n){var o=R({targets:r.props.targets,events:i},n);return F(r,"onDragGroup",o),o}}},dragGroupEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isDrag){this.dragEnd(r,t);var a=Pe(r,this,"dragEnd",[0,0],t,!1);return F(r,"onDragGroupEnd",Ot(r,t,{targets:r.props.targets,events:a})),e}},request:function(r){var t={},e=r.getRect(),n=0,a=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(i){return"x"in i?n=i.x-e.left:"deltaX"in i&&(n+=i.deltaX),"y"in i?a=i.y-e.top:"deltaY"in i&&(a+=i.deltaY),{datas:t,distX:n,distY:a}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(r){r.state.dragInfo=null}};function Ei(r,t){var e=t.clientX,n=t.clientY,a=t.datas,i=r.state,o=i.moveableClientRect,s=i.rootMatrix,u=i.is3d,f=i.pos1,l=o.left,v=o.top,c=u?4:3,d=X(cr(s,[e-l,n-v],c),f),p=d[0],h=d[1],g=Yt({datas:a,distX:p,distY:h}),m=g[0],b=g[1];return[m,b]}function ar(r,t){var e=t.datas,n=r.state,a=n.allMatrix,i=n.beforeMatrix,o=n.is3d,s=n.left,u=n.top,f=n.origin,l=n.offsetMatrix,v=n.targetMatrix,c=n.transformOrigin,d=o?4:3;e.is3d=o,e.matrix=a,e.targetMatrix=v,e.beforeMatrix=i,e.offsetMatrix=l,e.transformOrigin=c,e.inverseMatrix=Lt(a,d),e.inverseBeforeMatrix=Lt(i,d),e.absoluteOrigin=zr(H([s,u],f),d),e.startDragBeforeDist=xt(e.inverseBeforeMatrix,e.absoluteOrigin,d),e.startDragDist=xt(e.inverseMatrix,e.absoluteOrigin,d)}function Hu(r){return ae(r.datas.beforeTransform,[50,50],100,100).direction}function pe(r,t){var e=r.datas,n=r.originalDatas.beforeRenderable,a=e.transformIndex,i=n.nextTransforms,o=n.nextTransformAppendedIndexes,s=0;a===-1?(s=i.length,e.transformIndex=s):s=a+o.filter(function(v){return v<a}).length;var u=Ef(i,s),f=u.targetFunction,l=t==="rotate"?"rotateZ":t;e.beforeFunctionTexts=u.beforeFunctionTexts,e.afterFunctionTexts=u.afterFunctionTexts,e.beforeTransform=u.beforeFunctionMatrix,e.beforeTransform2=u.beforeFunctionMatrix2,e.targetTansform=u.targetFunctionMatrix,e.afterTransform=u.afterFunctionMatrix,e.afterTransform2=u.afterFunctionMatrix2,e.targetAllTransform=u.allFunctionMatrix,f.functionName===l?(e.afterFunctionTexts.splice(0,1),e.isAppendTransform=!1):(e.isAppendTransform=!0,n.nextTransformAppendedIndexes=Y(Y([],o,!0),[s],!1))}function he(r,t,e){return"".concat(r.beforeFunctionTexts.join(" ")," ").concat(r.isAppendTransform?e:t," ").concat(r.afterFunctionTexts.join(" "))}function qu(r){var t=r.datas,e=r.distX,n=r.distY,a=yi({datas:t,distX:e,distY:n}),i=a[0],o=a[1],s=Mi(t,is([i,o],4));return xt(s,zr([0,0,0],4),4)}function Mi(r,t,e){var n=r.beforeTransform,a=r.afterTransform,i=r.beforeTransform2,o=r.afterTransform2,s=r.targetAllTransform,u=e?K(s,t,4):K(t,s,4),f=K(Lt(e?i:n,4),u,4),l=K(f,Lt(e?o:a,4),4);return l}function yi(r){var t=r.datas,e=r.distX,n=r.distY,a=t.inverseBeforeMatrix,i=t.is3d,o=t.startDragBeforeDist,s=t.absoluteOrigin,u=i?4:3;return X(xt(a,H(s,[e,n]),u),o)}function Yt(r,t){var e=r.datas,n=r.distX,a=r.distY,i=e.inverseBeforeMatrix,o=e.inverseMatrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,v=s?4:3;return X(xt(t?i:o,H(l,[n,a]),v),t?u:f)}function ju(r,t){var e=r.datas,n=r.distX,a=r.distY,i=e.beforeMatrix,o=e.matrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,v=s?4:3;return X(xt(t?i:o,H(t?u:f,[n,a]),v),l)}function $u(r,t,e,n,a,i){return n===void 0&&(n=t),a===void 0&&(a=e),i===void 0&&(i=[0,0]),r?r.map(function(o,s){var u=Tr(o),f=u.value,l=u.unit,v=s?a:n,c=s?e:t;if(o==="%"||isNaN(f)){var d=v?i[s]/v:0;return c*d}else if(l!=="%")return f;return c*f/100}):i}function _i(r){var t=[];return r[1]>=0&&(r[0]>=0&&t.push(3),r[0]<=0&&t.push(2)),r[1]<=0&&(r[0]>=0&&t.push(1),r[0]<=0&&t.push(0)),t}function Di(r,t){return _i(t).map(function(e){return r[e]})}function vt(r,t){var e=Di(r,t);return[Cr(e.map(function(n){return n[0]})),Cr(e.map(function(n){return n[1]}))]}function Uu(r,t,e,n,a,i){var o=gr(t,e,n,a),s=vt(o,i),u=r[0]-s[0],f=r[1]-s[1];return[u,f]}function ge(r,t,e,n){return K(r,Bn(t,n,e),n)}function Ku(r,t,e){var n=r.transformOrigin,a=r.offsetMatrix,i=r.is3d,o=t.beforeTransform,s=t.afterTransform,u=i?4:3,f=Qa([e]);return ge(a,Wt(K(K(o,f,4),s,4),4,u),n,u)}function Zu(r,t){var e=r.transformOrigin,n=r.offsetMatrix,a=r.is3d,i=r.targetMatrix,o=a?4:3;return ge(n,K(i,Ja(t,o),o),e,o)}function me(r){var t=r.originalDatas.beforeRenderable;return{setTransform:function(e,n){n===void 0&&(n=-1),t.startTransforms=er(e)?e:$t(e),on(r,n)},setTransformIndex:function(e){on(r,e)}}}function be(r,t){var e=r.originalDatas.beforeRenderable,n=e.startTransforms;on(r,Ft(n,function(a){return a.indexOf("".concat(t,"("))===0}))}function on(r,t){var e=r.originalDatas.beforeRenderable,n=r.datas;if(n.transformIndex=t,t!==-1){var a=e.startTransforms[t];if(!!a){var i=Jt([a]);n.startValue=i[0].functionValue}}}function Tn(r,t){var e=r.originalDatas.beforeRenderable;e.nextTransforms=$t(t)}function Ea(r){var t=r.originalDatas.beforeRenderable;return t.nextTransforms.join(" ")}function Ci(r,t,e,n,a){return Tn(a,t),{transform:t,drag:St.drag(r,le(a,r.state,e,n,!1))}}function Oi(r,t,e,n,a){var i=r.state,o=i.left,s=i.top,u=r.props.groupable,f=Ku(r.state,a,t),l=u?o:0,v=u?s:0,c=wi(r,e,f),d=X(n,c);return X(d,[l,v])}function Ju(r,t,e,n,a){var i=Oi(r,"scale(".concat(t.join(", "),")"),e,n,a);return i}function Ri(r){var t=r.state,e=t.width,n=t.height,a=t.transformOrigin;return[-1+a[0]/(e/2),-1+a[1]/(n/2)]}function wi(r,t,e){e===void 0&&(e=r.state.allMatrix);var n=r.state,a=n.width,i=n.height,o=n.is3d,s=o?4:3,u=[a/2*(1+t[0]),i/2*(1+t[1])];return ht(e,u,s)}function Qu(r,t,e,n){var a=Ri(r);return Oi(r,"rotate(".concat(t,"deg)"),a,e,n)}function tf(r,t,e,n,a,i){var o=r.props.groupable,s=r.state,u=s.transformOrigin,f=s.targetMatrix,l=s.offsetMatrix,v=s.is3d,c=s.width,d=s.height,p=s.left,h=s.top,g=v?4:3,m=$u(i,t,e,c,d,u),b=o?p:0,S=o?h:0,x=ge(l,f,m,g),y=Uu(a,x,t,e,g,n);return X(y,[b,S])}function Pi(r,t){return vt(_t(r.state),t)}function rf(r,t){return[r[0]*t[0],r[1]*t[1]]}function V(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return uo.apply(void 0,Y([Mn],r,!1))}function Ti(r){r()}function ef(r){return!r||r==="none"?[1,0,0,1,0,0]:kt(r)?r:Qa(r)}function Bn(r,t,e){return Ve(t,Rr(e,t),r,Rr(e.map(function(n){return-n}),t))}function nf(r,t,e){if(t==="%"){var n=In(r.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function af(r){var t=sn(Et(r,":before"));return t.map(function(e,n){var a=Tr(e),i=a.value,o=a.unit;return i*nf(r,o,n===0)})}function sn(r){var t=r.transformOrigin;return t?t.split(" "):["0","0"]}function Bi(r,t){t===void 0&&(t=Et(r));var e=t.transform;if(e&&e!=="none")return t.transform;if("transform"in r){var n=r.transform,a=n.baseVal;if(!a)return"";var i=a.length;if(!i)return"";for(var o=[],s=function(f){var l=a[f].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(v){return l[v]}).join(", "),")"))},u=0;u<i;++u)s(u);return o.join(" ")}return""}function ne(r,t,e){for(var n=document.body,a=!r||e?r:r.parentElement,i=r===t||a===t,o="relative";a&&a!==n;){t===a&&(i=!0);var s=Et(a),u=a.tagName.toLowerCase(),f=Bi(a,s);if(o=s.position,u==="svg"||o!=="static"||f&&f!=="none")break;a=a.parentElement,o="relative"}return{isStatic:o==="static",isEnd:i||!a||a===n,offsetParent:a||n}}function of(r,t){var e,n=r.tagName.toLowerCase(),a=r.offsetLeft,i=r.offsetTop,o=ue(a),s=!o,u,f;return!s&&n!=="svg"?(u=fi?af(r):sn(t).map(function(l){return parseFloat(l)}),f=u.slice(),s=!0,e=vf(r,u),a=e[0],i=e[1],u[0]=e[2],u[1]=e[3]):(u=sn(t).map(function(l){return parseFloat(l)}),f=u.slice()),{tagName:n,isSVG:o,hasOffset:s,offset:[a||0,i||0],origin:u,targetOrigin:f}}function Ii(r,t,e){e===void 0&&(e=Et(r));var n=Et(document.body),a=n.position;if(!t&&(!a||a==="static"))return[0,0];var i=parseInt(n.marginLeft,10),o=parseInt(n.marginTop,10);return e.position==="absolute"&&((e.top!=="auto"||e.bottom!=="auto")&&(o=0),(e.left!=="auto"||e.right!=="auto")&&(i=0)),[i,o]}function un(r){r.forEach(function(t){var e=t.matrix;e&&(t.matrix=Wt(e,3,4))})}function sf(){return[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]}function uf(r){for(var t=r.parentElement,e=!1;t;){var n=Et(t).transform;if(n&&n!=="none"){e=!0;break}if(t===document.body)break;t=t.parentElement}return{fixedContainer:t||document.body,hasTransform:e}}function Ma(r,t,e){for(var n=r,a=[],i=!e&&r===t||r===document.body,o=i,s=!1,u=3,f,l,v,c=!1,d=ne(t,t,!0).offsetParent;n&&!o;){o=i;var p=Et(n),h=p.position,g=Bi(n,p),m=os(ef(g)),b=h==="fixed",S={hasTransform:!1,fixedContainer:null};b&&(c=!0,S=uf(n),d=S.fixedContainer);var x=m.length;!s&&x===16&&(s=!0,u=4,un(a),v&&(v=Wt(v,3,4))),s&&x===9&&(m=Wt(m,3,4));var y=of(n,p),M=y.tagName,E=y.hasOffset,D=y.isSVG,C=y.origin,_=y.targetOrigin,w=y.offset,O=w[0],P=w[1];M==="svg"&&v?(a.push({type:"target",target:n,matrix:cf(n,u)}),a.push({type:"offset",target:n,matrix:rt(u)})):M==="g"&&r!==n&&(O=0,P=0);var T=void 0,I=!1,A=!1;if(b)T=S.fixedContainer,I=!0;else{var G=ne(n,t);T=G.offsetParent,I=G.isEnd,A=G.isStatic}ui&&E&&!D&&A&&(h==="relative"||h==="static")&&(O-=T.offsetLeft,P-=T.offsetTop,i=i||I);var k=0,B=0,L=0,z=0;if(b)E&&S.hasTransform&&(L=T.clientLeft,z=T.clientTop);else if(E&&d!==T&&(k=T.clientLeft,B=T.clientTop),E&&T===document.body){var W=Ii(n,!1,p);O+=W[0],P+=W[1]}if(a.push({type:"target",target:n,matrix:Bn(m,u,C)}),E?a.push({type:"offset",target:n,matrix:Rr([O-n.scrollLeft+k-L,P-n.scrollTop+B-z],u)}):a.push({type:"offset",target:n,origin:C}),v||(v=m),f||(f=C),l||(l=_),o||b)break;n=T,i=I,(!e||n===document.body)&&(o=i)}return v||(v=rt(u)),f||(f=[0,0]),l||(l=[0,0]),{offsetContainer:d,matrixes:a,targetMatrix:v,transformOrigin:f,targetOrigin:l,is3d:s,hasFixed:c}}function ff(r,t,e,n){e===void 0&&(e=t);var a=0,i=0,o=0,s={};if(r){var u=Ai(r),f=u.offsetWidth,l=u.offsetHeight;a=f,i=l}if(r){var v=lf(r,t,e,n),c=ae(v.allMatrix,v.transformOrigin,a,i);s=R(R({},v),c);var d=ae(v.allMatrix,[50,50],100,100);o=ki([d.pos1,d.pos2],d.direction)}var p=n?4:3;return R({width:a,height:i,rotation:o,rootMatrix:rt(p),beforeMatrix:rt(p),offsetMatrix:rt(p),allMatrix:rt(p),targetMatrix:rt(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1},s)}function lf(r,t,e,n){var a;e===void 0&&(e=t);var i=Ma(r,t),o=i.matrixes,s=i.is3d,u=i.targetMatrix,f=i.transformOrigin,l=i.targetOrigin,v=i.offsetContainer,c=i.hasFixed,d=Ma(v,e,!0),p=d.matrixes,h=d.is3d,g=n||h||s,m=g?4:3,b=r.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in r,S=u,x=rt(m),y=rt(m),M=rt(m),E=rt(m),D=o.length;p.reverse(),o.reverse(),!s&&g&&(S=Wt(S,3,4),un(o)),!h&&g&&un(p),p.forEach(function(T){y=K(y,T.matrix,m)});var C=e||document.body,_=((a=p[0])===null||a===void 0?void 0:a.target)||ne(C,C,!0).offsetParent,w=p.slice(1).reduce(function(T,I){return K(T,I.matrix,m)},rt(m));o.forEach(function(T,I){if(D-2===I&&(M=x.slice()),D-1===I&&(E=x.slice()),!T.matrix){var A=o[I+1],G=df(T,A,_,m,K(w,x,m));T.matrix=Rr(G,m)}x=K(x,T.matrix,m)});var O=!b&&s;S||(S=rt(O?4:3));var P=Se(b&&S.length===16?Wt(S,4,3):S,O);return y=Ka(y,m,m),{hasFixed:c,rootMatrix:y,beforeMatrix:M,offsetMatrix:E,allMatrix:x,targetMatrix:S,targetTransform:P,transformOrigin:f,targetOrigin:l,is3d:g}}function Se(r,t){return t===void 0&&(t=r.length>9),"".concat(t?"matrix3d":"matrix","(").concat(Za(r,!t).join(","),")")}function In(r){var t=r.clientWidth,e=r.clientHeight;if(!r)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:e};var n=r.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||t,height:a.height||e,clientWidth:t,clientHeight:e}}function cf(r,t){var e=In(r),n=e.width,a=e.height,i=e.clientWidth,o=e.clientHeight,s=i/n,u=o/a,f=r.preserveAspectRatio.baseVal,l=f.align,v=f.meetOrSlice,c=[0,0],d=[s,u],p=[0,0];if(l!==1){var h=(l-2)%3,g=Math.floor((l-2)/3);c[0]=n*h/2,c[1]=a*g/2;var m=v===2?Math.max(u,s):Math.min(s,u);d[0]=m,d[1]=m,p[0]=(i-n)/2*h,p[1]=(o-a)/2*g}var b=Ja(d,t);return b[t*(t-1)]=p[0],b[t*(t-1)+1]=p[1],Bn(b,t,c)}function vf(r,t){if(!r.getBBox||r.tagName.toLowerCase()==="g")return[0,0,0,0];var e=r.getBBox(),n=In(r.ownerSVGElement),a=e.x-n.x,i=e.y-n.y;return[a,i,t[0]-a,t[1]-i]}function ht(r,t,e){return xt(r,zr(t,e),e)}function gr(r,t,e,n){return[[0,0],[t,0],[0,e],[t,e]].map(function(a){return ht(r,a,n)})}function wt(r){var t=r.map(function(f){return f[0]}),e=r.map(function(f){return f[1]}),n=Math.min.apply(Math,t),a=Math.min.apply(Math,e),i=Math.max.apply(Math,t),o=Math.max.apply(Math,e),s=i-n,u=o-a;return{left:n,top:a,right:i,bottom:o,width:s,height:u}}function ya(r,t,e,n){var a=gr(r,t,e,n);return wt(a)}function df(r,t,e,n,a){var i,o=r.target,s=r.origin,u=t.matrix,f=Ai(o),l=f.offsetWidth,v=f.offsetHeight,c=e.getBoundingClientRect(),d=[0,0];e===document.body&&(d=Ii(o,!0));for(var p=o.getBoundingClientRect(),h=p.left-c.left+e.scrollLeft-(e.clientLeft||0)+d[0],g=p.top-c.top+e.scrollTop-(e.clientTop||0)+d[1],m=p.width,b=p.height,S=Ve(n,a,u),x=ya(S,l,v,n),y=x.left,M=x.top,E=x.width,D=x.height,C=ht(S,s,n),_=X(C,[y,M]),w=[h+_[0]*m/E,g+_[1]*b/D],O=[0,0],P=0;++P<10;){var T=Lt(a,n);i=X(ht(T,w,n),ht(T,C,n)),O[0]=i[0],O[1]=i[1];var I=Ve(n,a,Rr(O,n),u),A=ya(I,l,v,n),G=A.left,k=A.top,B=G-h,L=k-g;if(Math.abs(B)<2&&Math.abs(L)<2)break;w[0]-=B,w[1]-=L}return O.map(function(z){return Math.round(z)})}function ae(r,t,e,n){var a=r.length===16,i=a?4:3,o=gr(r,e,n,i),s=o[0],u=s[0],f=s[1],l=o[1],v=l[0],c=l[1],d=o[2],p=d[0],h=d[1],g=o[3],m=g[0],b=g[1],S=ht(r,t,i),x=S[0],y=S[1],M=Math.min(u,v,p,m),E=Math.min(f,c,h,b),D=Math.max(u,v,p,m),C=Math.max(f,c,h,b);u=u-M||0,v=v-M||0,p=p-M||0,m=m-M||0,f=f-E||0,c=c-E||0,h=h-E||0,b=b-E||0,x=x-M||0,y=y-E||0;var _=Fe(o);return{left:M,top:E,right:D,bottom:C,origin:[x,y],pos1:[u,f],pos2:[v,c],pos3:[p,h],pos4:[m,b],direction:_}}function At(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function zi(r,t){return At([t[0]-r[0],t[1]-r[1]])}function Mr(r,t,e,n){e===void 0&&(e=1),n===void 0&&(n=it(r,t));var a=zi(r,t);return{transform:"translateY(-50%) translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(n,"rad) scaleY(").concat(e,")"),width:"".concat(a,"px")}}function Gi(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=e.length,i=e.reduce(function(s,u){return s+u[0]},0)/a,o=e.reduce(function(s,u){return s+u[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(i,"px, ").concat(o,"px) rotate(").concat(r,"rad) scale(").concat(t,")")}}function pf(r){var t=Et(r);return[parseFloat(t.width),parseFloat(t.height)]}function Ai(r,t){t===void 0&&(t=Et(r));var e=!ue(r.offsetWidth);if(!e&&r.tagName.toLowerCase()!=="svg"){var n=r.getBBox(),a=n.width,i=n.height;return{svg:!0,offsetWidth:a,offsetHeight:i,clientWidth:a,clientHeight:i,cssWidth:a,cssHeight:i}}else{var o=t.boxSizing==="border-box",s=parseFloat(t.borderLeftWidth)||0,u=parseFloat(t.borderRightWidth)||0,f=parseFloat(t.borderTopWidth)||0,l=parseFloat(t.borderBottomWidth)||0,v=parseFloat(t.paddingLeft)||0,c=parseFloat(t.paddingRight)||0,d=parseFloat(t.paddingTop)||0,p=parseFloat(t.paddingBottom)||0,h=parseFloat(t.width),g=parseFloat(t.height),a=h,i=g,m=h,b=g,S=v+c,x=d+p,y=s+u,M=f+l,E=S+y,D=x+M;return o?(h=a-E,g=i-D):(a=h+E,i=g+D),m=h+S,b=g+x,{svg:!1,offsetWidth:a,offsetHeight:i,clientWidth:m,clientHeight:b,cssWidth:h,cssHeight:g}}}function ki(r,t){return it(t>0?r[0]:r[1],t>0?r[1]:r[0])}function fn(r,t,e,n,a){var i=1,o=[0,0],s=Ge(),u=Ge(),f=Ge(),l=ff(t,e,a,!1);if(t){var v=l.is3d?4:3,c=ae(l.offsetMatrix,H(l.transformOrigin,as(l.targetMatrix,v)),l.width,l.height);i=c.direction,o=H(c.origin,[c.left-l.left,c.top-l.top]),s=Jr(t),u=Jr(ne(n,n,!0).offsetParent||document.body,!0),r&&(f=Jr(r))}return R({targetClientRect:s,containerClientRect:u,moveableClientRect:f,beforeDirection:i,beforeOrigin:o,originalBeforeOrigin:o,target:t},l)}function Ge(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Jr(r,t){var e,n=0,a=0,i=0,o=0;if(r===document.body||r===document.documentElement){i=window.innerWidth,o=window.innerHeight;var s=sf();e=[-s[0],-s[1]],n=e[0],a=e[1]}else{var u=r.getBoundingClientRect();n=u.left,a=u.top,i=u.width,o=u.height}var f={left:n,right:n+i,top:a,bottom:a+o,width:i,height:o};return t&&(f.clientLeft=r.clientLeft,f.clientTop=r.clientTop,f.clientWidth=r.clientWidth,f.clientHeight=r.clientHeight,f.scrollWidth=r.scrollWidth,f.scrollHeight=r.scrollHeight,f.overflow=Et(r).overflow!=="visible"),f}function zn(r){if(!!r){var t=r.getAttribute("data-direction");if(!!t){var e=[0,0];return t.indexOf("w")>-1&&(e[0]=-1),t.indexOf("e")>-1&&(e[0]=1),t.indexOf("n")>-1&&(e[1]=-1),t.indexOf("s")>-1&&(e[1]=1),e}}}function Gn(r,t){return[H(t,r[0]),H(t,r[1]),H(t,r[2]),H(t,r[3])]}function _t(r){var t=r.left,e=r.top,n=r.pos1,a=r.pos2,i=r.pos3,o=r.pos4;return Gn([n,a,i,o],[t,e])}function hf(r){return Math.round(r%1===-.5?r-1:r)}function lr(r,t){var e;(e=r[t])===null||e===void 0||e.unset(),r[t]=null}function N(r,t,e,n){var a=t.datas;a.datas||(a.datas={});var i=R(R({},e),{target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,moveable:r,datas:a.datas});return a.isStartEvent?n||(a.lastEvent=i):a.isStartEvent=!0,i}function Ot(r,t,e){var n=t.datas,a="isDrag"in e?e.isDrag:t.isDrag;return n.datas||(n.datas={}),R(R({isDrag:a},e),{moveable:r,target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas})}function An(r,t,e){r._emitter.on(t,e)}function F(r,t,e,n){return r.triggerEvent(t,e,n)}function Et(r,t){return window.getComputedStyle(r,t)}function Vr(r,t,e){var n={},a={};return r.filter(function(i){var o=i.name;if(n[o]||!t.some(function(s){return i[s]}))return!1;if(!e&&i.ableGroup){if(a[i.ableGroup])return!1;a[i.ableGroup]=!0}return n[o]=!0,!0})}function ln(r,t){return r===t||r==null&&t==null}function gf(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.length-1,n=0;n<e;++n){var a=r[n];if(!ue(a))return a}return r[e]}function mf(r,t){var e=[],n=[];return r.forEach(function(a,i){var o=t(a,i,r),s=n.indexOf(o),u=e[s]||[];s===-1&&(n.push(o),e.push(u)),u.push(a)}),e}function bf(r,t){var e=[],n={};return r.forEach(function(a,i){var o=t(a,i,r),s=n[o];s||(s=[],n[o]=s,e.push(s)),s.push(a)}),e}function Sf(r){return r.reduce(function(t,e){return t.concat(e)},[])}function dr(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.sort(function(e,n){return Math.abs(n)-Math.abs(e)}),r[0]}function cr(r,t,e){return xt(Lt(r,e),zr(t,e),e)}function Fi(r,t){var e,n=r.is3d,a=r.rootMatrix,i=n?4:3;return e=cr(a,[t.distX,t.distY],i),t.distX=e[0],t.distY=e[1],t}function Hr(r,t,e,n,a){return X(ht(r,H(e,t),a),n)}function Bt(r,t,e){return e?"".concat(r/t*100,"%"):"".concat(r,"px")}function ie(r){return Math.abs(r)<=Ct?0:r}function wr(r,t){return t.isRequest?t.requestAble==="resizable"||t.requestAble==="scalable"?t.parentDirection:!1:It(t.inputEvent.target,V("direction"))}function xf(r){var t={};for(var e in r)t[r[e]]=e;return t}function Ef(r,t){var e=r.slice(0,t<0?void 0:t),n=r.slice(0,t<0?void 0:t+1),a=r[t]||"",i=t<0?[]:r.slice(t),o=t<0?[]:r.slice(t+1),s=Jt(e),u=Jt(n),f=Jt([a]),l=Jt(i),v=Jt(o),c=sr(s),d=sr(u),p=sr(l),h=sr(v),g=K(c,p,4);return{transforms:r,beforeFunctionMatrix:c,beforeFunctionMatrix2:d,targetFunctionMatrix:sr(f),afterFunctionMatrix:p,afterFunctionMatrix2:h,allFunctionMatrix:g,beforeFunctions:s,beforeFunctions2:u,targetFunction:f[0],afterFunctions:l,afterFunctions2:v,beforeFunctionTexts:e,beforeFunctionTexts2:n,targetFunctionText:a,afterFunctionTexts:i,afterFunctionTexts2:o}}function Mf(r){return!r||!kt(r)||r instanceof Element?!1:er(r)||"length"in r}function xe(r,t){return r?zt(r)?t?document.querySelector(r):r:za(r)?r():"current"in r?r.current:r:null}function Li(r,t){if(!r)return[];var e=Mf(r)?[].slice.call(r):[r];return e.reduce(function(n,a){return zt(a)&&t?Y(Y([],n,!0),[].slice.call(document.querySelectorAll(a)),!0):(n.push(xe(a,t)),n)},[])}function yf(r,t){var e=[];return r.forEach(function(n){if(!!n){if(zt(n)){t[n]&&e.push.apply(e,t[n]);return}e.push(n)}}),e}function _f(r,t,e){var n=it(r,t)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function _a(r,t){var e=r.rootMatrix,n=r.is3d,a=n?4:3,i=Lt(e,a);return n||(i=Wt(i,3,4)),i[12]=0,i[13]=0,i[14]=0,cs(i,t)}function Yi(r,t,e,n,a){var i=r[0],o=r[1],s=0,u=0;if(a&&i&&o){var f=it([0,0],t),l=it([0,0],n),v=At(t),c=Math.cos(f-l)*v;if(!n[0])u=c,s=u*e;else if(!n[1])s=c,u=s/e;else{var d=n[0]*2*i,p=n[1]*2*o,h=At([d+t[0],p+t[1]])-At([d,p]),g=it([0,0],[e,1]);s=Math.cos(g)*h,u=Math.sin(g)*h}}else s=n[0]*t[0],u=n[1]*t[1];return[s,u]}function Ni(r,t,e,n){var a,i=e.ratio,o=e.startOffsetWidth,s=e.startOffsetHeight,u=0,f=0,l=n.distX,v=n.distY,c=n.parentDistance,d=n.parentDist,p=n.parentScale,h=n.isPinch,g=e.fixedDirection;if(d)u=d[0],f=d[1],t&&(u?f||(f=u/i):u=f*i);else if(p)u=(p[0]-1)*o,f=(p[1]-1)*s;else if(h)c&&(u=c,f=c*s/o);else{var m=Yt({datas:e,distX:l,distY:v});m=[0,1].map(function(b){var S=Math.abs(r[b]-g[b]);return S!==0&&(S=2/S),m[b]*S}),a=Yi([o,s],m,i,r,t),u=a[0],f=a[1]}return{distWidth:u,distHeight:f}}var Df=Ar("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(r,t){var e=t.datas,n=t.targets,a=t.angle,i=t.originalDatas,o=r.props,s=o.pinchable,u=o.ables;if(!s)return!1;var f="onPinch".concat(n?"Group":"","Start"),l="drag".concat(n?"Group":"","ControlStart"),v=(s===!0?r.controlAbles:u.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[l]}),c=N(r,t,{});n&&(c.targets=n);var d=F(r,f,c);e.isPinch=d!==!1,e.ables=v;var p=e.isPinch;return p?(v.forEach(function(h){if(i[h.name]=i[h.name]||{},!!h[l]){var g=R(R({},t),{datas:i[h.name],parentRotate:a,isPinch:!0});h[l](r,g)}}),r.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},p):!1},pinch:function(r,t){var e=t.datas,n=t.scale,a=t.distance,i=t.originalDatas,o=t.inputEvent,s=t.targets,u=t.angle;if(!!e.isPinch){var f=a*(1-1/n),l=N(r,t,{});s&&(l.targets=s);var v="onPinch".concat(s?"Group":"");F(r,v,l);var c=e.ables,d="drag".concat(s?"Group":"","Control");return c.forEach(function(p){!p[d]||p[d](r,R(R({},t),{datas:i[p.name],inputEvent:o,parentDistance:f,parentRotate:u,isPinch:!0}))}),l}},pinchEnd:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,i=t.targets,o=t.originalDatas;if(!!e.isPinch){var s="onPinch".concat(i?"Group":"","End"),u=Ot(r,t,{isDrag:n});i&&(u.targets=i),F(r,s,u);var f=e.ables,l="drag".concat(i?"Group":"","ControlEnd");return f.forEach(function(v){!v[l]||v[l](r,R(R({},t),{isDrag:n,datas:o[v.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(r,t){return this.pinchStart(r,R(R({},t),{targets:r.props.targets}))},pinchGroup:function(r,t){return this.pinch(r,R(R({},t),{targets:r.props.targets}))},pinchGroupEnd:function(r,t){return this.pinchEnd(r,R(R({},t),{targets:r.props.targets}))}}),Cf={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.edge;if(n)return a?vi(r,t):_n(r,t)},dragControlCondition:wr,dragControlStart:function(r,t){var e,n=t.inputEvent,a=t.isPinch,i=t.isGroup,o=t.parentDirection,s=t.datas,u=o||(a?[0,0]:zn(n.target)),f=r.state,l=f.target,v=f.width,c=f.height;if(!u||!l)return!1;!a&&ar(r,t),s.datas={},s.direction=u,s.startOffsetWidth=v,s.startOffsetHeight=c,s.prevWidth=0,s.prevHeight=0,e=pf(l),s.startWidth=e[0],s.startHeight=e[1];var d=[Math.max(0,v-s.startWidth),Math.max(0,c-s.startHeight)];if(s.minSize=d,s.maxSize=[1/0,1/0],!i){var p=Et(l),h=p.position,g=p.minWidth,m=p.minHeight,b=p.maxWidth,S=p.maxHeight,x=h==="static"||h==="relative",y=x?l.parentElement:l.offsetParent,M=v,E=c;if(y&&(M=y.clientWidth,E=y.clientHeight,x)){var D=Et(y);M-=parseFloat(D.paddingLeft)||0,E-=parseFloat(D.paddingTop)||0}s.minSize=H([st(g,M)||0,st(m,E)||0],d),s.maxSize=H([st(b,M)||1/0,st(S,E)||1/0],d)}var C=r.props.transformOrigin||"% %";s.transformOrigin=C&&zt(C)?C.split(" "):C,s.isWidth=!u[0]&&!u[1]||u[0]||!u[1];function _(A){s.ratio=A&&isFinite(A)?A:0}s.startPositions=_t(r.state);function w(A){s.fixedDirection=A,s.fixedPosition=vt(s.startPositions,A)}function O(A){s.minSize=[st("".concat(A[0]),0)||0,st("".concat(A[1]),0)||0]}function P(A){var G=[A[0]||1/0,A[1]||1/0];(!ke(G[0])||isFinite(G[0]))&&(G[0]=st("".concat(G[0]),0)||1/0),(!ke(G[1])||isFinite(G[1]))&&(G[1]=st("".concat(G[1]),0)||1/0),s.maxSize=G}_(v/c),w([-u[0],-u[1]]),s.setFixedDirection=w,s.setMin=O,s.setMax=P;var T=N(r,t,{direction:u,set:function(A){var G=A[0],k=A[1];s.startWidth=G,s.startHeight=k},setMin:O,setMax:P,setRatio:_,setFixedDirection:w,setOrigin:function(A){s.transformOrigin=A},dragStart:St.dragStart(r,new kr().dragStart([0,0],t))}),I=F(r,"onResizeStart",T);return I!==!1&&(s.isResize=!0,r.state.snapRenderInfo={request:t.isRequest,direction:u}),s.isResize?T:!1},dragControl:function(r,t){var e,n=t.datas,a=t.parentFlag,i=t.isPinch,o=t.parentKeepRatio,s=t.dragClient,u=t.parentDist,f=t.isRequest,l=n.isResize,v=n.transformOrigin,c=n.startWidth,d=n.startHeight,p=n.prevWidth,h=n.prevHeight,g=n.minSize,m=n.maxSize,b=n.ratio,S=n.isWidth,x=n.startOffsetWidth,y=n.startOffsetHeight;if(!l)return;var M=r.props,E=M.resizeFormat,D=M.throttleResize,C=D===void 0?1:D,_=M.parentMoveable,w=n.direction,O=w,P=0,T=0;!w[0]&&!w[1]&&(O=[1,1]);var I=b&&(o!=null?o:M.keepRatio)||!1;function A(){var j=Ni(O,I,n,t);P=j.distWidth,T=j.distHeight;var tt=O[0]||I?Math.max(x+P,Ct):x,J=O[1]||I?Math.max(y+T,Ct):y;return I&&x&&y&&(S?J=tt/b:tt=J*b),[tt,J]}var G=A(),k=G[0],B=G[1];n.setFixedDirection(n.fixedDirection),F(r,"onBeforeResize",N(r,t,{setFixedDirection:function(j){var tt;return n.setFixedDirection(j),tt=A(),k=tt[0],B=tt[1],[k,B]},boundingWidth:k,boundingHeight:B,setSize:function(j){k=j[0],B=j[1]}},!0));var L=s;s||(!a&&i?L=Pi(r,[0,0]):L=n.fixedPosition);var z=[0,0];i||(z=Nu(r,k,B,w,L,f,n)),u&&(!u[0]&&(z[0]=0),!u[1]&&(z[1]=0));function W(){var j;E&&(j=E([k,B]),k=j[0],B=j[1]),k=q(k,C),B=q(B,C)}if(I){O[0]&&O[1]&&z[0]&&z[1]&&(Math.abs(z[0])>Math.abs(z[1])?z[1]=0:z[0]=0);var nt=!z[0]&&!z[1];nt&&W(),O[0]&&!O[1]||z[0]&&!z[1]||nt&&S?(k+=z[0],B=k/b):(!O[0]&&O[1]||!z[0]&&z[1]||nt&&!S)&&(B+=z[1],k=B*b)}else k+=z[0],B+=z[1],k=Math.max(0,k),B=Math.max(0,B);e=Po([k,B],g,m,I?b:!1),k=e[0],B=e[1],W(),P=k-x,T=B-y;var dt=[P-p,T-h];n.prevWidth=P,n.prevHeight=T;var at=tf(r,k,B,n.fixedDirection,L,v);if(!(!_&&dt.every(function(j){return!j})&&at.every(function(j){return!j}))){var et=N(r,t,{width:c+P,height:d+T,offsetWidth:Math.round(k),offsetHeight:Math.round(B),boundingWidth:k,boundingHeight:B,direction:w,dist:[P,T],delta:dt,isPinch:!!i,drag:St.drag(r,le(t,r.state,at,!!i,!1))});return F(r,"onResize",et),et}},dragControlAfter:function(r,t){var e=t.datas,n=e.isResize,a=e.startOffsetWidth,i=e.startOffsetHeight,o=e.prevWidth,s=e.prevHeight;if(!!n){var u=r.state,f=u.width,l=u.height,v=f-(a+o),c=l-(i+s),d=Math.abs(v)>3,p=Math.abs(c)>3;if(d&&(e.startWidth+=v,e.startOffsetWidth+=v,e.prevWidth+=v),p&&(e.startHeight+=c,e.startOffsetHeight+=c,e.prevHeight+=c),d||p)return this.dragControl(r,t)}},dragControlEnd:function(r,t){var e=t.datas;if(!!e.isResize){e.isResize=!1;var n=Ot(r,t,{});return F(r,"onResizeEnd",n),n}},dragGroupControlCondition:wr,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,R(R({},t),{isGroup:!0}));if(!n)return!1;var a=Ut(r,"resizable",t);function i(p,h){var g=e.fixedDirection,m=e.fixedPosition,b=h.datas.startPositions||_t(p.state),S=vt(b,g),x=xt(vr(-r.rotation/180*Math.PI,3),[S[0]-m[0],S[1]-m[1],1],3),y=x[0],M=x[1];return h.datas.originalX=y,h.datas.originalY=M,h}var o=e.startOffsetWidth,s=e.startOffsetHeight;function u(){var p=e.minSize;a.forEach(function(h){var g=h.datas,m=g.minSize,b=g.startOffsetWidth,S=g.startOffsetHeight,x=o*(b?m[0]/b:0),y=s*(S?m[1]/S:0);p[0]=Math.max(p[0],x),p[1]=Math.max(p[1],y)})}function f(){var p=e.maxSize;a.forEach(function(h){var g=h.datas,m=g.maxSize,b=g.startOffsetWidth,S=g.startOffsetHeight,x=o*(b?m[0]/b:0),y=s*(S?m[1]/S:0);p[0]=Math.min(p[0],x),p[1]=Math.min(p[1],y)})}var l=Xt(r,this,"dragControlStart",t,function(p,h){return i(p,h)});u(),f();var v=function(p){n.setFixedDirection(p),l.forEach(function(h,g){h.setFixedDirection(p),i(h.moveable,a[g])})};e.setFixedDirection=v;var c=R(R({},n),{targets:r.props.targets,events:l.map(function(p){return R(R({},p),{setMin:function(h){p.setMin(h),u()},setMax:function(h){p.setMax(h),f()}})}),setFixedDirection:v,setMin:function(p){n.setMin(p),u()},setMax:function(p){n.setMax(p),f()}}),d=F(r,"onResizeGroupStart",c);return e.isResize=d!==!1,e.isResize?n:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isResize){An(r,"onBeforeResize",function(c){F(r,"onBeforeResizeGroup",N(r,t,R(R({},c),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(!!n){var a=n.boundingWidth,i=n.boundingHeight,o=n.dist,s=r.props.keepRatio,u=[a/(a-o[0]),i/(i-o[1])],f=e.fixedPosition,l=Xt(r,this,"dragControl",t,function(c,d){var p=xt(vr(r.rotation/180*Math.PI,3),[d.datas.originalX*u[0],d.datas.originalY*u[1],1],3),h=p[0],g=p[1];return R(R({},d),{parentDist:null,parentScale:u,dragClient:H(f,[h,g]),parentKeepRatio:s})}),v=R({targets:r.props.targets,events:l},n);return F(r,"onResizeGroup",v),v}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isResize){this.dragControlEnd(r,t);var a=Xt(r,this,"dragControlEnd",t),i=Ot(r,t,{targets:r.props.targets,events:a});return F(r,"onResizeGroupEnd",i),e}},request:function(r){var t={},e=0,n=0,a=r.getRect();return{isControl:!0,requestStart:function(i){return{datas:t,parentDirection:i.direction||[1,1]}},request:function(i){return"offsetWidth"in i?e=i.offsetWidth-a.offsetWidth:"deltaWidth"in i&&(e+=i.deltaWidth),"offsetHeight"in i?n=i.offsetHeight-a.offsetHeight:"deltaHeight"in i&&(n+=i.deltaHeight),{datas:t,parentDist:[e,n],parentKeepRatio:i.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},Of={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,i=e.edge;if(!n&&a)return i?vi(r,t):_n(r,t)},dragControlCondition:wr,dragControlStart:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,i=t.parentDirection,o=i||(n?[0,0]:zn(a.target)),s=r.state,u=s.width,f=s.height,l=s.targetTransform,v=s.target,c=s.pos1,d=s.pos2,p=s.pos4;if(!o||!v)return!1;n||ar(r,t),e.datas={},e.transform=l,e.prevDist=[1,1],e.direction=o,e.startOffsetWidth=u,e.startOffsetHeight=f,e.startValue=[1,1];var h=Nt(c,d),g=Nt(d,p),m=!o[0]&&!o[1]||o[0]||!o[1];e.scaleWidth=h,e.scaleHeight=g,e.scaleXRatio=h/u,e.scaleYRatio=g/f,be(t,"scale"),e.isWidth=m;function b(M){e.ratio=M&&isFinite(M)?M:0}e.startPositions=_t(r.state);function S(M){e.fixedDirection=M,e.fixedPosition=vt(e.startPositions,M)}e.setFixedDirection=S,b(Nt(c,d)/Nt(d,p)),S([-o[0],-o[1]]);var x=N(r,t,R(R({direction:o,set:function(M){e.startValue=M},setRatio:b,setFixedDirection:S},me(t)),{dragStart:St.dragStart(r,new kr().dragStart([0,0],t))})),y=F(r,"onScaleStart",x);return y!==!1&&(e.isScale=!0,r.state.snapRenderInfo={request:t.isRequest,direction:o}),e.isScale?x:!1},dragControl:function(r,t){pe(t,"scale");var e=t.datas,n=t.parentKeepRatio,a=t.parentFlag,i=t.isPinch,o=t.dragClient,s=t.isRequest,u=e.prevDist,f=e.direction,l=e.startOffsetWidth,v=e.startOffsetHeight,c=e.isScale,d=e.startValue,p=e.isWidth,h=e.ratio;if(!c)return!1;var g=r.props,m=g.throttleScale,b=g.parentMoveable,S=f;!f[0]&&!f[1]&&(S=[1,1]);var x=h&&(n!=null?n:g.keepRatio)||!1,y=r.state;function M(){var z=Ni(S,x,e,t),W=z.distWidth,nt=z.distHeight,dt=(l+W)/l,at=(v+nt)/v;return dt=S[0]||x?dt*d[0]:d[0],at=S[1]||x?at*d[1]:d[1],dt===0&&(dt=(u[0]>0?1:-1)*Wr),at===0&&(at=(u[1]>0?1:-1)*Wr),[dt,at]}var E=M();if(!i&&r.props.groupable){var D=y.snapRenderInfo||{},C=D.direction;er(C)&&(C[0]||C[1])&&(y.snapRenderInfo={direction:f,request:t.isRequest})}F(r,"onBeforeScale",N(r,t,{scale:E,setFixedDirection:function(z){return e.setFixedDirection(z),E=M(),E},setScale:function(z){E=z}},!0));var _=[E[0]/d[0],E[1]/d[1]],w=o,O=[0,0];if(o||(!a&&i?w=Pi(r,[0,0]):w=e.fixedPosition),i||(O=Xu(r,_,f,s,e)),x){S[0]&&S[1]&&O[0]&&O[1]&&(Math.abs(O[0]*l)>Math.abs(O[1]*v)?O[1]=0:O[0]=0);var P=!O[0]&&!O[1];if(P&&(p?_[0]=q(_[0]*d[0],m)/d[0]:_[1]=q(_[1]*d[1],m)/d[1]),S[0]&&!S[1]||O[0]&&!O[1]||P&&p){_[0]+=O[0];var T=l*_[0]*d[0]/h;_[1]=T/v/d[1]}else if(!S[0]&&S[1]||!O[0]&&O[1]||P&&!p){_[1]+=O[1];var I=v*_[1]*d[1]*h;_[0]=I/l/d[0]}}else _[0]+=O[0],_[1]+=O[1],O[0]||(_[0]=q(_[0]*d[0],m)/d[0]),O[1]||(_[1]=q(_[1]*d[1],m)/d[1]);_[0]===0&&(_[0]=(u[0]>0?1:-1)*Wr),_[1]===0&&(_[1]=(u[1]>0?1:-1)*Wr);var A=[_[0]/u[0],_[1]/u[1]];E=rf(_,d);var G=Ju(r,_,e.fixedDirection,w,e),k=X(G,e.prevInverseDist||[0,0]);if(e.prevDist=_,e.prevInverseDist=G,E[0]===u[0]&&E[1]===u[1]&&k.every(function(z){return!z})&&!b)return!1;var B=he(e,"scale(".concat(E.join(", "),")"),"scale(".concat(_.join(", "),")")),L=N(r,t,R({offsetWidth:l,offsetHeight:v,direction:f,scale:E,dist:_,delta:A,isPinch:!!i},Ci(r,B,k,i,t)));return F(r,"onScale",L),L},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isScale?(e.isScale=!1,F(r,"onScaleEnd",Ot(r,t,{})),n):!1},dragGroupControlCondition:wr,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,t);if(!n)return!1;var a=Ut(r,"resizable",t);function i(l,v){var c=e.fixedDirection,d=e.fixedPosition,p=v.datas.startPositions||_t(l.state),h=vt(p,c),g=xt(vr(-r.rotation/180*Math.PI,3),[h[0]-d[0],h[1]-d[1],1],3),m=g[0],b=g[1];return v.datas.originalX=m,v.datas.originalY=b,v}e.moveableScale=r.scale;var o=Xt(r,this,"dragControlStart",t,function(l,v){return i(l,v)}),s=function(l){n.setFixedDirection(l),o.forEach(function(v,c){v.setFixedDirection(l),i(v.moveable,a[c])})};e.setFixedDirection=s;var u=R(R({},n),{targets:r.props.targets,events:o,setFixedDirection:s}),f=F(r,"onScaleGroupStart",u);return e.isScale=f!==!1,e.isScale?u:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isScale){An(r,"onBeforeScale",function(v){F(r,"onBeforeScaleGroup",N(r,t,R(R({},v),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(!!n){var a=e.moveableScale;r.scale=[n.scale[0]*a[0],n.scale[1]*a[1]];var i=r.props.keepRatio,o=n.dist,s=n.scale,u=e.fixedPosition,f=Xt(r,this,"dragControl",t,function(v,c){var d=xt(vr(r.rotation/180*Math.PI,3),[c.datas.originalX*o[0],c.datas.originalY*o[1],1],3),p=d[0],h=d[1];return R(R({},c),{parentDist:null,parentScale:s,parentKeepRatio:i,dragClient:H(u,[p,h])})}),l=R({targets:r.props.targets,events:f},n);return F(r,"onScaleGroup",l),l}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isScale){this.dragControlEnd(r,t);var a=Xt(r,this,"dragControlEnd",t),i=Ot(r,t,{targets:r.props.targets,events:a});return F(r,"onScaleGroupEnd",i),e}},request:function(){var r={},t=0,e=0;return{isControl:!0,requestStart:function(n){return{datas:r,parentDirection:n.direction||[1,1]}},request:function(n){return t+=n.deltaWidth,e+=n.deltaHeight,{datas:r,parentDist:[t,e],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function Vt(r,t){return r.map(function(e,n){return _o(e,t[n],1,2)})}function Da(r,t,e){var n=it(r,t),a=it(r,e),i=a-n;return i>=0?i:i+2*Math.PI}function Rf(r,t){var e=Da(r[0],r[1],r[2]),n=Da(t[0],t[1],t[2]),a=Math.PI;return!(e>=a&&n<=a||e<=a&&n>=a)}var wf={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,i=e.warpable,o=e.zoom;if(n||a||!i)return[];var s=r.state,u=s.pos1,f=s.pos2,l=s.pos3,v=s.pos4,c=Vt(u,f),d=Vt(f,u),p=Vt(u,l),h=Vt(l,u),g=Vt(l,v),m=Vt(v,l),b=Vt(f,v),S=Vt(v,f);return Y([t.createElement("div",{className:V("line"),key:"middeLine1",style:Mr(c,g,o)}),t.createElement("div",{className:V("line"),key:"middeLine2",style:Mr(d,m,o)}),t.createElement("div",{className:V("line"),key:"middeLine3",style:Mr(p,b,o)}),t.createElement("div",{className:V("line"),key:"middeLine4",style:Mr(h,S,o)})],_n(r,t),!0)},dragControlCondition:function(r,t){return t.isRequest?!1:It(t.inputEvent.target,V("direction"))},dragControlStart:function(r,t){var e=t.datas,n=t.inputEvent,a=r.props.target,i=n.target,o=zn(i);if(!o||!a)return!1;var s=r.state,u=s.transformOrigin,f=s.is3d,l=s.targetTransform,v=s.targetMatrix,c=s.width,d=s.height,p=s.left,h=s.top;e.datas={},e.targetTransform=l,e.warpTargetMatrix=f?v:Wt(v,3,4),e.targetInverseMatrix=Ka(Lt(e.warpTargetMatrix,4),3,4),e.direction=o,e.left=p,e.top=h,e.poses=[[0,0],[c,0],[0,d],[c,d]].map(function(b){return X(b,u)}),e.nextPoses=e.poses.map(function(b){var S=b[0],x=b[1];return xt(e.warpTargetMatrix,[S,x,0,1],4)}),e.startValue=rt(4),e.prevMatrix=rt(4),e.absolutePoses=_t(s),e.posIndexes=_i(o),ar(r,t),be(t,"matrix3d"),s.snapRenderInfo={request:t.isRequest,direction:o};var g=N(r,t,R({set:function(b){e.startValue=b}},me(t))),m=F(r,"onWarpStart",g);return m!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(r,t){var e=t.datas,n=t.isRequest,a=t.distX,i=t.distY,o=e.targetInverseMatrix,s=e.prevMatrix,u=e.isWarp,f=e.startValue,l=e.poses,v=e.posIndexes,c=e.absolutePoses;if(!u)return!1;if(pe(t,"matrix3d"),hr(r,"warpable")){var d=v.map(function(C){return c[C]});d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var p=de(r,n,{horizontal:d.map(function(C){return C[1]+i}),vertical:d.map(function(C){return C[0]+a})}),h=p.horizontal,g=p.vertical;i-=h.offset,a-=g.offset}var m=Yt({datas:e,distX:a,distY:i},!0),b=e.nextPoses.slice();if(v.forEach(function(C){b[C]=H(b[C],m)}),!Qs.every(function(C){return Rf(C.map(function(_){return l[_]}),C.map(function(_){return b[_]}))}))return!1;var S=En(l[0],l[2],l[1],l[3],b[0],b[2],b[1],b[3]);if(!S.length)return!1;var x=K(o,S,4),y=Mi(e,x,!0),M=K(Lt(s,4),y,4);e.prevMatrix=y;var E=K(f,y,4),D=he(e,"matrix3d(".concat(E.join(", "),")"),"matrix3d(".concat(y.join(", "),")"));return Tn(t,D),F(r,"onWarp",N(r,t,{delta:M,matrix:E,dist:y,multiply:K,transform:D})),!0},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isWarp?(e.isWarp=!1,F(r,"onWarpEnd",Ot(r,t,{})),n):!1}},Pf=V("area-pieces"),qr=V("area-piece"),Xi=V("avoid");function Ae(r){var t=r.areaElement;if(!!t){var e=r.state,n=e.width,a=e.height;zo(t,Xi),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function Ca(r){return r.createElement("div",{key:"area_pieces",className:Pf},r.createElement("div",{className:qr}),r.createElement("div",{className:qr}),r.createElement("div",{className:qr}),r.createElement("div",{className:qr}))}var Wi={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(r,t){var e=r.props,n=e.target,a=e.dragArea,i=e.groupable,o=e.passDragArea,s=r.state,u=s.width,f=s.height,l=s.renderPoses,v=o?V("area","pass"):V("area");if(i)return[t.createElement("div",{key:"area",ref:Gt(r,"areaElement"),className:v}),Ca(t)];if(!n||!a)return[];var c=En([0,0],[u,0],[0,f],[u,f],l[0],l[1],l[2],l[3]),d=c.length?Se(c,!0):"none";return[t.createElement("div",{key:"area",ref:Gt(r,"areaElement"),className:v,style:{top:"0px",left:"0px",width:"".concat(u,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:d}}),Ca(t)]},dragStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=t.inputEvent;if(!i)return!1;e.isDragArea=!1;var o=r.areaElement,s=r.state,u=s.moveableClientRect,f=s.renderPoses,l=s.rootMatrix,v=s.is3d,c=u.left,d=u.top,p=wt(f),h=p.left,g=p.top,m=p.width,b=p.height,S=v?4:3,x=cr(l,[n-c,a-d],S),y=x[0],M=x[1];y-=h,M-=g;var E=[{left:h,top:g,width:m,height:M-10},{left:h,top:g,width:y-10,height:b},{left:h,top:g+M+10,width:m,height:b-M-10},{left:h+y+10,top:g,width:m-y-10,height:b}],D=[].slice.call(o.nextElementSibling.children);E.forEach(function(C,_){D[_].style.cssText="left: ".concat(C.left,"px;top: ").concat(C.top,"px; width: ").concat(C.width,"px; height: ").concat(C.height,"px;")}),Io(o,Xi),s.disableNativeEvent=!0},drag:function(r,t){var e=t.datas,n=t.inputEvent;if(this.enableNativeEvent(r),!n)return!1;e.isDragArea||(e.isDragArea=!0,Ae(r))},dragEnd:function(r,t){this.enableNativeEvent(r);var e=t.inputEvent,n=t.datas;if(!e)return!1;n.isDragArea||Ae(r)},dragGroupStart:function(r,t){return this.dragStart(r,t)},dragGroup:function(r,t){return this.drag(r,t)},dragGroupEnd:function(r,t){return this.dragEnd(r,t)},unset:function(r){Ae(r),r.state.disableNativeEvent=!1},enableNativeEvent:function(r){var t=r.state;t.disableNativeEvent&&pn(function(){t.disableNativeEvent=!1})}},Tf=Ar("origin",{render:function(r,t){var e=r.props.zoom,n=r.state,a=n.beforeOrigin,i=n.rotation;return[t.createElement("div",{className:V("control","origin"),style:Gi(i,e,a),key:"beforeOrigin"})]}});function Bf(r){var t=r.scrollContainer;return[t.scrollLeft,t.scrollTop]}var If={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(r,t){var e=r.props,n=e.scrollContainer,a=n===void 0?r.getContainer():n,i=new Rs,o=xe(a,!0);t.datas.dragScroll=i;var s=t.isControl?"controlGesto":"targetGesto",u=t.targets;i.on("scroll",function(f){var l=f.container,v=f.direction,c=N(r,t,{scrollContainer:l,direction:v}),d=u?"onScrollGroup":"onScroll";u&&(c.targets=u),F(r,d,c)}).on("move",function(f){var l=f.offsetX,v=f.offsetY;r[s].scrollBy(l,v,t.inputEvent,!1)}),i.dragStart(t,{container:o})},checkScroll:function(r,t){var e=t.datas.dragScroll;if(!!e){var n=r.props,a=n.scrollContainer,i=a===void 0?r.getContainer():a,o=n.scrollThreshold,s=o===void 0?0:o,u=n.getScrollPosition,f=u===void 0?Bf:u;return e.drag(t,{container:i,threshold:s,getScrollPosition:function(l){return f({scrollContainer:l.container,direction:l.direction})}}),!0}},drag:function(r,t){return this.checkScroll(r,t)},dragEnd:function(r,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(r,t){return this.dragStart(r,R(R({},t),{isControl:!0}))},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupStart:function(r,t){return this.dragStart(r,R(R({},t),{targets:r.props.targets}))},dragGroup:function(r,t){return this.drag(r,R(R({},t),{targets:r.props.targets}))},dragGroupEnd:function(r,t){return this.dragEnd(r,R(R({},t),{targets:r.props.targets}))},dragGroupControlStart:function(r,t){return this.dragStart(r,R(R({},t),{targets:r.props.targets,isControl:!0}))},dragGroupContro:function(r,t){return this.drag(r,R(R({},t),{targets:r.props.targets}))},dragGroupControEnd:function(r,t){return this.dragEnd(r,R(R({},t),{targets:r.props.targets}))}},Vi={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function},events:{}},zf=Ar("padding",{render:function(r,t){var e=r.props;if(e.dragArea)return[];var n=e.padding||{},a=n.left,i=a===void 0?0:a,o=n.top,s=o===void 0?0:o,u=n.right,f=u===void 0?0:u,l=n.bottom,v=l===void 0?0:l,c=r.state,d=c.renderPoses,p=c.pos1,h=c.pos2,g=c.pos3,m=c.pos4,b=[p,h,g,m],S=[];return i>0&&S.push([0,2]),s>0&&S.push([0,1]),f>0&&S.push([1,3]),v>0&&S.push([2,3]),S.map(function(x,y){var M=x[0],E=x[1],D=b[M],C=b[E],_=d[M],w=d[E],O=En([0,0],[100,0],[0,100],[100,100],D,C,_,w);if(!!O.length)return t.createElement("div",{key:"padding".concat(y),className:V("padding"),style:{transform:Se(O,!0)}})})}}),Oa=["nw","ne","se","sw"];function jr(r,t){var e=r[0]+r[1],n=e>t?t/e:1;return r[0]*=n,r[1]=t-r[1]*n,r}var Gf=[1,2,5,6],Af=[0,3,4,7],Qt=[1,-1,-1,1],tr=[1,1,-1,-1];function kn(r,t,e,n,a,i,o,s,u){i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=n),u===void 0&&(u=a);var f=[],l=!1,v=r.map(function(c,d){var p=t[d],h=p.horizontal,g=p.vertical;if(g&&!l&&(l=!0,f.push("/")),l){var m=Math.max(0,g===1?c[1]-o:u-c[1]);return f.push(Bt(m,a,e)),m}else{var m=Math.max(0,h===1?c[0]-i:s-c[0]);return f.push(Bt(m,n,e)),m}});return{styles:f,raws:v}}function Hi(r){for(var t=[0,0],e=[0,0],n=r.length,a=0;a<n;++a){var i=r[a];!i.sub||(i.horizontal&&(t[1]===0&&(t[0]=a),t[1]=a-t[0]+1,e[0]=a+1),i.vertical&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1))}return{horizontalRange:t,verticalRange:e}}function qi(r,t,e,n,a,i){var o,s,u,f;i===void 0&&(i=[0,0]);var l=r.indexOf("/"),v=(l>-1?r.slice(0,l):r).length,c=r.slice(0,v),d=r.slice(v+1),p=c[0],h=p===void 0?"0px":p,g=c[1],m=g===void 0?h:g,b=c[2],S=b===void 0?h:b,x=c[3],y=x===void 0?m:x,M=d[0],E=M===void 0?h:M,D=d[1],C=D===void 0?E:D,_=d[2],w=_===void 0?E:_,O=d[3],P=O===void 0?C:O,T=[h,m,S,y].map(function(L){return st(L,t)}),I=[E,C,w,P].map(function(L){return st(L,e)}),A=T.slice(),G=I.slice();o=jr([A[0],A[1]],t),A[0]=o[0],A[1]=o[1],s=jr([A[3],A[2]],t),A[3]=s[0],A[2]=s[1],u=jr([G[0],G[3]],e),G[0]=u[0],G[3]=u[1],f=jr([G[1],G[2]],e),G[1]=f[0],G[2]=f[1];var k=A.slice(0,Math.max(i[0],c.length)),B=G.slice(0,Math.max(i[1],d.length));return Y(Y([],k.map(function(L,z){var W=Oa[z];return{horizontal:Qt[z],vertical:0,pos:[n+L,a+(tr[z]===-1?e:0)],sub:!0,raw:T[z],direction:W}}),!0),B.map(function(L,z){var W=Oa[z];return{horizontal:0,vertical:tr[z],pos:[n+(Qt[z]===-1?t:0),a+L],sub:!0,raw:I[z],direction:W}}),!0)}function ji(r,t,e,n,a){a===void 0&&(a=t.length);var i=Hi(r.slice(n)),o=i.horizontalRange,s=i.verticalRange,u=e-n,f=0;if(u===0)f=a;else if(u>0&&u<o[1])f=o[1]-u;else if(u>=s[0])f=s[0]+s[1]-u;else return;r.splice(e,f),t.splice(e,f)}function $i(r,t,e,n,a,i,o,s,u,f,l){f===void 0&&(f=0),l===void 0&&(l=0);var v=Hi(r.slice(e)),c=v.horizontalRange,d=v.verticalRange;if(n>-1)for(var p=Qt[n]===1?i-f:s-i,h=c[1];h<=n;++h){var g=tr[h]===1?l:u,m=0;if(n===h?m=i:h===0?m=f+p:Qt[h]===-1&&(m=s-(t[e][0]-f)),r.splice(e+h,0,{horizontal:Qt[h],vertical:0,pos:[m,g]}),t.splice(e+h,0,[m,g]),h===0)break}else if(a>-1){var b=tr[a]===1?o-l:u-o;if(c[1]===0&&d[1]===0){var S=[f+b,l];r.push({horizontal:Qt[0],vertical:0,pos:S}),t.push(S)}for(var x=d[0],h=d[1];h<=a;++h){var m=Qt[h]===1?f:s,g=0;if(a===h?g=o:h===0?g=l+b:tr[h]===1?g=t[e+x][1]:tr[h]===-1&&(g=u-(t[e+x][1]-l)),r.push({horizontal:0,vertical:tr[h],pos:[m,g]}),t.push([m,g]),h===0)break}}}function Ui(r,t){t===void 0&&(t=r.map(function(a){return a.raw}));var e=r.map(function(a,i){return a.horizontal?t[i]:null}).filter(function(a){return a!=null}),n=r.map(function(a,i){return a.vertical?t[i]:null}).filter(function(a){return a!=null});return{horizontals:e,verticals:n}}var kf=[[0,-1,"n"],[1,0,"e"]],Ff=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Fn(r,t,e){var n=r.props.clipRelative,a=r.state,i=a.width,o=a.height,s=t,u=s.type,f=s.poses,l=u==="rect",v=u==="circle";if(u==="polygon")return e.map(function(M){return"".concat(Bt(M[0],i,n)," ").concat(Bt(M[1],o,n))});if(l||u==="inset"){var c=e[1][1],d=e[3][0],p=e[7][0],h=e[5][1];if(l)return[c,d,h,p].map(function(M){return"".concat(M,"px")});var g=[c,i-d,o-h,p].map(function(M,E){return Bt(M,E%2?i:o,n)});if(e.length>8){var m=X(e[4],e[0]),b=m[0],S=m[1];g.push.apply(g,Y(["round"],kn(e.slice(8),f.slice(8),n,b,S,p,c,d,h).styles,!1))}return g}else if(v||u==="ellipse"){var x=e[0],y=Bt(Math.abs(e[1][1]-x[1]),v?Math.sqrt((i*i+o*o)/2):o,n),g=v?[y]:[Bt(Math.abs(e[2][0]-x[0]),i,n),y];return g.push("at",Bt(x[0],i,n),Bt(x[1],o,n)),g}}function oe(r,t,e,n){var a=[n,(n+t)/2,t],i=[r,(r+e)/2,e];return Ff.map(function(o){var s=o[0],u=o[1],f=o[2],l=a[s+1],v=i[u+1];return{vertical:Math.abs(u),horizontal:Math.abs(s),direction:f,pos:[l,v]}})}function Ki(r){var t=[1/0,-1/0],e=[1/0,-1/0];return r.forEach(function(n){var a=n.pos;t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[0]),e[0]=Math.min(e[0],a[1]),e[1]=Math.max(e[1],a[1])}),[Math.abs(t[1]-t[0]),Math.abs(e[1]-e[0])]}function Lf(r,t,e,n,a){var i=r[t],o=i.direction,s=i.sub,u=r.map(function(){return[0,0]}),f=o?o.split(""):[];if(n&&t<8){var l=f.filter(function(P){return P==="w"||P==="e"}),v=f.filter(function(P){return P==="n"||P==="s"}),c=l[0],d=v[0];u[t]=e;var p=Ki(r),h=p[0],g=p[1],m=h&&g?h/g:0;if(m&&a){var b=(t+4)%8,S=r[b].pos,x=[0,0];o.indexOf("w")>-1?x[0]=-1:o.indexOf("e")>-1&&(x[0]=1),o.indexOf("n")>-1?x[1]=-1:o.indexOf("s")>-1&&(x[1]=1);var y=Yi([h,g],e,m,x,!0),M=h+y[0],E=g+y[1],D=S[1],C=S[1],_=S[0],w=S[0];x[0]===-1?_=w-M:x[0]===1?w=_+M:(_=_-M/2,w=w+M/2),x[1]===-1?D=C-E:(x[1]===1||(D=C-E/2),C=D+E);var O=oe(D,w,C,_);r.forEach(function(P,T){u[T][0]=O[T].pos[0]-P.pos[0],u[T][1]=O[T].pos[1]-P.pos[1]})}else r.forEach(function(P,T){var I=P.direction;!I||(I.indexOf(c)>-1&&(u[T][0]=e[0]),I.indexOf(d)>-1&&(u[T][1]=e[1]))}),c&&(u[1][0]=e[0]/2,u[5][0]=e[0]/2),d&&(u[3][1]=e[1]/2,u[7][1]=e[1]/2)}else o&&!s?f.forEach(function(P){var T=P==="n"||P==="s";r.forEach(function(I,A){var G=I.direction,k=I.horizontal,B=I.vertical;!G||G.indexOf(P)===-1||(u[A]=[T||!k?0:e[0],!T||!B?0:e[1]])})}):u[t]=e;return u}function Ra(r,t,e,n,a){var i,o,s,u,f,l,v,c=a;if(!c){var d=Et(r),p=d.clipPath;c=p!=="none"?p:d.clip}if(!((!c||c==="none"||c==="auto")&&(c=n,!c))){var h=ka(c),g=h.prefix,m=g===void 0?c:g,b=h.value,S=b===void 0?"":b,x=m==="circle",y=" ";if(m==="polygon"){var M=rr(S||"0% 0%, 100% 0%, 100% 100%, 0% 100%");y=",";var E=M.map(function(ft){var ot=ft.split(" "),U=ot[0],Pt=ot[1];return{vertical:1,horizontal:1,pos:[st(U,t),st(Pt,e)]}});return{type:m,clipText:c,poses:E,splitter:y}}else if(x||m==="ellipse"){var D="",C="",_=0,w=0,M=$t(S);if(x){var O="";i=M[0],O=i===void 0?"50%":i,o=M[2],D=o===void 0?"50%":o,s=M[3],C=s===void 0?"50%":s,_=st(O,Math.sqrt((t*t+e*e)/2)),w=_}else{var P="",T="";u=M[0],P=u===void 0?"50%":u,f=M[1],T=f===void 0?"50%":f,l=M[3],D=l===void 0?"50%":l,v=M[4],C=v===void 0?"50%":v,_=st(P,t),w=st(T,e)}var I=[st(D,t),st(C,e)],E=Y([{vertical:1,horizontal:1,pos:I,direction:"nesw"}],kf.slice(0,x?1:2).map(function(U){return{vertical:Math.abs(U[1]),horizontal:U[0],direction:U[2],sub:!0,pos:[I[0]+U[0]*_,I[1]+U[1]*w]}}),!0);return{type:m,clipText:c,radiusX:_,radiusY:w,left:I[0]-_,top:I[1]-w,poses:E,splitter:y}}else if(m==="inset"){var M=$t(S||"0 0 0 0"),A=M.indexOf("round"),G=(A>-1?M.slice(0,A):M).length,k=M.slice(G+1),B=M.slice(0,G),L=B[0],z=B[1],W=z===void 0?L:z,nt=B[2],dt=nt===void 0?L:nt,at=B[3],et=at===void 0?W:at,j=[L,dt].map(function(U){return st(U,e)}),tt=j[0],J=j[1],mt=[et,W].map(function(U){return st(U,t)}),pt=mt[0],Dt=mt[1],gt=t-Dt,Q=e-J,$=qi(k,gt-pt,Q-tt,pt,tt),E=Y(Y([],oe(tt,gt,Q,pt),!0),$,!0);return{type:"inset",clipText:c,poses:E,top:tt,left:pt,right:gt,bottom:Q,radius:k,splitter:y}}else if(m==="rect"){var M=rr(S||"0px, ".concat(t,"px, ").concat(e,"px, 0px"));y=",";var ut=M.map(function(ir){var Fr=Tr(ir).value;return Fr}),tt=ut[0],Dt=ut[1],J=ut[2],pt=ut[3],E=oe(tt,Dt,J,pt);return{type:"rect",clipText:c,poses:E,top:tt,right:Dt,bottom:J,left:pt,values:M,splitter:y}}}}function Yf(r,t){var e=Ei(r,t),n=e[0],a=e[1],i=t.datas,o=i.clipPath,s=i.clipIndex,u=o,f=u.type,l=u.poses,v=u.splitter,c=l.map(function(m){return m.pos});if(f==="polygon")c.splice(s,0,[n,a]);else if(f==="inset"){var d=Gf.indexOf(s),p=Af.indexOf(s),h=l.length;if($i(l,c,8,d,p,n,a,c[4][0],c[4][1],c[0][0],c[0][1]),h===l.length)return}else return;var g=Fn(r,o,c);F(r,"onClip",N(r,t,{clipEventType:"added",clipType:f,poses:c,clipStyles:g,clipStyle:"".concat(f,"(").concat(g.join(v),")"),distX:0,distY:0}))}function Nf(r,t){var e=t.datas,n=e.clipPath,a=e.clipIndex,i=n,o=i.type,s=i.poses,u=i.splitter,f=s.map(function(c){return c.pos}),l=f.length;if(o==="polygon")s.splice(a,1),f.splice(a,1);else if(o==="inset"){if(a<8||(ji(s,f,a,8,l),l===s.length))return}else return;var v=Fn(r,n,f);F(r,"onClip",N(r,t,{clipEventType:"removed",clipType:o,poses:f,clipStyles:v,clipStyle:"".concat(o,"(").concat(v.join(u),")"),distX:0,distY:0}))}var Xf={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(r,t){var e=r.props,n=e.customClipPath,a=e.defaultClipPath,i=e.clipArea,o=e.zoom,s=r.state,u=s.target,f=s.width,l=s.height,v=s.allMatrix,c=s.is3d,d=s.left,p=s.top,h=s.pos1,g=s.pos2,m=s.pos3,b=s.pos4,S=s.clipPathState,x=s.snapBoundInfos,y=s.rotation;if(!u)return[];var M=Ra(u,f,l,a||"inset",S||n);if(!M)return[];var E=c?4:3,D=M.type,C=M.poses,_=C.map(function(Q){var $=ht(v,Q.pos,E);return[$[0]-d,$[1]-p]}),w=[],O=[],P=D==="rect",T=D==="inset",I=D==="polygon";if(P||T||I){var A=T?_.slice(0,8):_;O=A.map(function(Q,$){var ut=$===0?A[A.length-1]:A[$-1],ft=it(ut,Q),ot=zi(ut,Q);return t.createElement("div",{key:"clipLine".concat($),className:V("line","clip-line","snap-control"),"data-clip-index":$,style:{width:"".concat(ot,"px"),transform:"translate(".concat(ut[0],"px, ").concat(ut[1],"px) rotate(").concat(ft,"rad) scaleY(").concat(o,")")}})})}if(w=_.map(function(Q,$){return t.createElement("div",{key:"clipControl".concat($),className:V("control","clip-control","snap-control"),"data-clip-index":$,style:{transform:"translate(".concat(Q[0],"px, ").concat(Q[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})}),T&&w.push.apply(w,_.slice(8).map(function(Q,$){return t.createElement("div",{key:"clipRadiusControl".concat($),className:V("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+$,style:{transform:"translate(".concat(Q[0],"px, ").concat(Q[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})})),D==="circle"||D==="ellipse"){var G=M.left,k=M.top,B=M.radiusX,L=M.radiusY,z=X(ht(v,[G,k],E),ht(v,[0,0],E)),W=z[0],nt=z[1],dt="none";if(!i){for(var at=Math.max(10,B/5,L/5),et=[],j=0;j<=at;++j){var tt=Math.PI*2/at*j;et.push([B+(B-o)*Math.cos(tt),L+(L-o)*Math.sin(tt)])}et.push([B,-2]),et.push([-2,-2]),et.push([-2,L*2+2]),et.push([B*2+2,L*2+2]),et.push([B*2+2,-2]),et.push([B,-2]),dt="polygon(".concat(et.map(function(Q){return"".concat(Q[0],"px ").concat(Q[1],"px")}).join(", "),")")}w.push(t.createElement("div",{key:"clipEllipse",className:V("clip-ellipse","snap-control"),style:{width:"".concat(B*2,"px"),height:"".concat(L*2,"px"),clipPath:dt,transform:"translate(".concat(-d+W,"px, ").concat(-p+nt,"px) ").concat(Se(v))}}))}if(i){var J=wt(Y([h,g,m,b],_,!0)),mt=J.width,pt=J.height,Dt=J.left,gt=J.top;if(I||P||T){var et=T?_.slice(0,8):_;w.push(t.createElement("div",{key:"clipArea",className:V("clip-area","snap-control"),style:{width:"".concat(mt,"px"),height:"".concat(pt,"px"),transform:"translate(".concat(Dt,"px, ").concat(gt,"px)"),clipPath:"polygon(".concat(et.map(function($){return"".concat($[0]-Dt,"px ").concat($[1]-gt,"px")}).join(", "),")")}}))}}return x&&["vertical","horizontal"].forEach(function(Q){var $=x[Q],ut=Q==="horizontal";$.isSnap&&O.push.apply(O,$.snap.posInfos.map(function(ft,ot){var U=ft.pos,Pt=X(ht(v,ut?[0,U]:[U,0],E),[d,p]),mr=X(ht(v,ut?[f,U]:[U,l],E),[d,p]);return fr(t,"",Pt,mr,o,"clip".concat(Q,"snap").concat(ot),"guideline")})),$.isBound&&O.push.apply(O,$.bounds.map(function(ft,ot){var U=ft.pos,Pt=X(ht(v,ut?[0,U]:[U,0],E),[d,p]),mr=X(ht(v,ut?[f,U]:[U,l],E),[d,p]);return fr(t,"",Pt,mr,o,"clip".concat(Q,"bounds").concat(ot),"guideline","bounds","bold")}))}),Y(Y([],w,!0),O,!0)},dragControlCondition:function(r,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(r,t){var e=r.props,n=e.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(r,t)},drag:function(r,t){return this.dragControl(r,R(R({},t),{isDragTarget:!0}))},dragEnd:function(r,t){return this.dragControlEnd(r,t)},dragControlStart:function(r,t){var e=r.state,n=r.props,a=n.defaultClipPath,i=n.customClipPath,o=e.target,s=e.width,u=e.height,f=t.inputEvent?t.inputEvent.target:null,l=f&&f.getAttribute("class")||"",v=t.datas,c=Ra(o,s,u,a||"inset",i);if(!c)return!1;var d=c.clipText,p=c.type,h=c.poses,g=F(r,"onClipStart",N(r,t,{clipType:p,clipStyle:d,poses:h.map(function(m){return m.pos})}));return g===!1?(v.isClipStart=!1,!1):(v.isControl=l&&l.indexOf("clip-control")>-1,v.isLine=l.indexOf("clip-line")>-1,v.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,v.clipIndex=f?parseInt(f.getAttribute("data-clip-index"),10):-1,v.clipPath=c,v.isClipStart=!0,e.clipPathState=d,ar(r,t),!0)},dragControl:function(r,t){var e,n=t.datas,a=t.originalDatas,i=t.isDragTarget;if(!n.isClipStart)return!1;var o=n,s=o.isControl,u=o.isLine,f=o.isArea,l=o.clipIndex,v=o.clipPath;if(!v)return!1;var c=r.props.keepRatio,d=0,p=0,h=a.draggable,g=Yt(t);i&&h?(e=h.prevBeforeDist,d=e[0],p=e[1]):(d=g[0],p=g[1]);var m=[d,p],b=r.props,S=r.state,x=S.width,y=S.height,M=!f&&!s&&!u,E=v.type,D=v.poses,C=v.splitter,_=D.map(function(Z){return Z.pos});M&&(d=-d,p=-p);var w=!s||D[l].direction==="nesw",O=E==="inset"||E==="rect",P=D.map(function(){return[0,0]});if(s&&!w){var T=D[l],I=T.horizontal,A=T.vertical,G=[d*Math.abs(I),p*Math.abs(A)];P=Lf(D,l,G,O,c)}else w&&(P=_.map(function(){return[d,p]}));var k=_.map(function(Z,bt){return H(Z,P[bt])}),B=Y([],k,!0);S.snapBoundInfos=null;var L=v.type==="circle",z=v.type==="ellipse";if(L||z){var W=wt(k),nt=Math.abs(W.bottom-W.top),dt=Math.abs(z?W.right-W.left:nt),at=k[0][1]+nt,et=k[0][0]-dt,j=k[0][0]+dt;L&&(B.push([j,W.bottom]),P.push([1,0])),B.push([W.left,at]),P.push([0,1]),B.push([et,W.bottom]),P.push([1,0])}var tt=di((b.clipHorizontalGuidelines||[]).map(function(Z){return st("".concat(Z),y)}),(b.clipVerticalGuidelines||[]).map(function(Z){return st("".concat(Z),x)}),x,y),J=[],mt=[];if(L||z)J=[B[4][0],B[2][0]],mt=[B[1][1],B[3][1]];else if(O){var pt=[B[0],B[2],B[4],B[6]],Dt=[P[0],P[2],P[4],P[6]];J=pt.filter(function(Z,bt){return Dt[bt][0]}).map(function(Z){return Z[0]}),mt=pt.filter(function(Z,bt){return Dt[bt][1]}).map(function(Z){return Z[1]})}else J=B.filter(function(Z,bt){return P[bt][0]}).map(function(Z){return Z[0]}),mt=B.filter(function(Z,bt){return P[bt][1]}).map(function(Z){return Z[1]});var gt=[0,0],Q=ma(tt,b.clipTargetBounds&&{left:0,top:0,right:x,bottom:y},J,mt,5),$=Q.horizontal,ut=Q.vertical,ft=$.offset,ot=ut.offset;if($.isBound&&(gt[1]+=ft),ut.isBound&&(gt[0]+=ot),(z||L)&&P[0][0]===0&&P[0][1]===0){var W=wt(k),U=W.bottom-W.top,Pt=z?W.right-W.left:U,mr=ut.isBound?Math.abs(ot):ut.snapIndex===0?-ot:ot,ro=$.isBound?Math.abs(ft):$.snapIndex===0?-ft:ft;Pt-=mr,U-=ro,L&&(U=hi(ut,$)>0?U:Pt,Pt=U);var ir=B[0];B[1][1]=ir[1]-U,B[2][0]=ir[0]+Pt,B[3][1]=ir[1]+U,B[4][0]=ir[0]-Pt}else if(O&&c&&s){var Fr=Ki(D),Wn=Fr[0],Vn=Fr[1],Hn=Wn&&Vn?Wn/Vn:0,eo=D[l],Lr=eo.direction||"",Ee=B[1][1],at=B[5][1],et=B[7][0],j=B[3][0];ft<=ot?ft=ot/Hn:ot=ft*Hn,Lr.indexOf("w")>-1?et-=ot:Lr.indexOf("e")>-1?j-=ot:(et+=ot/2,j-=ot/2),Lr.indexOf("n")>-1?Ee-=ft:Lr.indexOf("s")>-1?at-=ft:(Ee+=ft/2,at-=ft/2);var no=oe(Ee,j,at,et);B.forEach(function(Un,so){var ye;ye=no[so].pos,Un[0]=ye[0],Un[1]=ye[1]})}else B.forEach(function(Z,bt){var $n=P[bt];$n[0]&&(Z[0]-=ot),$n[1]&&(Z[1]-=ft)});var qn=Fn(r,v,k),jn="".concat(E,"(").concat(qn.join(C),")");if(S.clipPathState=jn,L||z)J=[B[4][0],B[2][0]],mt=[B[1][1],B[3][1]];else if(O){var pt=[B[0],B[2],B[4],B[6]];J=pt.map(function(bt){return bt[0]}),mt=pt.map(function(bt){return bt[1]})}else J=B.map(function(Z){return Z[0]}),mt=B.map(function(Z){return Z[1]});if(S.snapBoundInfos=ma(tt,b.clipTargetBounds&&{left:0,top:0,right:x,bottom:y},J,mt,1),h){var ao=S.is3d,io=S.allMatrix,oo=ao?4:3,Me=gt;i&&(Me=[m[0]+gt[0]-g[0],m[1]+gt[1]-g[1]]),h.deltaOffset=K(io,[Me[0],Me[1],0,0],oo)}return F(r,"onClip",N(r,t,{clipEventType:"changed",clipType:E,poses:k,clipStyle:jn,clipStyles:qn,distX:d,distY:p})),!0},dragControlEnd:function(r,t){this.unset(r);var e=t.isDrag,n=t.datas,a=t.isDouble,i=n.isLine,o=n.isClipStart,s=n.isControl;return o?(F(r,"onClipEnd",Ot(r,t,{})),a&&(s?Nf(r,t):i&&Yf(r,t)),a||e):!1},unset:function(r){r.state.clipPathState="",r.state.snapBoundInfos=null}},Wf={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(r,t){return t.isRequest?t.requestAble==="originDraggable":It(t.inputEvent.target,V("origin"))},dragControlStart:function(r,t){var e=t.datas;ar(r,t);var n=N(r,t,{dragStart:St.dragStart(r,new kr().dragStart([0,0],t))}),a=F(r,"onDragOriginStart",n);return e.startOrigin=r.state.transformOrigin,e.startTargetOrigin=r.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,a===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(r,t){var e=t.datas,n=t.isPinch,a=t.isRequest;if(!e.isDragOrigin)return!1;var i=Yt(t),o=i[0],s=i[1],u=r.state,f=u.width,l=u.height,v=u.offsetMatrix,c=u.targetMatrix,d=u.is3d,p=r.props.originRelative,h=p===void 0?!0:p,g=d?4:3,m=[o,s];if(a){var b=t.distOrigin;(b[0]||b[1])&&(m=b)}var S=H(e.startOrigin,m),x=H(e.startTargetOrigin,m),y=X(m,e.prevOrigin),M=ge(v,c,S,g),E=r.getRect(),D=wt(gr(M,f,l,g)),C=[E.left-D.left,E.top-D.top];e.prevOrigin=m;var _=[Bt(x[0],f,h),Bt(x[1],l,h)].join(" "),w=N(r,t,{width:f,height:l,origin:S,dist:m,delta:y,transformOrigin:_,drag:St.drag(r,le(t,r.state,C,!!n,!1))});return F(r,"onDragOrigin",w),w},dragControlEnd:function(r,t){var e=t.datas;return e.isDragOrigin?(F(r,"onDragOriginEnd",Ot(r,t,{})),!0):!1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);return!!e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);return e?(r.transformOrigin=e.transformOrigin,!0):!1},request:function(r){var t={},e=r.getRect(),n=0,a=0,i=e.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-i[0],o[1]=s.origin[1]-i[1]):("x"in s?n=s.x-e.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?a=s.y-e.top:"deltaY"in s&&(a+=s.deltaY)),{datas:t,distX:n,distY:a,distOrigin:o}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Vf(r,t,e,n,a,i,o){var s=Ui(r),u=s.horizontals,f=s.verticals,l=u.length,v=f.length,c=-1,d=-1;e===0?l===0?c=0:l===1&&(c=1):e===3&&(l<=2?c=2:l<=3&&(c=3)),e===2?v===0?d=0:v<4&&(d=3):e===1&&(v<=1?d=1:v<=2&&(d=2)),$i(r,t,0,c,d,n,a,i,o)}function wa(r,t,e,n,a){n===void 0&&(n=[0,0]);var i,o=[];if(a)i=a;else{var s=Et(r);i=s&&s.borderRadius||""}return!i||!a&&i==="0px"?o=[]:o=$t(i),qi(o,t,e,0,0,n)}function Pa(r,t,e,n,a,i){var o=r.state,s=o.width,u=o.height,f=kn(i,a,r.props.roundRelative,s,u),l=f.raws,v=f.styles,c=Ui(a,l),d=c.horizontals,p=c.verticals,h=v.join(" ");o.borderRadiusState=h,F(r,"onRound",N(r,t,{horizontals:d,verticals:p,borderRadius:h,width:s,height:u,delta:n,dist:e}))}var Hf={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
}`,`:host[data-able-roundable] .line.direction {
    cursor: pointer;
}`],render:function(r,t){var e=r.state,n=e.target,a=e.width,i=e.height,o=e.allMatrix,s=e.is3d,u=e.left,f=e.top,l=e.borderRadiusState,v=r.props,c=v.minRoundControls,d=c===void 0?[0,0]:c,p=v.maxRoundControls,h=p===void 0?[4,4]:p,g=v.zoom;if(!n)return null;var m=s?4:3,b=wa(n,a,i,d,l);if(!b)return null;var S=0,x=0;return b.map(function(y,M){x+=Math.abs(y.horizontal),S+=Math.abs(y.vertical);var E=X(ht(o,y.pos,m),[u,f]),D=y.vertical?S<=h[1]:x<=h[0];return t.createElement("div",{key:"borderRadiusControl".concat(M),className:V("control","border-radius"),"data-radius-index":M,style:{display:D?"block":"none",transform:"translate(".concat(E[0],"px, ").concat(E[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(r,t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(r,t){var e=t.inputEvent,n=t.datas,a=e.target,i=a.getAttribute("class")||"",o=i.indexOf("border-radius")>-1,s=i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1,u=o?parseInt(a.getAttribute("data-radius-index"),10):-1,f=s?parseInt(a.getAttribute("data-line-index"),10):-1;if(!o&&!s)return!1;var l=F(r,"onRoundStart",N(r,t,{}));if(l===!1)return!1;n.lineIndex=f,n.controlIndex=u,n.isControl=o,n.isLine=s,ar(r,t);var v=r.props,c=v.roundRelative,d=v.minRoundControls,p=d===void 0?[0,0]:d,h=r.state,g=h.target,m=h.width,b=h.height;n.isRound=!0,n.prevDist=[0,0];var S=wa(g,m,b,p)||[];return n.controlPoses=S,h.borderRadiusState=kn(S.map(function(x){return x.pos}),S,c,m,b).styles.join(" "),!0},dragControl:function(r,t){var e=t.datas;if(!e.isRound||!e.isControl||!e.controlPoses.length)return!1;var n=e.controlIndex,a=e.controlPoses,i=Yt(t),o=i[0],s=i[1],u=[o,s],f=X(u,e.prevDist),l=r.props.maxRoundControls,v=l===void 0?[4,4]:l,c=r.state,d=c.width,p=c.height,h=a[n],g=h.vertical,m=h.horizontal,b=a.map(function(x){var y=x.horizontal,M=x.vertical,E=[y*m*u[0],M*g*u[1]];if(y){if(v[0]===1)return E;if(v[0]<4&&y!==m)return E}else{if(v[1]===0)return E[1]=M*m*u[0]/d*p,E;if(g){if(v[1]===1)return E;if(v[1]<4&&M!==g)return E}}return[0,0]});b[n]=u;var S=a.map(function(x,y){return H(x.pos,b[y])});return e.prevDist=[o,s],Pa(r,t,u,f,a,S),!0},dragControlEnd:function(r,t){var e=r.state;e.borderRadiusState="";var n=t.datas,a=t.isDouble;if(!n.isRound)return!1;var i=e.width,o=e.height,s=n.isControl,u=n.controlIndex,f=n.isLine,l=n.lineIndex,v=n.controlPoses,c=v.map(function(S){return S.pos}),d=c.length,p=r.props.roundClickable,h=p===void 0?!0:p;if(a&&h){if(s)ji(v,c,u,0);else if(f){var g=Ei(r,t),m=g[0],b=g[1];Vf(v,c,l,m,b,i,o)}d!==v.length&&Pa(r,t,[0,0],[0,0],v,c)}return F(r,"onRoundEnd",Ot(r,t,{})),e.borderRadiusState="",!0},unset:function(r){r.state.borderRadiusState=""}};function qf(r,t){var e=t?"matrix3d(".concat(rt(4)):"matrix(".concat(rt(3),")");return r===e||r==="matrix(1,0,0,1,0,0)"}var Zi={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(r,t){var e=r.state,n=e.is3d,a=e.target,i=e.targetMatrix,o=a==null?void 0:a.style.transform,s=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(Za(i,!0),")"),u=!o||o==="none"?s:o;t.datas.startTransforms=qf(u,n)?[]:$t(u)},resetTransform:function(r){r.datas.nextTransforms=r.datas.startTransforms,r.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(r,t){return N(r,t,{setTransform:function(e){t.datas.startTransforms=er(e)?e:$t(e)},isPinch:!!t.isPinch})},fillDragParams:function(r,t){return N(r,t,{isPinch:!!t.isPinch})},dragStart:function(r,t){this.setTransform(r,t),F(r,"onBeforeRenderStart",this.fillDragStartParams(r,t))},drag:function(r,t){this.resetTransform(t),F(r,"onBeforeRender",N(r,t,{isPinch:!!t.isPinch}))},dragEnd:function(r,t){F(r,"onBeforeRenderEnd",N(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(r,t){var e=this;this.dragStart(r,t);var n=Ut(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.setTransform(u,o),e.fillDragStartParams(u,o)});F(r,"onBeforeRenderGroupStart",N(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,setTransform:function(){},events:i}))},dragGroup:function(r,t){var e=this;this.drag(r,t);var n=Ut(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.resetTransform(o),e.fillDragParams(u,o)});F(r,"onBeforeRenderGroup",N(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,events:i}))},dragGroupEnd:function(r,t){this.dragEnd(r,t),F(r,"onBeforeRenderGroupEnd",N(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)}},Ji={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(r,t){F(r,"onRenderStart",N(r,t,{isPinch:!!t.isPinch}))},drag:function(r,t){F(r,"onRender",this.fillDragParams(r,t))},dragAfter:function(r,t){if(t.resultCount)return this.drag(r,t)},dragEnd:function(r,t){F(r,"onRenderEnd",this.fillDragEndParams(r,t))},dragGroupStart:function(r,t){F(r,"onRenderGroupStart",N(r,t,{isPinch:!!t.isPinch,targets:r.props.targets}))},dragGroup:function(r,t){var e=this,n=Ut(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.fillDragParams(u,o)});F(r,"onRenderGroup",N(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,transform:Ea(t),events:i}))},dragGroupEnd:function(r,t){var e=this,n=Ut(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.fillDragEndParams(u,o)});F(r,"onRenderGroupEnd",N(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets,events:i}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlAfter:function(r,t){return this.dragAfter(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)},fillDragParams:function(r,t){return N(r,t,{isPinch:!!t.isPinch,transform:Ea(t)})},fillDragEndParams:function(r,t){return N(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag})}};function _r(r,t,e,n,a,i,o){var s=a==="Start",u=r.state.target,f=i.isRequest;if(!u||s&&n.indexOf("Control")>-1&&!f&&r.areaElement===i.inputEvent.target)return!1;var l="".concat(e).concat(n).concat(a),v="".concat(e).concat(n,"Condition"),c=a==="End",d=a==="After",p=s&&(!r.targetGesto||!r.controlGesto||!r.targetGesto.isFlag()||!r.controlGesto.isFlag());p&&r.updateRect(a,!0,!1),a===""&&!f&&Fi(r.state,i);var h=Y([],r[t],!0);if(f){var g=i.requestAble;h.some(function(_){return _.name===g})||h.push.apply(h,r.props.ables.filter(function(_){return _.name===g}))}if(!h.length)return!1;var m=Y(Y([Zi],h,!0),[Ji],!1).filter(function(_){return _[l]}),b=i.datas;p&&m.forEach(function(_){_.unset&&_.unset(r)});var S=i.inputEvent,x;c&&S&&(x=document.elementFromPoint(i.clientX,i.clientY)||S.target);var y=0,M=m.filter(function(_){var w=_.name,O=b[w]||(b[w]={});if(s&&(O.isEventStart=!_[v]||_[v](r,i)),O.isEventStart){var P=_[l](r,R(R({},i),{resultCount:y,datas:O,originalDatas:b,inputTarget:x}));return r._emitter.off(),s&&P===!1&&(O.isEventStart=!1),y+=P?1:0,P}return!1}),E=M.length,D=!1;if(s&&m.length&&!E&&(D=m.filter(function(_){var w=_.name,O=b[w];return O.isEventStart?_.dragRelation==="strong"?(O.isEventStart=!1,!1):!0:!1}).length===0),(c||D)&&(r.state.gesto=null,r.moveables&&r.moveables.forEach(function(_){_.state.gesto=null})),p&&D&&m.forEach(function(_){_.unset&&_.unset(r)}),s&&!f&&E&&(i==null||i.preventDefault()),r.isUnmounted||D)return!1;if(!s&&E&&!o||c){var C=r.props.flushSync||Ti;C(function(){r.updateRect(c?a:"",!0,!1),r.forceUpdate()})}return!s&&!c&&!d&&E&&!o&&_r(r,t,e,n,a+"After",i),!0}function Qi(r,t,e){var n=r.controlBox.getElement(),a=[];a.push(n),(!r.props.dragArea||r.props.dragTarget)&&a.push(t);var i=function(o){var s=o.inputEvent.target,u=r.areaElement;return s===u||!r.isMoveableElement(s)&&!r.controlBox.getElement().contains(s)||It(s,"moveable-area")||It(s,"moveable-padding")};return Ln(r,a,"targetAbles",e,{dragStart:i,pinchStart:i})}function Ln(r,t,e,n,a){a===void 0&&(a={});var i=r.props,o=i.pinchOutside,s=i.pinchThreshold,u={preventDefault:!1,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:s,pinchOutside:o},f=new zs(t,u);return["drag","pinch"].forEach(function(l){["Start","","End"].forEach(function(v){f.on("".concat(l).concat(v),function(c){var d=c.eventType;if(a[d]&&!a[d](c)){c.stop();return}var p=_r(r,e,l,n,v,c);p||c.stop()})})}),f}var jf=function(){function r(e,n,a){var i=this;this.target=e,this.moveable=n,this.eventName=a,this.ables=[],this._onEvent=function(o){var s=i.eventName,u=i.moveable;u.state.disableNativeEvent||i.ables.forEach(function(f){f[s](u,{inputEvent:o})})},e.addEventListener(a.toLowerCase(),this._onEvent)}var t=r.prototype;return t.setAbles=function(e){this.ables=e},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},r}(),pr=function(r){Gr(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.state=R({container:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},fn(null)),n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new qs,n._prevTarget=null,n._prevDragArea=!1,n._observer=null,n._observerId=0,n.onPreventClick=function(a){a.stopPropagation(),a.preventDefault(),Mt(window,"click",n.onPreventClick,!0)},n.checkUpdateRect=function(){if(!n.isDragging()){var a=n.props.parentMoveable;if(a){a.checkUpdateRect();return}Ro(n._observerId),n._observerId=pn(function(){n.isDragging()||n.updateRect()})}},n}var e=t.prototype;return e.render=function(){var n=this.props,a=this.state,i=n.parentPosition,o=n.className,s=n.target,u=n.zoom,f=n.cspNonce,l=n.translateZ,v=n.cssStyled,c=n.portalContainer;this.checkUpdate(),this.updateRenderPoses();var d=i||{left:0,top:0},p=d.left,h=d.top,g=a.left,m=a.top,b=a.target,S=a.direction,x=a.hasFixed,y=n.targets,M=(y&&y.length||s)&&b,E=this.isDragging(),D={};return this.getEnabledAbles().forEach(function(C){D["data-able-".concat(C.name.toLowerCase())]=!0}),Rt(v,R({cspNonce:f,ref:Gt(this,"controlBox"),className:"".concat(V("control-box",S===-1?"reverse":"",E?"dragging":"")," ").concat(o)},D,{onClick:this.onPreventClick,portalContainer:c,style:{position:x?"fixed":"absolute",display:M?"block":"none",transform:"translate3d(".concat(g-p,"px, ").concat(m-h,"px, ").concat(l,")"),"--zoom":u,"--zoompx":"".concat(u,"px")}}),this.renderAbles(),this._renderLines())},e.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var n=this.props,a=n.parentMoveable,i=n.container,o=n.wrapperMoveable;this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),!i&&!a&&!o&&this.updateRect("",!1,!0),this.updateCheckInput(),this._updateObserver(this.props)},e.componentDidUpdate=function(n){this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(n)},e.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off(),lr(this,"targetGesto"),lr(this,"controlGesto");var n=this.events;for(var a in n){var i=n[a];i&&i.destroy()}},e.getContainer=function(){var n=this.props,a=n.parentMoveable,i=n.wrapperMoveable,o=n.container;return o||i&&i.getContainer()||a&&a.getContainer()||this.controlBox.getElement().parentElement},e.isMoveableElement=function(n){return n&&(n.getAttribute("class")||"").indexOf(Mn)>-1},e.dragStart=function(n){var a=this.targetGesto;return a&&!a.isFlag()&&a.triggerDragStart(n),this},e.hitTest=function(n){var a=this.state,i=a.target,o=a.pos1,s=a.pos2,u=a.pos3,f=a.pos4,l=a.targetClientRect;if(!i)return 0;var v;if(n instanceof Element){var c=n.getBoundingClientRect();v={left:c.left,top:c.top,width:c.width,height:c.height}}else v=R({width:0,height:0},n);var d=v.left,p=v.top,h=v.width,g=v.height,m=ia([o,s,f,u],l),b=Es(m,[[d,p],[d+h,p],[d+h,p+g],[d,p+g]]),S=ri(m);return!b||!S?0:Math.min(100,b/S*100)},e.isInside=function(n,a){var i=this.state,o=i.target,s=i.pos1,u=i.pos2,f=i.pos3,l=i.pos4,v=i.targetClientRect;return o?qe([n,a],ia([s,u,l,f],v)):!1},e.updateRect=function(n,a,i){i===void 0&&(i=!0);var o=this.props,s=o.parentMoveable,u=this.state,f=u.target||this.props.target,l=this.getContainer(),v=s?s.props.rootContainer:o.rootContainer;this.updateState(fn(this.controlBox&&this.controlBox.getElement(),f,l,l,v||l),s?!1:i)},e.isDragging=function(){return(this.targetGesto?this.targetGesto.isFlag():!1)||(this.controlGesto?this.controlGesto.isFlag():!1)},e.updateTarget=function(n){this.updateRect(n,!0)},e.getRect=function(){var n=this.state,a=_t(this.state),i=a[0],o=a[1],s=a[2],u=a[3],f=wt(a),l=n.width,v=n.height,c=f.width,d=f.height,p=f.left,h=f.top,g=[n.left,n.top],m=H(g,n.origin),b=H(g,n.beforeOrigin),S=n.transformOrigin;return{width:c,height:d,left:p,top:h,pos1:i,pos2:o,pos3:s,pos4:u,offsetWidth:l,offsetHeight:v,beforeOrigin:b,origin:m,transformOrigin:S,rotation:this.getRotation()}},e.getManager=function(){return this},e.getRotation=function(){var n=this.state,a=n.pos1,i=n.pos2,o=n.direction;return _f(a,i,o)},e.request=function(n,a,i){a===void 0&&(a={});var o=this.props,s=o.ables,u=o.groupable,f=s.filter(function(g){return g.name===n})[0];if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var l=this,v=f.request(this),c=i||a.isInstant,d=v.isControl?"controlAbles":"targetAbles",p="".concat(u?"Group":"").concat(v.isControl?"Control":""),h={request:function(g){return _r(l,d,"drag",p,"",R(R({},v.request(g)),{requestAble:n,isRequest:!0}),c),this},requestEnd:function(){return _r(l,d,"drag",p,"End",R(R({},v.requestEnd()),{requestAble:n,isRequest:!0}),c),this}};return _r(l,d,"drag",p,"Start",R(R({},v.requestStart(a)),{requestAble:n,isRequest:!0}),c),c?h.request(a).requestEnd():h},e.destroy=function(){this.componentWillUnmount()},e.updateRenderPoses=function(){var n=this.state,a=this.props,i=n.originalBeforeOrigin,o=n.transformOrigin,s=n.allMatrix,u=n.is3d,f=n.pos1,l=n.pos2,v=n.pos3,c=n.pos4,d=n.left,p=n.top,h=a.padding||{},g=h.left,m=g===void 0?0:g,b=h.top,S=b===void 0?0:b,x=h.bottom,y=x===void 0?0:x,M=h.right,E=M===void 0?0:M,D=u?4:3,C=a.groupable?i:H(i,[d,p]);n.renderPoses=[H(f,Hr(s,[-m,-S],o,C,D)),H(l,Hr(s,[E,-S],o,C,D)),H(v,Hr(s,[-m,y],o,C,D)),H(c,Hr(s,[E,y],o,C,D))]},e.checkUpdate=function(){var n=this.props,a=n.target,i=n.container,o=n.parentMoveable,s=this.state,u=s.target,f=s.container;if(!(!u&&!a)){this.updateAbles();var l=!ln(u,a)||!ln(f,i);if(!!l){var v=i||this.controlBox;v&&this.unsetAbles(),this.updateState({target:a,container:i}),!o&&v&&this.updateRect("End",!1,!1)}}},e.triggerEvent=function(n,a){this._emitter.trigger(n,a);var i=this.props[n];return i&&i(a)},e.useCSS=function(n,a){var i=this.props.customStyledMap,o=n+a;return i[o]||(i[o]=si(n,a)),i[o]},e.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(a){a.unset&&a.unset(n)})},e.updateAbles=function(n,a){n===void 0&&(n=this.props.ables),a===void 0&&(a="");var i=this.props,o=i.triggerAblesSimultaneously,s=n.filter(function(d){return d&&(d.always&&i[d.name]!==!1||i[d.name])}),u="drag".concat(a,"Start"),f="pinch".concat(a,"Start"),l="drag".concat(a,"ControlStart"),v=Vr(s,[u,f],o),c=Vr(s,[l],o);this.enabledAbles=s,this.targetAbles=v,this.controlAbles=c},e.updateState=function(n,a){if(a){if(this.isUnmounted)return;this.setState(n)}else{var i=this.state;for(var o in n)i[o]=n[o]}},e.getEnabledAbles=function(){var n=this.props,a=n.ables;return a.filter(function(i){return i&&n[i.name]})},e.renderAbles=function(){var n=this,a=this.props,i=a.triggerAblesSimultaneously,o={createElement:Rt};return bf(Sf(Vr(this.getEnabledAbles(),["render"],i).map(function(s){var u=s.render;return u(n,o)||[]})).filter(function(s){return s}),function(s){var u=s.key;return u}).map(function(s){return s[0]})},e.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e._updateObserver=function(n){var a,i=this.props,o=i.target;if(!window.ResizeObserver||!o||!i.useResizeObserver){(a=this._observer)===null||a===void 0||a.disconnect();return}if(!(n.target===o&&this._observer)){var s=new ResizeObserver(this.checkUpdateRect);s.observe(o,{box:"border-box"}),this._observer=s}},e._updateEvents=function(){var n=this.controlBox.getElement(),a=this.targetAbles.length,i=this.controlAbles.length,o=this.props,s=o.dragTarget||o.target,u=!a&&this.targetGesto||this._isTargetChanged(!0);u&&(lr(this,"targetGesto"),this.updateState({gesto:null})),i||lr(this,"controlGesto"),s&&a&&!this.targetGesto&&(this.targetGesto=Qi(this,s,"")),!this.controlGesto&&i&&(this.controlGesto=Ln(this,n,"controlAbles","Control"))},e._updateTargets=function(){var n=this.props;this._prevTarget=n.dragTarget||n.target,this._prevDragArea=n.dragArea},e._renderLines=function(){var n=this.props,a=n.edge,i=n.zoom,o=n.hideDefaultLines;if(o)return[];var s=this.state.renderPoses,u={createElement:Rt};return[fr(u,a?"n":"",s[0],s[1],i,0),fr(u,a?"e":"",s[1],s[3],i,1),fr(u,a?"w":"",s[0],s[2],i,2),fr(u,a?"s":"",s[2],s[3],i,3)]},e._isTargetChanged=function(n){var a=this.props,i=a.dragTarget||a.target,o=this._prevTarget,s=this._prevDragArea,u=a.dragArea,f=!u&&o!==i,l=(n||u)&&s!==u;return f||l},e._updateNativeEvents=function(){var n=this,a=this.props,i=a.dragArea?this.areaElement:this.state.target,o=this.events,s=Fa(o);if(this._isTargetChanged())for(var u in o){var f=o[u];f&&f.destroy(),o[u]=null}if(!!i){var l=this.enabledAbles;s.forEach(function(v){var c=Vr(l,[v]),d=c.length>0,p=o[v];if(!d){p&&(p.destroy(),o[v]=null);return}p||(p=new jf(i,n,v),o[v]=p),p.setAbles(c)})}},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},flushSync:Ti},t}(bn),Yn={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(r,t){var e=r.props.targets||[];r.moveables=[];var n=r.state,a=n.left,i=n.top,o={left:a,top:i},s=r.props;return e.map(function(u,f){return t.createElement(pr,{key:"moveable"+f,ref:Ta(r,"moveables",f),target:u,origin:!1,cssStyled:s.cssStyled,customStyledMap:s.customStyledMap,useResizeObserver:s.useResizeObserver,parentMoveable:r,parentPosition:o})})}},$f=Ar("clickable",{props:{clickable:Boolean,preventClickDefault:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(r,t){t.isRequest||Tt(window,"click",r.onPreventClick,!0)},dragControlStart:function(r,t){this.dragStart(r,t)},dragGroupStart:function(r,t){this.dragStart(r,t),t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(r,t){this.endEvent(r);var e=r.state.target,n=t.inputEvent,a=t.inputTarget,i=r.isMoveableElement(a),o=!i&&r.controlBox.getElement().contains(a);if((!r.props.preventClickDefault&&!t.isDrag||o)&&this.unset(r),!(!n||!a||t.isDrag||r.isMoveableElement(a)||o)){var s=e.contains(a);F(r,"onClick",N(r,t,{isDouble:t.isDouble,inputTarget:a,isTarget:e===a,containsTarget:s}))}},dragGroupEnd:function(r,t){this.endEvent(r);var e=t.inputEvent,n=t.inputTarget;if(!(!e||!n||t.isDrag||r.isMoveableElement(n)||t.datas.inputTarget===n)){var a=r.props.targets,i=a.indexOf(n),o=i>-1,s=!1;i===-1&&(i=Ft(a,function(u){return u.contains(n)}),s=i>-1),F(r,"onClickGroup",N(r,t,{isDouble:t.isDouble,targets:a,inputTarget:n,targetIndex:i,isTarget:o,containsTarget:s}))}},dragControlEnd:function(r,t){this.dragEnd(r,t)},dragGroupControlEnd:function(r,t){this.dragEnd(r,t)},endEvent:function(r){var t=this;pn(function(){t.unset(r)})},unset:function(r){Mt(window,"click",r.onPreventClick,!0)}});function or(r){var t=r.originalDatas.draggable;return t||(r.originalDatas.draggable={},t=r.originalDatas.draggable),R(R({},r),{datas:t})}var Uf=Ar("edgeDraggable",{dragControlCondition:function(r,t){if(!r.props.edgeDraggable||!t.inputEvent)return!1;var e=t.inputEvent.target;return It(e,V("direction"))&&It(e,V("line"))},dragControlStart:function(r,t){return St.dragStart(r,or(t))},dragControl:function(r,t){return St.drag(r,or(t))},dragControlEnd:function(r,t){return St.dragEnd(r,or(t))},dragGroupControlCondition:function(r,t){if(!r.props.edgeDraggable||!t.inputEvent)return!1;var e=t.inputEvent.target;return It(e,V("direction"))&&It(e,V("line"))},dragGroupControlStart:function(r,t){return St.dragGroupStart(r,or(t))},dragGroupControl:function(r,t){return St.dragGroup(r,or(t))},dragGroupControlEnd:function(r,t){return St.dragGroupEnd(r,or(t))},unset:function(r){return St.unset(r)}}),to={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},Nn=[Zi,Vi,Vu,Df,St,Uf,au,Cf,Of,wf,If,zf,Tf,Wf,Xf,Hf,Yn,to,$f,Wi,Ji],Kf=Nn.reduce(function(r,t){return R(R({},r),"events"in t?t.events:{})},{}),Zf=Nn.reduce(function(r,t){return R(R({},r),t.props)},{}),Jf=xf(Kf),Qf=Object.keys(Jf),tl=Object.keys(Zf);function $r(r,t){return Math.max.apply(Math,r.map(function(e){var n=e[0],a=e[1],i=e[2],o=e[3];return Math.max(n[t],a[t],i[t],o[t])}))}function Ur(r,t){return Math.min.apply(Math,r.map(function(e){var n=e[0],a=e[1],i=e[2],o=e[3];return Math.min(n[t],a[t],i[t],o[t])}))}function rl(r,t){if(!r.length)return[0,0,0,0];var e=r.map(function(h){var g=h.state;return _t(g)}),n=xr,a=xr,i=0,o=0,s=q(t,Ct);if(s%90){var u=s/180*Math.PI,f=Math.tan(u),l=-1/f,v=[ua,xr],c=[ua,xr];e.forEach(function(h){h.forEach(function(g){var m=g[1]-f*g[0],b=g[1]-l*g[0];v[0]=Math.max(v[0],m),v[1]=Math.min(v[1],m),c[0]=Math.max(c[0],b),c[1]=Math.min(c[1],b)})}),v.forEach(function(h){c.forEach(function(g){var m=(g-h)/(f-l),b=f*m+h;n=Math.min(n,m),a=Math.min(a,b)})});var d=e.map(function(h){var g=h[0],m=h[1],b=h[2],S=h[3];return[qt(g,-u),qt(m,-u),qt(b,-u),qt(S,-u)]});i=$r(d,0)-Ur(d,0),o=$r(d,1)-Ur(d,1)}else if(n=Ur(e,0),a=Ur(e,1),i=$r(e,0)-n,o=$r(e,1)-a,s%180){var p=i;i=o,o=p}return[n,a,i,o]}var el=function(r){Gr(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.differ=new hs,n.moveables=[],n.transformOrigin="50% 50%",n}var e=t.prototype;return e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(n,a,i){if(i===void 0&&(i=!0),!!this.controlBox){this.moveables.forEach(function(P){P.updateRect(n,!1,!1)});var o=this.state,s=this.props,u=o.target||s.target;(!a||n!==""&&s.updateGroup)&&(this.rotation=s.defaultGroupRotate,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var f=this.rotation,l=this.scale,v=rl(this.moveables,f),c=v[0],d=v[1],p=v[2],h=v[3],g="rotate(".concat(f,"deg) scale(").concat(l[0]>=0?1:-1,", ").concat(l[1]>=0?1:-1,")");u.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(p,"px; height:").concat(h,"px;")+"transform:".concat(g),o.width=p,o.height=h;var m=this.getContainer(),b=fn(this.controlBox.getElement(),u,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||m),S=[b.left,b.top],x=_t(b),y=x[0],M=x[1],E=x[2],D=x[3],C=fe([y,M,E,D]),_=[C.minX,C.minY];b.pos1=X(y,_),b.pos2=X(M,_),b.pos3=X(E,_),b.pos4=X(D,_),b.left=c-b.left+_[0],b.top=d-b.top+_[1],b.origin=X(H(S,b.origin),_),b.beforeOrigin=X(H(S,b.beforeOrigin),_),b.originalBeforeOrigin=H(S,b.originalBeforeOrigin);var w=b.targetClientRect,O=l[0]*l[1]>0?1:-1;w.top+=b.top-o.top,w.left+=b.left-o.left,u.style.transform="translate(".concat(-_[0],"px, ").concat(-_[1],"px) ").concat(g),this.updateState(R(R({},b),{direction:O,beforeDirection:O}),i)}},e.getRect=function(){return R(R({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.triggerEvent=function(n,a,i){if(i||n.indexOf("Group")>-1)return r.prototype.triggerEvent.call(this,n,a);this._emitter.trigger(n,a)},e.updateAbles=function(){r.prototype.updateAbles.call(this,Y(Y([],this.props.ables,!0),[Yn],!1),"Group")},e._updateTargets=function(){r.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},e._updateEvents=function(){var n=this.state,a=this.props,i=this._prevTarget,o=a.dragTarget||this.areaElement;i!==o&&(lr(this,"targetGesto"),lr(this,"controlGesto"),n.target=null),n.target||(n.target=this.areaElement,this.controlBox.getElement().style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=Qi(this,o,"Group")),this.controlGesto||(this.controlGesto=Ln(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var s=!ln(n.container,a.container);s&&(n.container=a.container);var u=this.differ.update(a.targets),f=u.added,l=u.changed,v=u.removed;(s||f.length||l.length||v.length)&&this.updateRect()},e._updateObserver=function(){},t.defaultProps=R(R({},pr.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(pr),nl=function(r){Gr(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.moveables=[],n}var e=t.prototype;return e.render=function(){var n=this,a=this.props,i=a.cspNonce,o=a.cssStyled,s=a.targets;return Rt(o,{cspNonce:i,ref:Gt(this,"controlBox"),className:V("control-box")},s.map(function(u,f){return Rt(pr,R({key:"moveable"+f,ref:Ta(n,"moveables",f)},n.props,{target:u,wrapperMoveable:n}))}))},e.componentDidUpdate=function(){},e.updateRect=function(n,a,i){i===void 0&&(i=!0),this.moveables.forEach(function(o){o.updateRect(n,a,i)})},e.getRect=function(){return R(R({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},e.dragStart=function(){return this},e.hitTest=function(){return 0},e.isInside=function(){return!1},e.isDragging=function(){return!1},e.updateRenderPoses=function(){},e.checkUpdate=function(){},e.triggerEvent=function(){},e.updateAbles=function(){},e._updateEvents=function(){},e._updateObserver=function(){},t}(pr),al=function(r){Gr(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n}var e=t.prototype;return t.makeStyled=function(){var n={},a=this.getTotalAbles();a.forEach(function(o){var s=o.css;!s||s.forEach(function(u){n[u]=!0})});var i=Fa(n).join(`
`);this.defaultStyled=si("div",fo(Mn,Js+i))},t.getTotalAbles=function(){return Y([Vi,Yn,to,Wi],this.defaultAbles,!0)},e.render=function(){var n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,i=a.ables,o=a.props,s=js(a,["ables","props"]),u=this._updateRefs(!0),f=yf(u,this.selectorMap),l=f.length>1,v=n.getTotalAbles(),c=Y(Y([],v,!0),i||[],!0),d=R(R(R({},s),o||{}),{ables:c,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});return l?s.individualGroupable?Rt(nl,R({key:"individual-group",ref:Gt(this,"moveable")},d,{target:null,targets:f})):Rt(el,R({key:"group",ref:Gt(this,"moveable")},d,{target:null,targets:f})):Rt(pr,R({key:"single",ref:Gt(this,"moveable")},d,{target:f[0]}))},e.componentDidMount=function(){this._updateRefs()},e.componentDidUpdate=function(){this._updateRefs()},e.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.getManager=function(){return this.moveable},e._updateRefs=function(n){var a=this.refTargets,i=Li(this.props.target||this.props.targets),o=typeof document<"u",s=a.length!==i.length||a.some(function(l,v){var c=i[v];return!l&&!c?!1:l!==c}),u=this.selectorMap,f={};return this.refTargets.forEach(function(l){if(zt(l)){var v=u[l];v?f[l]=u[l]:o&&(s=!0,f[l]=[].slice.call(document.querySelectorAll(l)))}}),this.refTargets=i,this.selectorMap=f,!n&&s&&this.forceUpdate(),i},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,$s([lo(ci)],t.prototype,"moveable",void 0),t}(bn),il=function(r){Gr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.defaultAbles=Nn,t}(al),ol=il;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cn=function(r,t){return cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},cn(r,t)};function Xn(r,t){cn(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Pr=function(){return Pr=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pr.apply(this,arguments)};function sl(r,t,e,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(i=(a<3?o(i):a>3?o(t,e,i):o(t,e))||i);return a>3&&i&&Object.defineProperty(t,e,i),i}var ul=function(r){Xn(t,r);function t(n){var a=r.call(this,n)||this;return a.state={},a.state=a.props,a}var e=t.prototype;return e.render=function(){return jo(Rt(ol,Pr({ref:Gt(this,"moveable")},this.state)),this.state.parentElement)},t}(mn),fl=tl,ll=ci,cl=Qf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vn=function(){return vn=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vn.apply(this,arguments)};function vl(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var dl=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(kt(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(kt(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=Ft(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,vl(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push(vn({listener:n},a))},r}(),pl=dl,hl=function(r){Xn(t,r);function t(n,a){a===void 0&&(a={});var i=r.call(this)||this;i.tempElement=document.createElement("div");var o=Pr({},a),s={};cl.forEach(function(f){s[Oo("on ".concat(f))]=function(l){return i.trigger(f,l)}}),na(Rt(ul,Pr({ref:Gt(i,"innerMoveable"),parentElement:n},o,s)),i.tempElement);var u=o.target;return er(u)&&u.length>1&&i.updateRect(),i}var e=t.prototype;return e.setState=function(n,a){this.innerMoveable.setState(n,a)},e.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},e.dragStart=function(n){var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},e.destroy=function(){na(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=sl([Kn(ll,function(n,a){n[a]||(n[a]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[a]))return s[a].apply(s,i)})}),Kn(fl,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(i){var o;this.setState((o={},o[a]=i,o))},enumerable:!0,configurable:!0})})],t),t}(pl),gl=function(r){Xn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(hl);export{gl as M};
